import { Playground } from '../../components/Playground'

# REST API –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è

–†–∞–±–æ—Ç–∞ —Å RESTful API —á–µ—Ä–µ–∑ jQuery.

## REST –ø—Ä–∏–Ω—Ü–∏–ø—ã

GET, POST, PUT, DELETE

```javascript
// –ü—Ä–∏–º–µ—Ä –∫–æ–¥–∞ –¥–ª—è REST –ø—Ä–∏–Ω—Ü–∏–ø—ã
$('.example').text('Hello from REST –ø—Ä–∏–Ω—Ü–∏–ø—ã');
```

## CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏

Create, Read, Update, Delete

```javascript
// –ü—Ä–∏–º–µ—Ä –∫–æ–¥–∞ –¥–ª—è CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏
$('.example').text('Hello from CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏');
```

## –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è

Headers, tokens

```javascript
// –ü—Ä–∏–º–µ—Ä –∫–æ–¥–∞ –¥–ª—è –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
$('.example').text('Hello from –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è');
```

## CORS

–ö—Ä–æ—Å—Å-–¥–æ–º–µ–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã

```javascript
// –ü—Ä–∏–º–µ—Ä –∫–æ–¥–∞ –¥–ª—è CORS
$('.example').text('Hello from CORS');
```

## üöÄ –ü—Ä–∞–∫—Ç–∏–∫–∞

<Sandpack 
  template="static"
  files={{
    'index.html': `<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>REST API CRUD</title>
  <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  <style>
    body {
      font-family: system-ui, -apple-system, sans-serif;
      max-width: 900px;
      margin: 40px auto;
      padding: 20px;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    }
    .container {
      background: white;
      padding: 30px;
      border-radius: 12px;
      box-shadow: 0 10px 40px rgba(0,0,0,0.2);
    }
    h2 {
      color: #667eea;
      margin-top: 0;
    }
    .crud-buttons {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 10px;
      margin-bottom: 30px;
    }
    .crud-btn {
      padding: 15px 10px;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      font-size: 13px;
      font-weight: 600;
      color: white;
      transition: all 0.3s;
    }
    .crud-btn:hover {
      transform: translateY(-3px);
      box-shadow: 0 5px 15px rgba(0,0,0,0.3);
    }
    .btn-create {
      background: linear-gradient(135deg, #11998e 0%, #38ef7d 100%);
    }
    .btn-read {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    }
    .btn-update {
      background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
    }
    .btn-delete {
      background: linear-gradient(135deg, #fa709a 0%, #fee140 100%);
    }
    .form-section {
      background: #f8f9fa;
      padding: 20px;
      border-radius: 10px;
      margin-bottom: 20px;
      display: none;
    }
    .form-section.show {
      display: block;
      animation: slideDown 0.3s ease-out;
    }
    @keyframes slideDown {
      from {
        opacity: 0;
        transform: translateY(-20px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }
    .form-group {
      margin-bottom: 15px;
    }
    .form-group label {
      display: block;
      margin-bottom: 8px;
      font-weight: 600;
      color: #333;
      font-size: 14px;
    }
    .form-group input,
    .form-group textarea {
      width: 100%;
      padding: 12px;
      border: 2px solid #e0e0e0;
      border-radius: 8px;
      font-size: 14px;
      font-family: inherit;
      box-sizing: border-box;
    }
    .form-group textarea {
      resize: vertical;
      min-height: 80px;
    }
    .form-group input:focus,
    .form-group textarea:focus {
      outline: none;
      border-color: #667eea;
    }
    .submit-btn {
      width: 100%;
      padding: 14px;
      border: none;
      border-radius: 8px;
      font-size: 15px;
      font-weight: 600;
      cursor: pointer;
      color: white;
      transition: all 0.3s;
    }
    .submit-btn:hover {
      transform: translateY(-2px);
    }
    .result {
      margin-top: 20px;
      padding: 20px;
      border-radius: 10px;
      display: none;
    }
    .result.show {
      display: block;
      animation: fadeIn 0.3s ease-out;
    }
    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }
    .result.success {
      background: #d4edda;
      border-left: 4px solid #28a745;
      color: #155724;
    }
    .result.error {
      background: #f8d7da;
      border-left: 4px solid #dc3545;
      color: #721c24;
    }
    .result h4 {
      margin: 0 0 10px 0;
    }
    .json-display {
      background: #2c3e50;
      color: #ecf0f1;
      padding: 15px;
      border-radius: 8px;
      overflow-x: auto;
      font-family: 'Courier New', monospace;
      font-size: 12px;
      margin-top: 10px;
    }
    .method-badge {
      display: inline-block;
      padding: 4px 10px;
      border-radius: 4px;
      font-size: 11px;
      font-weight: 700;
      margin-right: 8px;
    }
    .method-post {
      background: #28a745;
      color: white;
    }
    .method-get {
      background: #007bff;
      color: white;
    }
    .method-put {
      background: #ffc107;
      color: #000;
    }
    .method-delete {
      background: #dc3545;
      color: white;
    }
    .posts-list {
      display: grid;
      gap: 12px;
      margin-top: 15px;
    }
    .post-item {
      background: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%);
      padding: 15px;
      border-radius: 8px;
      cursor: pointer;
      transition: transform 0.3s;
    }
    .post-item:hover {
      transform: translateX(5px);
    }
    .post-item h4 {
      margin: 0 0 8px 0;
      color: #d63031;
      font-size: 15px;
    }
    .post-item p {
      margin: 0;
      font-size: 13px;
      color: #555;
    }
  </style>
</head>
<body>
  <div class="container">
    <h2>üîÑ REST API - CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏</h2>
    <p style="color: #666; margin-bottom: 20px;">
      –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è —Ä–∞–±–æ—Ç—ã —Å RESTful API —á–µ—Ä–µ–∑ jQuery
    </p>
    
    <div class="crud-buttons">
      <button class="crud-btn btn-create">
        ‚ûï CREATE<br><small>(POST)</small>
      </button>
      <button class="crud-btn btn-read">
        üìñ READ<br><small>(GET)</small>
      </button>
      <button class="crud-btn btn-update">
        ‚úèÔ∏è UPDATE<br><small>(PUT)</small>
      </button>
      <button class="crud-btn btn-delete">
        üóëÔ∏è DELETE<br><small>(DELETE)</small>
      </button>
    </div>
    
    <!-- CREATE Form -->
    <div class="form-section" id="createForm">
      <h3 style="color: #11998e; margin-top: 0;">‚ûï –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π –ø–æ—Å—Ç</h3>
      <div class="form-group">
        <label>–ó–∞–≥–æ–ª–æ–≤–æ–∫:</label>
        <input type="text" id="createTitle" placeholder="–í–≤–µ–¥–∏—Ç–µ –∑–∞–≥–æ–ª–æ–≤–æ–∫">
      </div>
      <div class="form-group">
        <label>–¢–µ–∫—Å—Ç:</label>
        <textarea id="createBody" placeholder="–í–≤–µ–¥–∏—Ç–µ —Å–æ–¥–µ—Ä–∂–∞–Ω–∏–µ"></textarea>
      </div>
      <button class="submit-btn btn-create" onclick="createPost()">
        ‚ûï –°–æ–∑–¥–∞—Ç—å –ø–æ—Å—Ç
      </button>
    </div>
    
    <!-- READ Form -->
    <div class="form-section" id="readForm">
      <h3 style="color: #667eea; margin-top: 0;">üìñ –ü–æ–ª—É—á–∏—Ç—å –ø–æ—Å—Ç—ã</h3>
      <div class="form-group">
        <label>ID –ø–æ—Å—Ç–∞ (–æ—Å—Ç–∞–≤—å—Ç–µ –ø—É—Å—Ç—ã–º –¥–ª—è –≤—Å–µ—Ö):</label>
        <input type="number" id="readId" placeholder="1" min="1">
      </div>
      <button class="submit-btn btn-read" onclick="readPosts()">
        üìñ –ü–æ–ª—É—á–∏—Ç—å –¥–∞–Ω–Ω—ã–µ
      </button>
    </div>
    
    <!-- UPDATE Form -->
    <div class="form-section" id="updateForm">
      <h3 style="color: #f5576c; margin-top: 0;">‚úèÔ∏è –û–±–Ω–æ–≤–∏—Ç—å –ø–æ—Å—Ç</h3>
      <div class="form-group">
        <label>ID –ø–æ—Å—Ç–∞:</label>
        <input type="number" id="updateId" placeholder="1" min="1">
      </div>
      <div class="form-group">
        <label>–ù–æ–≤—ã–π –∑–∞–≥–æ–ª–æ–≤–æ–∫:</label>
        <input type="text" id="updateTitle" placeholder="–û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π –∑–∞–≥–æ–ª–æ–≤–æ–∫">
      </div>
      <div class="form-group">
        <label>–ù–æ–≤—ã–π —Ç–µ–∫—Å—Ç:</label>
        <textarea id="updateBody" placeholder="–û–±–Ω–æ–≤–ª–µ–Ω–Ω–æ–µ —Å–æ–¥–µ—Ä–∂–∞–Ω–∏–µ"></textarea>
      </div>
      <button class="submit-btn btn-update" onclick="updatePost()">
        ‚úèÔ∏è –û–±–Ω–æ–≤–∏—Ç—å –ø–æ—Å—Ç
      </button>
    </div>
    
    <!-- DELETE Form -->
    <div class="form-section" id="deleteForm">
      <h3 style="color: #fa709a; margin-top: 0;">üóëÔ∏è –£–¥–∞–ª–∏—Ç—å –ø–æ—Å—Ç</h3>
      <div class="form-group">
        <label>ID –ø–æ—Å—Ç–∞ –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è:</label>
        <input type="number" id="deleteId" placeholder="1" min="1">
      </div>
      <button class="submit-btn btn-delete" onclick="deletePost()">
        üóëÔ∏è –£–¥–∞–ª–∏—Ç—å –ø–æ—Å—Ç
      </button>
    </div>
    
    <div class="result" id="result"></div>
  </div>

  <script>
    const API_URL = 'https://jsonplaceholder.typicode.com/posts';
    
    // Toggle forms
    $('.crud-btn').click(function() {
      $('.form-section').removeClass('show');
      $('#result').removeClass('show');
      
      if ($(this).hasClass('btn-create')) {
        $('#createForm').addClass('show');
      } else if ($(this).hasClass('btn-read')) {
        $('#readForm').addClass('show');
      } else if ($(this).hasClass('btn-update')) {
        $('#updateForm').addClass('show');
      } else if ($(this).hasClass('btn-delete')) {
        $('#deleteForm').addClass('show');
      }
    });
    
    // CREATE - POST request
    function createPost() {
      const title = $('#createTitle').val();
      const body = $('#createBody').val();
      
      if (!title || !body) {
        showResult('error', '–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –≤—Å–µ –ø–æ–ª—è!');
        return;
      }
      
      $.ajax({
        url: API_URL,
        method: 'POST',
        contentType: 'application/json',
        data: JSON.stringify({
          title: title,
          body: body,
          userId: 1
        })
      })
      .done(function(response) {
        showResult('success', 
          \`<span class="method-badge method-post">POST</span>
          <h4>‚úÖ –ü–æ—Å—Ç —É—Å–ø–µ—à–Ω–æ —Å–æ–∑–¥–∞–Ω!</h4>
          <p><strong>ID –Ω–æ–≤–æ–≥–æ –ø–æ—Å—Ç–∞:</strong> \${response.id}</p>
          <div class="json-display"><pre>\${JSON.stringify(response, null, 2)}</pre></div>\`
        );
        $('#createTitle, #createBody').val('');
      })
      .fail(function() {
        showResult('error', '–û—à–∏–±–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è –ø–æ—Å—Ç–∞');
      });
    }
    
    // READ - GET request
    function readPosts() {
      const id = $('#readId').val();
      const url = id ? \`\${API_URL}/\${id}\` : \`\${API_URL}?_limit=5\`;
      
      $.ajax({
        url: url,
        method: 'GET'
      })
      .done(function(response) {
        let html = \`<span class="method-badge method-get">GET</span>
                    <h4>üìñ –î–∞–Ω–Ω—ã–µ –ø–æ–ª—É—á–µ–Ω—ã</h4>\`;
        
        if (Array.isArray(response)) {
          html += \`<p>–ü–æ–ª—É—á–µ–Ω–æ –ø–æ—Å—Ç–æ–≤: <strong>\${response.length}</strong></p>
                   <div class="posts-list">\`;
          response.forEach(function(post) {
            html += \`
              <div class="post-item">
                <h4>#\${post.id}: \${post.title}</h4>
                <p>\${post.body.substring(0, 100)}...</p>
              </div>
            \`;
          });
          html += '</div>';
        } else {
          html += \`
            <div class="post-item">
              <h4>#\${response.id}: \${response.title}</h4>
              <p>\${response.body}</p>
            </div>
            <div class="json-display"><pre>\${JSON.stringify(response, null, 2)}</pre></div>
          \`;
        }
        
        showResult('success', html);
      })
      .fail(function() {
        showResult('error', '–û—à–∏–±–∫–∞ –ø–æ–ª—É—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö');
      });
    }
    
    // UPDATE - PUT request
    function updatePost() {
      const id = $('#updateId').val();
      const title = $('#updateTitle').val();
      const body = $('#updateBody').val();
      
      if (!id || !title || !body) {
        showResult('error', '–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –≤—Å–µ –ø–æ–ª—è!');
        return;
      }
      
      $.ajax({
        url: \`\${API_URL}/\${id}\`,
        method: 'PUT',
        contentType: 'application/json',
        data: JSON.stringify({
          id: parseInt(id),
          title: title,
          body: body,
          userId: 1
        })
      })
      .done(function(response) {
        showResult('success', 
          \`<span class="method-badge method-put">PUT</span>
          <h4>‚úèÔ∏è –ü–æ—Å—Ç #\${id} –æ–±–Ω–æ–≤–ª–µ–Ω!</h4>
          <div class="json-display"><pre>\${JSON.stringify(response, null, 2)}</pre></div>\`
        );
      })
      .fail(function() {
        showResult('error', '–û—à–∏–±–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ø–æ—Å—Ç–∞');
      });
    }
    
    // DELETE - DELETE request
    function deletePost() {
      const id = $('#deleteId').val();
      
      if (!id) {
        showResult('error', '–í–≤–µ–¥–∏—Ç–µ ID –ø–æ—Å—Ç–∞!');
        return;
      }
      
      $.ajax({
        url: \`\${API_URL}/\${id}\`,
        method: 'DELETE'
      })
      .done(function(response) {
        showResult('success', 
          \`<span class="method-badge method-delete">DELETE</span>
          <h4>üóëÔ∏è –ü–æ—Å—Ç #\${id} —É–¥–∞–ª–µ–Ω!</h4>
          <p>–û—Ç–≤–µ—Ç —Å–µ—Ä–≤–µ—Ä–∞:</p>
          <div class="json-display"><pre>\${JSON.stringify(response, null, 2)}</pre></div>\`
        );
        $('#deleteId').val('');
      })
      .fail(function() {
        showResult('error', '–û—à–∏–±–∫–∞ —É–¥–∞–ª–µ–Ω–∏—è –ø–æ—Å—Ç–∞');
      });
    }
    
    function showResult(type, message) {
      $('#result').removeClass('success error').addClass(type + ' show');
      $('#result').html(message);
    }
  </script>
</body>
</html>`,
  }}
/>

---

**–°–ª–µ–¥—É—é—â–∏–π —É—Ä–æ–∫:** [–î–µ–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–±—ã—Ç–∏–π ‚Üí](/jquery/event-delegation)
