import { Sandpack } from '@codesandbox/sandpack-react'
import { Playground } from '../../components/Playground'

# –î–µ–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–±—ã—Ç–∏–π

–≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–±—ã—Ç–∏–π –¥–ª—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤.

## –ß—Ç–æ —ç—Ç–æ

Event delegation –∫–æ–Ω—Ü–µ–ø—Ü–∏—è

```javascript
// –ü—Ä–∏–º–µ—Ä –∫–æ–¥–∞ –¥–ª—è –ß—Ç–æ —ç—Ç–æ
$('.example').text('Hello from –ß—Ç–æ —ç—Ç–æ');
```

## .on() —Å –¥–µ–ª–µ–≥–∞—Ü–∏–µ–π

–°–∏–Ω—Ç–∞–∫—Å–∏—Å

```javascript
// –ü—Ä–∏–º–µ—Ä –∫–æ–¥–∞ –¥–ª—è .on() —Å –¥–µ–ª–µ–≥–∞—Ü–∏–µ–π
$('.example').text('Hello from .on() —Å –¥–µ–ª–µ–≥–∞—Ü–∏–µ–π');
```

## –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

–ü–æ—á–µ–º—É —ç—Ç–æ –±—ã—Å—Ç—Ä–µ–µ

```javascript
// –ü—Ä–∏–º–µ—Ä –∫–æ–¥–∞ –¥–ª—è –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
$('.example').text('Hello from –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å');
```

## –ü—Ä–∞–∫—Ç–∏–∫–∞

–î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ —Å–ø–∏—Å–∫–∏

```javascript
// –ü—Ä–∏–º–µ—Ä –∫–æ–¥–∞ –¥–ª—è –ü—Ä–∞–∫—Ç–∏–∫–∞
$('.example').text('Hello from –ü—Ä–∞–∫—Ç–∏–∫–∞');
```

## üöÄ –ü—Ä–∞–∫—Ç–∏–∫–∞

<Sandpack 
  template="static"
  files={{
    'index.html': `<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Event Delegation</title>
  <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <h1>üéØ –î–µ–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –°–æ–±—ã—Ç–∏–π</h1>
  
  <div class="demo">
    <h2>‚ùå –ë–µ–∑ –¥–µ–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–∏—è (–Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –¥–ª—è –Ω–æ–≤—ã—Ö)</h2>
    <div class="controls">
      <input type="text" id="task1" placeholder="–ù–æ–≤–∞—è –∑–∞–¥–∞—á–∞...">
      <button id="add1">–î–æ–±–∞–≤–∏—Ç—å</button>
    </div>
    <ul id="list1" class="task-list">
      <li class="task">–ó–∞–¥–∞—á–∞ 1 <button class="delete-direct">‚úñ</button></li>
      <li class="task">–ó–∞–¥–∞—á–∞ 2 <button class="delete-direct">‚úñ</button></li>
    </ul>
    <p class="info">‚ö†Ô∏è –ö–Ω–æ–ø–∫–∏ —É–¥–∞–ª–µ–Ω–∏—è —Ä–∞–±–æ—Ç–∞—é—Ç —Ç–æ–ª—å–∫–æ –Ω–∞ –∏–∑–Ω–∞—á–∞–ª—å–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–∞—Ö</p>
  </div>

  <div class="demo">
    <h2>‚úÖ –° –¥–µ–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ–º (—Ä–∞–±–æ—Ç–∞–µ—Ç –¥–ª—è –≤—Å–µ—Ö)</h2>
    <div class="controls">
      <input type="text" id="task2" placeholder="–ù–æ–≤–∞—è –∑–∞–¥–∞—á–∞...">
      <button id="add2">–î–æ–±–∞–≤–∏—Ç—å</button>
    </div>
    <ul id="list2" class="task-list">
      <li class="task">–ó–∞–¥–∞—á–∞ 1 <button class="delete-delegated">‚úñ</button></li>
      <li class="task">–ó–∞–¥–∞—á–∞ 2 <button class="delete-delegated">‚úñ</button></li>
    </ul>
    <p class="info">‚ú® –î–µ–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ .on() —Ä–∞–±–æ—Ç–∞–µ—Ç –¥–ª—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤!</p>
  </div>

  <div class="stats">
    <h3>üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</h3>
    <div id="eventCount">–û–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ —Å–æ–±—ã—Ç–∏–π: <span id="count">2</span></div>
    <p class="note">–° –¥–µ–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ–º: 1 –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –Ω–∞ —Ä–æ–¥–∏—Ç–µ–ª–µ –≤–º–µ—Å—Ç–æ N –Ω–∞ –¥–µ—Ç—è—Ö = –º–µ–Ω—å—à–µ –ø–∞–º—è—Ç–∏!</p>
  </div>

  <script src="script.js"></script>
</body>
</html>`,
    'styles.css': `body {
  font-family: Arial, sans-serif;
  max-width: 900px;
  margin: 0 auto;
  padding: 20px;
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  color: #fff;
}

h1 {
  text-align: center;
  margin-bottom: 30px;
}

.demo {
  background: rgba(255, 255, 255, 0.1);
  padding: 20px;
  margin-bottom: 20px;
  border-radius: 10px;
  backdrop-filter: blur(10px);
}

h2 {
  margin-top: 0;
  font-size: 1.2em;
}

.controls {
  display: flex;
  gap: 10px;
  margin-bottom: 15px;
}

input[type="text"] {
  flex: 1;
  padding: 10px;
  border: none;
  border-radius: 5px;
  font-size: 1em;
}

button {
  background: #fff;
  color: #667eea;
  border: none;
  padding: 10px 20px;
  border-radius: 5px;
  cursor: pointer;
  font-weight: bold;
  transition: all 0.2s;
}

button:hover {
  transform: scale(1.05);
  box-shadow: 0 4px 10px rgba(0,0,0,0.2);
}

button:active {
  transform: scale(0.95);
}

.task-list {
  list-style: none;
  padding: 0;
  margin: 0;
}

.task {
  background: rgba(255, 255, 255, 0.9);
  color: #333;
  padding: 12px 15px;
  margin-bottom: 8px;
  border-radius: 5px;
  display: flex;
  justify-content: space-between;
  align-items: center;
  animation: slideIn 0.3s ease;
}

@keyframes slideIn {
  from {
    opacity: 0;
    transform: translateX(-20px);
  }
  to {
    opacity: 1;
    transform: translateX(0);
  }
}

.delete-direct,
.delete-delegated {
  background: #ef4444;
  color: white;
  padding: 5px 10px;
  font-size: 0.9em;
  min-width: 35px;
}

.delete-direct:hover,
.delete-delegated:hover {
  background: #dc2626;
}

.info {
  margin-top: 10px;
  font-size: 0.9em;
  opacity: 0.9;
}

.stats {
  background: rgba(16, 185, 129, 0.2);
  padding: 20px;
  border-radius: 10px;
}

.stats h3 {
  margin-top: 0;
}

#eventCount {
  font-size: 1.2em;
  font-weight: bold;
}

#count {
  color: #10b981;
  font-size: 1.3em;
}

.note {
  margin-top: 10px;
  font-size: 0.9em;
  opacity: 0.9;
}`,
    'script.js': `$(document).ready(function() {
  let eventHandlerCount = 2; // –ù–∞—á–∞–ª—å–Ω—ã–π —Å—á–µ—Ç—á–∏–∫

  // ‚ùå –ë–ï–ó –î–ï–õ–ï–ì–ò–†–û–í–ê–ù–ò–Ø - –ø—Ä–∏–≤—è–∑—ã–≤–∞–µ–º—Å—è –Ω–∞–ø—Ä—è–º—É—é –∫ –∫–Ω–æ–ø–∫–∞–º
  // –≠—Ç–æ –ù–ï –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –¥–ª—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –¥–æ–±–∞–≤–ª–µ–Ω–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤!
  $('.delete-direct').click(function() {
    $(this).parent().fadeOut(300, function() {
      $(this).remove();
    });
  });

  // –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∑–∞–¥–∞—á–∏ –ë–ï–ó –¥–µ–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
  $('#add1').click(function() {
    const taskText = $('#task1').val().trim();
    if (taskText) {
      $('#list1').append(
        \`<li class="task">\${taskText} <button class="delete-direct">‚úñ</button></li>\`
      );
      $('#task1').val('');
      
      // ‚ö†Ô∏è –ü—Ä–æ–±–ª–µ–º–∞: –Ω–æ–≤–∞—è –∫–Ω–æ–ø–∫–∞ –ù–ï –∏–º–µ–µ—Ç –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞!
      // –ù—É–∂–Ω–æ –≤—Ä—É—á–Ω—É—é –¥–æ–±–∞–≤–ª—è—Ç—å –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –¥–ª—è –∫–∞–∂–¥–æ–π –Ω–æ–≤–æ–π –∫–Ω–æ–ø–∫–∏
      eventHandlerCount++; // –ö–∞–∂–¥–∞—è –∫–Ω–æ–ø–∫–∞ = –Ω–æ–≤—ã–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫
      updateCount();
    }
  });

  // ‚úÖ –° –î–ï–õ–ï–ì–ò–†–û–í–ê–ù–ò–ï–ú - –ø—Ä–∏–≤—è–∑—ã–≤–∞–µ–º—Å—è –∫ —Ä–æ–¥–∏—Ç–µ–ª—é
  // –†–∞–±–æ—Ç–∞–µ—Ç –¥–ª—è –í–°–ï–• —Ç–µ–∫—É—â–∏—Ö –∏ –±—É–¥—É—â–∏—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤!
  $('#list2').on('click', '.delete-delegated', function() {
    $(this).parent().fadeOut(300, function() {
      $(this).remove();
    });
  });

  // –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∑–∞–¥–∞—á–∏ –° –¥–µ–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ–º
  $('#add2').click(function() {
    const taskText = $('#task2').val().trim();
    if (taskText) {
      $('#list2').append(
        \`<li class="task">\${taskText} <button class="delete-delegated">‚úñ</button></li>\`
      );
      $('#task2').val('');
      
      // ‚ú® –ù–æ–≤—ã–µ –∫–Ω–æ–ø–∫–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ä–∞–±–æ—Ç–∞—é—Ç!
      // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ –Ω–µ –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è - –∏—Å–ø–æ–ª—å–∑—É–µ–º —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –Ω–∞ #list2
    }
  });

  // Enter –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è
  $('#task1, #task2').keypress(function(e) {
    if (e.which === 13) {
      const addBtn = $(this).attr('id') === 'task1' ? '#add1' : '#add2';
      $(addBtn).click();
    }
  });

  function updateCount() {
    $('#count').text(eventHandlerCount);
  }

  updateCount();
});`
  }}
/>

---

**–°–ª–µ–¥—É—é—â–∏–π —É—Ä–æ–∫:** [–ö–∞—Å—Ç–æ–º–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è ‚Üí](/jquery/custom-events)
