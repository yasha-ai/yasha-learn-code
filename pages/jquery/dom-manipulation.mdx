import { Sandpack } from '@codesandbox/sandpack-react'
import { Playground } from '../../components/Playground'

# –ú–∞–Ω–∏–ø—É–ª—è—Ü–∏—è DOM

jQuery –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –º–æ—â–Ω—ã–µ –º–µ—Ç–æ–¥—ã –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å—Ç—Ä—É–∫—Ç—É—Ä—ã —Å—Ç—Ä–∞–Ω–∏—Ü—ã.

## –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–æ–≤

.append(), .prepend(), .after(), .before()

```javascript
// –ü—Ä–∏–º–µ—Ä –∫–æ–¥–∞ –¥–ª—è –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–æ–≤
$('.example').text('Hello from –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–æ–≤');
```

## –£–¥–∞–ª–µ–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–æ–≤

.remove(), .empty(), .detach()

```javascript
// –ü—Ä–∏–º–µ—Ä –∫–æ–¥–∞ –¥–ª—è –£–¥–∞–ª–µ–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–æ–≤
$('.example').text('Hello from –£–¥–∞–ª–µ–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–æ–≤');
```

## –ó–∞–º–µ–Ω–∞ —ç–ª–µ–º–µ–Ω—Ç–æ–≤

.replaceWith(), .replaceAll()

```javascript
// –ü—Ä–∏–º–µ—Ä –∫–æ–¥–∞ –¥–ª—è –ó–∞–º–µ–Ω–∞ —ç–ª–µ–º–µ–Ω—Ç–æ–≤
$('.example').text('Hello from –ó–∞–º–µ–Ω–∞ —ç–ª–µ–º–µ–Ω—Ç–æ–≤');
```

## –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ

.clone()

```javascript
// –ü—Ä–∏–º–µ—Ä –∫–æ–¥–∞ –¥–ª—è –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ
$('.example').text('Hello from –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ');
```

## –û–±–æ—Ä–∞—á–∏–≤–∞–Ω–∏–µ

.wrap(), .wrapAll(), .unwrap()

```javascript
// –ü—Ä–∏–º–µ—Ä –∫–æ–¥–∞ –¥–ª—è –û–±–æ—Ä–∞—á–∏–≤–∞–Ω–∏–µ
$('.example').text('Hello from –û–±–æ—Ä–∞—á–∏–≤–∞–Ω–∏–µ');
```

## üöÄ –ü—Ä–∞–∫—Ç–∏–∫–∞

<Sandpack 
  template="static"
  files={{
    'index.html': `<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>jQuery DOM Manipulation</title>
  <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    body {
      font-family: system-ui, -apple-system, sans-serif;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      min-height: 100vh;
      padding: 30px 20px;
    }
    .container {
      max-width: 1000px;
      margin: 0 auto;
      background: white;
      border-radius: 20px;
      padding: 40px;
      box-shadow: 0 20px 60px rgba(0,0,0,0.3);
    }
    h1 {
      text-align: center;
      color: #667eea;
      margin-bottom: 40px;
    }
    .section {
      background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
      padding: 30px;
      margin-bottom: 25px;
      border-radius: 15px;
      box-shadow: 0 5px 15px rgba(0,0,0,0.1);
    }
    .section h2 {
      color: #667eea;
      margin-bottom: 20px;
      font-size: 22px;
    }
    button {
      padding: 10px 18px;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      font-weight: 600;
      font-size: 13px;
      transition: all 0.3s;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      box-shadow: 0 3px 8px rgba(0,0,0,0.15);
      margin: 5px;
    }
    button:hover {
      transform: translateY(-2px);
      box-shadow: 0 5px 15px rgba(0,0,0,0.25);
    }
    .dom-area {
      background: white;
      padding: 25px;
      border-radius: 12px;
      margin: 20px 0;
      min-height: 150px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.1);
    }
    .item {
      padding: 15px 20px;
      background: linear-gradient(135deg, #a8edea 0%, #fed6e3 100%);
      border-radius: 10px;
      margin: 10px 0;
      display: flex;
      align-items: center;
      gap: 10px;
      font-weight: 600;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
      transition: all 0.3s;
      animation: slideIn 0.4s ease-out;
    }
    @keyframes slideIn {
      from {
        opacity: 0;
        transform: translateX(-20px);
      }
      to {
        opacity: 1;
        transform: translateX(0);
      }
    }
    .item:hover {
      transform: translateX(5px);
    }
    .item.new {
      background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
      color: white;
    }
    .item.wrapped {
      border: 3px solid #667eea;
      padding: 20px;
    }
    .controls {
      display: flex;
      gap: 8px;
      flex-wrap: wrap;
      margin: 15px 0;
    }
    .clone-area {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
      gap: 12px;
      margin-top: 15px;
    }
    .clone-item {
      padding: 25px;
      background: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%);
      border-radius: 12px;
      text-align: center;
      font-size: 32px;
      cursor: pointer;
      transition: all 0.3s;
      box-shadow: 0 4px 10px rgba(0,0,0,0.1);
    }
    .clone-item:hover {
      transform: scale(1.1) rotate(5deg);
      box-shadow: 0 8px 20px rgba(0,0,0,0.2);
    }
    .wrapper {
      background: rgba(102, 126, 234, 0.1);
      border: 2px dashed #667eea;
      padding: 15px;
      border-radius: 10px;
      margin: 10px 0;
    }
    .code-preview {
      background: #2c3e50;
      color: #ecf0f1;
      padding: 15px;
      border-radius: 8px;
      font-family: 'Courier New', monospace;
      font-size: 12px;
      margin-top: 15px;
      max-height: 200px;
      overflow-y: auto;
    }
    .stats {
      display: flex;
      gap: 15px;
      margin: 15px 0;
    }
    .stat {
      background: white;
      padding: 15px 20px;
      border-radius: 8px;
      text-align: center;
      flex: 1;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    }
    .stat-value {
      font-size: 28px;
      font-weight: bold;
      color: #667eea;
    }
    .stat-label {
      font-size: 12px;
      color: #888;
      margin-top: 5px;
    }
    input {
      padding: 10px 15px;
      border: 2px solid #e0e0e0;
      border-radius: 8px;
      font-size: 14px;
      font-family: inherit;
    }
    input:focus {
      outline: none;
      border-color: #667eea;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>üîß –ú–∞–Ω–∏–ø—É–ª—è—Ü–∏—è DOM</h1>
    
    <!-- Append/Prepend -->
    <div class="section">
      <h2>‚ûï –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–æ–≤</h2>
      <div class="dom-area" id="listArea">
        <div class="item">üìå –≠–ª–µ–º–µ–Ω—Ç 1</div>
        <div class="item">üìå –≠–ª–µ–º–µ–Ω—Ç 2</div>
        <div class="item">üìå –≠–ª–µ–º–µ–Ω—Ç 3</div>
      </div>
      <div class="controls">
        <input type="text" id="newItemText" placeholder="–¢–µ–∫—Å—Ç –Ω–æ–≤–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞" style="flex: 1; max-width: 250px;">
        <button onclick="appendItem()">‚¨áÔ∏è .append()</button>
        <button onclick="prependItem()">‚¨ÜÔ∏è .prepend()</button>
        <button onclick="afterFirst()">‚û°Ô∏è .after() first</button>
        <button onclick="beforeLast()">‚¨ÖÔ∏è .before() last</button>
      </div>
      <div class="stats">
        <div class="stat">
          <div class="stat-value" id="itemCount">3</div>
          <div class="stat-label">–≠–ª–µ–º–µ–Ω—Ç–æ–≤</div>
        </div>
      </div>
    </div>
    
    <!-- Remove/Empty/Detach -->
    <div class="section">
      <h2>üóëÔ∏è –£–¥–∞–ª–µ–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–æ–≤</h2>
      <div class="dom-area" id="removeArea">
        <div class="item removable">üéØ –£–¥–∞–ª—è–µ–º—ã–π —ç–ª–µ–º–µ–Ω—Ç 1</div>
        <div class="item removable">üéØ –£–¥–∞–ª—è–µ–º—ã–π —ç–ª–µ–º–µ–Ω—Ç 2</div>
        <div class="item removable">üéØ –£–¥–∞–ª—è–µ–º—ã–π —ç–ª–µ–º–µ–Ω—Ç 3</div>
        <div class="item removable">üéØ –£–¥–∞–ª—è–µ–º—ã–π —ç–ª–µ–º–µ–Ω—Ç 4</div>
      </div>
      <div class="controls">
        <button onclick="removeFirst()">üóëÔ∏è .remove() first</button>
        <button onclick="removeLast()">üóëÔ∏è .remove() last</button>
        <button onclick="emptyArea()">üßπ .empty() area</button>
        <button onclick="detachDemo()">üìé .detach() –∏ –≤–µ—Ä–Ω—É—Ç—å</button>
        <button onclick="resetRemove()">üîÑ –°–±—Ä–æ—Å</button>
      </div>
    </div>
    
    <!-- Replace -->
    <div class="section">
      <h2>üîÑ –ó–∞–º–µ–Ω–∞ —ç–ª–µ–º–µ–Ω—Ç–æ–≤</h2>
      <div class="dom-area" id="replaceArea">
        <div class="item replaceable">üîµ –ó–∞–º–µ–Ω—è–µ–º—ã–π —ç–ª–µ–º–µ–Ω—Ç 1</div>
        <div class="item replaceable">üîµ –ó–∞–º–µ–Ω—è–µ–º—ã–π —ç–ª–µ–º–µ–Ω—Ç 2</div>
        <div class="item replaceable">üîµ –ó–∞–º–µ–Ω—è–µ–º—ã–π —ç–ª–µ–º–µ–Ω—Ç 3</div>
      </div>
      <div class="controls">
        <button onclick="replaceFirst()">üîÑ .replaceWith() first</button>
        <button onclick="replaceAll()">üîÑ .replaceAll()</button>
        <button onclick="resetReplace()">üîÑ –°–±—Ä–æ—Å</button>
      </div>
    </div>
    
    <!-- Clone -->
    <div class="section">
      <h2>üëØ –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–æ–≤</h2>
      <div class="clone-area" id="cloneArea">
        <div class="clone-item" id="originalEmoji">üé®</div>
      </div>
      <div class="controls">
        <button onclick="cloneEmoji()">üëØ .clone() –∏ –¥–æ–±–∞–≤–∏—Ç—å</button>
        <button onclick="cloneWithEvents()">üëØ .clone(true) —Å —Å–æ–±—ã—Ç–∏—è–º–∏</button>
        <button onclick="clearClones()">üßπ –û—á–∏—Å—Ç–∏—Ç—å –∫–ª–æ–Ω—ã</button>
      </div>
      <div class="stats">
        <div class="stat">
          <div class="stat-value" id="cloneCount">1</div>
          <div class="stat-label">–í—Å–µ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤</div>
        </div>
      </div>
    </div>
    
    <!-- Wrap -->
    <div class="section">
      <h2>üì¶ –û–±–æ—Ä–∞—á–∏–≤–∞–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–æ–≤</h2>
      <div class="dom-area" id="wrapArea">
        <div class="item wrappable">üéÅ –≠–ª–µ–º–µ–Ω—Ç 1</div>
        <div class="item wrappable">üéÅ –≠–ª–µ–º–µ–Ω—Ç 2</div>
        <div class="item wrappable">üéÅ –≠–ª–µ–º–µ–Ω—Ç 3</div>
      </div>
      <div class="controls">
        <button onclick="wrapEach()">üì¶ .wrap() –∫–∞–∂–¥—ã–π</button>
        <button onclick="wrapAllTogether()">üì¶ .wrapAll() –≤—Å–µ –≤–º–µ—Å—Ç–µ</button>
        <button onclick="unwrapAll()">üìÇ .unwrap() —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç—å</button>
        <button onclick="resetWrap()">üîÑ –°–±—Ä–æ—Å</button>
      </div>
    </div>
    
    <!-- HTML Structure Preview -->
    <div class="section">
      <h2>üîç –°—Ç—Ä—É–∫—Ç—É—Ä–∞ DOM</h2>
      <div class="code-preview" id="domStructure">
        –°—Ç—Ä—É–∫—Ç—É—Ä–∞ DOM –æ—Ç–æ–±—Ä–∞–∑–∏—Ç—Å—è –∑–¥–µ—Å—å...
      </div>
      <button onclick="updateDomView()">üîÑ –û–±–Ω–æ–≤–∏—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É</button>
    </div>
  </div>

  <script>
    let detachedElements = [];
    
    // Append/Prepend
    function appendItem() {
      const text = $('#newItemText').val() || '‚ú® –ù–æ–≤—ã–π —ç–ª–µ–º–µ–Ω—Ç';
      $('<div class="item new">' + text + '</div>').appendTo('#listArea');
      $('#newItemText').val('');
      updateCount();
    }
    
    function prependItem() {
      const text = $('#newItemText').val() || '‚ú® –ù–æ–≤—ã–π —ç–ª–µ–º–µ–Ω—Ç';
      $('<div class="item new">' + text + '</div>').prependTo('#listArea');
      $('#newItemText').val('');
      updateCount();
    }
    
    function afterFirst() {
      const text = $('#newItemText').val() || '‚ú® –ù–æ–≤—ã–π —ç–ª–µ–º–µ–Ω—Ç';
      $('#listArea .item:first').after('<div class="item new">' + text + '</div>');
      $('#newItemText').val('');
      updateCount();
    }
    
    function beforeLast() {
      const text = $('#newItemText').val() || '‚ú® –ù–æ–≤—ã–π —ç–ª–µ–º–µ–Ω—Ç';
      $('#listArea .item:last').before('<div class="item new">' + text + '</div>');
      $('#newItemText').val('');
      updateCount();
    }
    
    function updateCount() {
      $('#itemCount').text($('#listArea .item').length);
    }
    
    // Remove/Empty/Detach
    function removeFirst() {
      $('#removeArea .removable:first').fadeOut(300, function() {
        $(this).remove();
      });
    }
    
    function removeLast() {
      $('#removeArea .removable:last').fadeOut(300, function() {
        $(this).remove();
      });
    }
    
    function emptyArea() {
      $('#removeArea').fadeOut(300, function() {
        $(this).empty().fadeIn(300);
      });
    }
    
    function detachDemo() {
      if (detachedElements.length === 0) {
        detachedElements = $('#removeArea .removable').detach();
        $('#removeArea').html('<div style="padding: 20px; text-align: center; color: #888;">–≠–ª–µ–º–µ–Ω—Ç—ã –æ—Ç–∫—Ä–µ–ø–ª–µ–Ω—ã (.detach)</div>');
      } else {
        $('#removeArea').empty().append(detachedElements);
        detachedElements = [];
      }
    }
    
    function resetRemove() {
      $('#removeArea').html(\`
        <div class="item removable">üéØ –£–¥–∞–ª—è–µ–º—ã–π —ç–ª–µ–º–µ–Ω—Ç 1</div>
        <div class="item removable">üéØ –£–¥–∞–ª—è–µ–º—ã–π —ç–ª–µ–º–µ–Ω—Ç 2</div>
        <div class="item removable">üéØ –£–¥–∞–ª—è–µ–º—ã–π —ç–ª–µ–º–µ–Ω—Ç 3</div>
        <div class="item removable">üéØ –£–¥–∞–ª—è–µ–º—ã–π —ç–ª–µ–º–µ–Ω—Ç 4</div>
      \`);
      detachedElements = [];
    }
    
    // Replace
    function replaceFirst() {
      $('#replaceArea .replaceable:first').replaceWith('<div class="item new">üü¢ –ù–æ–≤—ã–π —ç–ª–µ–º–µ–Ω—Ç (replaceWith)</div>');
    }
    
    function replaceAll() {
      $('<div class="item new">üü¢ –ó–∞–º–µ–Ω–µ–Ω–Ω—ã–π —ç–ª–µ–º–µ–Ω—Ç (replaceAll)</div>').replaceAll('#replaceArea .replaceable');
    }
    
    function resetReplace() {
      $('#replaceArea').html(\`
        <div class="item replaceable">üîµ –ó–∞–º–µ–Ω—è–µ–º—ã–π —ç–ª–µ–º–µ–Ω—Ç 1</div>
        <div class="item replaceable">üîµ –ó–∞–º–µ–Ω—è–µ–º—ã–π —ç–ª–µ–º–µ–Ω—Ç 2</div>
        <div class="item replaceable">üîµ –ó–∞–º–µ–Ω—è–µ–º—ã–π —ç–ª–µ–º–µ–Ω—Ç 3</div>
      \`);
    }
    
    // Clone
    $('#originalEmoji').on('click', function() {
      $(this).addClass('pulse');
      setTimeout(() => $(this).removeClass('pulse'), 300);
    });
    
    function cloneEmoji() {
      const $clone = $('#originalEmoji').clone(false);
      $clone.appendTo('#cloneArea');
      updateCloneCount();
    }
    
    function cloneWithEvents() {
      const $clone = $('#originalEmoji').clone(true);
      $clone.appendTo('#cloneArea');
      updateCloneCount();
    }
    
    function clearClones() {
      $('#cloneArea .clone-item').not('#originalEmoji').remove();
      updateCloneCount();
    }
    
    function updateCloneCount() {
      $('#cloneCount').text($('#cloneArea .clone-item').length);
    }
    
    // Wrap
    function wrapEach() {
      $('.wrappable').wrap('<div class="wrapper"></div>');
    }
    
    function wrapAllTogether() {
      $('.wrappable').wrapAll('<div class="wrapper"></div>');
    }
    
    function unwrapAll() {
      $('.wrappable').unwrap();
    }
    
    function resetWrap() {
      $('#wrapArea').html(\`
        <div class="item wrappable">üéÅ –≠–ª–µ–º–µ–Ω—Ç 1</div>
        <div class="item wrappable">üéÅ –≠–ª–µ–º–µ–Ω—Ç 2</div>
        <div class="item wrappable">üéÅ –≠–ª–µ–º–µ–Ω—Ç 3</div>
      \`);
    }
    
    // DOM Structure View
    function updateDomView() {
      const listHtml = $('#listArea').html();
      const formatted = listHtml
        .replace(/</g, '&lt;')
        .replace(/>/g, '&gt;')
        .replace(/\\n\\s+/g, '\\n');
      
      $('#domStructure').html(\`
<pre style="margin: 0; line-height: 1.6;">
&lt;div id="listArea"&gt;
\${formatted}
&lt;/div&gt;
</pre>
      \`);
    }
    
    // Add pulse animation class
    const style = document.createElement('style');
    style.textContent = \`
      .pulse {
        animation: pulse 0.3s ease-in-out;
      }
      @keyframes pulse {
        0%, 100% { transform: scale(1); }
        50% { transform: scale(1.2); }
      }
    \`;
    document.head.appendChild(style);
    
    // Initial updates
    updateDomView();
  </script>
</body>
</html>`,
  }}
/>

---

**–°–ª–µ–¥—É—é—â–∏–π —É—Ä–æ–∫:** [–†–∞–±–æ—Ç–∞ —Å CSS ‚Üí](/jquery/css-manipulation)
