## CSS: Стиль - mix-blend-mode


![Иллюстрация к уроку](/lessons/css-blend-modes.png)
`mix-blend-mode` - это мощное CSS-свойство, позволяющее смешивать цвет элемента с цветами элементов, расположенных за ним. Это открывает широкие возможности для создания интересных визуальных эффектов и стилизации контента.

### Что такое mix-blend-mode?

`mix-blend-mode` определяет, как цвет элемента должен смешиваться с цветом элемента, находящегося под ним.  Представьте себе, что вы накладываете прозрачный лист цветной бумаги на фотографию. `mix-blend-mode` позволяет управлять тем, как эти цвета будут взаимодействовать друг с другом.

### Практические примеры

Давайте рассмотрим несколько примеров, чтобы понять, как это работает.

**Пример 1: Смешивание фона изображения с текстом**

```html
<!DOCTYPE html>
<html>
<head>
<title>mix-blend-mode Example</title>
<style>
  .container {
    width: 300px;
    height: 200px;
    background-image: url("https://via.placeholder.com/300x200"); /* Замените на URL вашего изображения */
    background-size: cover;
    position: relative;
  }

  .text {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    font-size: 30px;
    color: white;
    mix-blend-mode: difference; /* Здесь мы используем difference */
  }
</style>
</head>
<body>
  <div class="container">
    <div class="text">Text</div>
  </div>
</body>
</html>
```

В этом примере текст "Text" смешивается с фоновым изображением, используя режим `difference`.  Цвет текста будет меняться в зависимости от цвета фона под ним.

**Пример 2: Использование multiply**

```html
<!DOCTYPE html>
<html>
<head>
<title>mix-blend-mode Example</title>
<style>
  .box1 {
    width: 100px;
    height: 100px;
    background-color: red;
  }

  .box2 {
    width: 100px;
    height: 100px;
    background-color: blue;
    mix-blend-mode: multiply; /* Здесь мы используем multiply */
    position: relative;
    top: -50px; /* Чтобы перекрыть первый блок */
  }
</style>
</head>
<body>
  <div class="box1"></div>
  <div class="box2"></div>
</body>
</html>
```

Здесь мы видим, как смешиваются два цветных блока. `multiply` перемножает значения каналов цветов, создавая более темный результат.

### Жизненный пример

`mix-blend-mode` часто используется для создания эффектных заголовков на сайтах с изображениями в качестве фона.  Например, на сайтах, посвященных фотографии или дизайну, можно встретить заголовки, которые динамически меняют свой цвет в зависимости от фона.  Это также используется во фреймворках для создания сложных эффектов на изображениях и видео. Многие parallax-эффекты используют `mix-blend-mode` для достижения интересного визуального результата.

### Ключевые моменты

*   `mix-blend-mode` позволяет смешивать цвет элемента с цветами элементов, находящихся под ним.
*   Существует множество различных режимов смешивания, таких как `multiply`, `screen`, `overlay`, `difference` и другие.
*   Экспериментируйте с различными режимами, чтобы найти подходящий для вашего дизайна.
*   `mix-blend-mode` может значительно улучшить визуальное восприятие вашего сайта.
*   Используйте осторожно, чтобы не перегрузить дизайн и не ухудшить читаемость контента.
*   `mix-blend-mode` работает только с элементами, находящимися в одном контексте наложения (stacking context).



## Интерактивный пример

<Sandpack
  template="vanilla"
  files={{
    "/index.html": `<!DOCTYPE html>
<html>
<head>
  <title>mix-blend-mode Example</title>
  <link rel="stylesheet" href="/styles.css">
</head>
<body>
  <div class="container">
    <img id="bg-image" src="https://images.unsplash.com/photo-1503023345310-154ca5642c86?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8Mnx8cG9ydHJhaXR8ZW58MHx8MHx8fDA%3D&w=1000&q=80" alt="Background Image">
    <div class="text-container">
      <h1 id="blend-text">Blend Me!</h1>
    </div>
    <div class="controls">
      <label for="blend-mode">Blend Mode:</label>
      <select id="blend-mode">
        <option value="normal">normal</option>
        <option value="multiply">multiply</option>
        <option value="screen">screen</option>
        <option value="overlay">overlay</option>
        <option value="darken">darken</option>
        <option value="lighten">lighten</option>
        <option value="color-dodge">color-dodge</option>
        <option value="color-burn">color-burn</option>
        <option value="hard-light">hard-light</option>
        <option value="soft-light">soft-light</option>
        <option value="difference">difference</option>
        <option value="exclusion">exclusion</option>
        <option value="hue">hue</option>
        <option value="saturation">saturation</option>
        <option value="color">color</option>
        <option value="luminosity">luminosity</option>
      </select>
      <br>
      <label for="text-color">Text Color:</label>
      <input type="color" id="text-color" value="#ffffff">
    </div>
  </div>
  <script src="/index.js"><\/script>
</body>
</html>
`,
    "/styles.css": `body {
  font-family: sans-serif;
  background-color: #222;
  color: #fff;
  padding: 20px;
  display: flex;
  justify-content: center;
  align-items: center;
  min-height: 100vh;
}

.container {
  width: 500px;
  border: 1px solid #444;
  padding: 20px;
  background-color: #333;
  border-radius: 8px;
}

#bg-image {
  width: 100%;
  height: auto;
  border-radius: 8px;
  display: block; /* Убирает отступ снизу у картинки */
}

.text-container {
  position: relative;
  text-align: center;
  margin-top: -150px; /* Перекрываем картинку */
  padding: 20px;
}

#blend-text {
  font-size: 4em;
  mix-blend-mode: difference; /* Начальное значение */
  color: white;
  text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
}

.controls {
  margin-top: 20px;
  text-align: center;
}

.controls label {
  display: block;
  margin-bottom: 5px;
}

.controls select,
.controls input[type="color"] {
  width: 100%;
  padding: 8px;
  margin-bottom: 10px;
  border: 1px solid #555;
  background-color: #444;
  color: #fff;
  border-radius: 4px;
  box-sizing: border-box; /* Важно, чтобы padding не увеличивал ширину */
}
`,
    "/index.js": `// Получаем элементы DOM
const blendText = document.getElementById('blend-text');
const blendModeSelect = document.getElementById('blend-mode');
const textColorInput = document.getElementById('text-color');

// Функция для обновления mix-blend-mode
function updateBlendMode() {
  blendText.style.mixBlendMode = blendModeSelect.value;
}

// Функция для обновления цвета текста
function updateTextColor() {
  blendText.style.color = textColorInput.value;
}

// Добавляем слушатели событий
blendModeSelect.addEventListener('change', updateBlendMode);
textColorInput.addEventListener('input', updateTextColor);

// Инициализация (установка начальных значений)
updateBlendMode();
updateTextColor();
`
  }}
  options={{
    showNavigator: false,
    showLineNumbers: true,
    editorHeight: 400
  }}
/>
