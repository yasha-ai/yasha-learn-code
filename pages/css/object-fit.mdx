## CSS: object-fit и object-position - Урок стиля


![Иллюстрация к уроку](/lessons/css-object-fit.png)
Добро пожаловать на урок, посвященный свойствам `object-fit` и `object-position` в CSS. Эти свойства позволяют контролировать, как изображения и видео ведут себя внутри контейнера, обеспечивая гибкость и контроль над визуальным представлением контента.

### Что такое object-fit?

Свойство `object-fit` определяет, как контент (например, изображение или видео) должен масштабироваться, чтобы поместиться в контейнер. Представьте себе, что у вас есть рамка (контейнер) и фотография (контент). `object-fit` говорит браузеру, как лучше всего "вписать" фотографию в рамку.

Доступны следующие значения:

*   `fill` (по умолчанию): Контент заполняет всю область контейнера, растягиваясь или сжимаясь, чтобы соответствовать размерам. Искажение пропорций возможно.

*   `contain`: Контент масштабируется так, чтобы полностью поместиться в контейнер, сохраняя пропорции. Могут оставаться пустые области.

*   `cover`: Контент масштабируется так, чтобы полностью заполнить контейнер, сохраняя пропорции. Часть контента может быть обрезана.

*   `none`: Контент отображается в своем исходном размере. Если он больше контейнера, то будет обрезан.

*   `scale-down`: Выбирает между `none` и `contain`, в зависимости от того, какое из них приведет к отображению контента меньшего размера.

**Пример кода:**

```html
<div class="container">
  <img src="image.jpg" alt="Пример изображения">
</div>
```

```css
.container {
  width: 200px;
  height: 150px;
  border: 1px solid black;
}

img {
  width: 100%;
  height: 100%;
  object-fit: cover; /* Меняйте значения, чтобы увидеть эффект */
}
```

### Что такое object-position?

Свойство `object-position` определяет положение контента внутри контейнера, когда используется `object-fit: cover` или `object-fit: contain` и остаются свободные области или часть контента обрезана.  Это похоже на то, как вы центрируете или перемещаете изображение внутри рамки. Значениями могут быть `top`, `bottom`, `left`, `right`, `center` или числовые значения в процентах или пикселях.

**Пример кода:**

```html
<div class="container">
  <img src="image.jpg" alt="Пример изображения">
</div>
```

```css
.container {
  width: 200px;
  height: 150px;
  border: 1px solid black;
}

img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  object-position: center top; /* Меняйте значения, чтобы увидеть эффект */
}
```

### Жизненный пример

Свойства `object-fit` и `object-position` широко используются в современных веб-проектах.

*   **Адаптивные изображения:** Обеспечивают корректное отображение изображений на разных устройствах и разрешениях. Часто используются в слайдерах и галереях.
*   **Аватары пользователей:**  Позволяют обрезать и центрировать аватары пользователей, чтобы они хорошо выглядели в заданных рамках.
*   **Карточки товаров в интернет-магазинах:** Гарантируют, что изображения товаров выглядят привлекательно и единообразно, независимо от их исходных размеров.
*   **Фреймворки и библиотеки:** Многие CSS-фреймворки (например, Bootstrap, Tailwind CSS) и библиотеки компонентов (например, React, Vue) используют эти свойства для создания адаптивных и гибких компонентов. Например, в компоненте `<img>` может быть возможность задать `object-fit` и `object-position` прямо через пропсы.

### Ключевые моменты

*   `object-fit` определяет, как изображение или видео масштабируется внутри контейнера.
*   `object-position` определяет положение изображения или видео внутри контейнера.
*   `fill`, `contain`, `cover`, `none`, `scale-down` - основные значения `object-fit`.
*   Можно использовать ключевые слова (`top`, `bottom`, `left`, `right`, `center`) или числовые значения для `object-position`.
*   Эти свойства важны для создания адаптивных и визуально привлекательных веб-сайтов.



## Интерактивный пример

<Sandpack
  template="vanilla"
  files={{
    "/index.html": `<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>object-fit и object-position</title>
  <link rel="stylesheet" href="/styles.css">
</head>
<body>
  <div class="container">
    <img id="myImage" src="https://images.unsplash.com/photo-1682687220244-444a765d2998?q=80&w=2070&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDF8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D" alt="Пример изображения">
  </div>

  <div class="controls">
    <label for="objectFit">object-fit:</label>
    <select id="objectFit">
      <option value="fill">fill</option>
      <option value="contain">contain</option>
      <option value="cover" selected>cover</option>
      <option value="none">none</option>
      <option value="scale-down">scale-down</option>
    </select>

    <label for="objectPosition">object-position:</label>
    <select id="objectPosition">
      <option value="top left">top left</option>
      <option value="top center">top center</option>
      <option value="top right">top right</option>
      <option value="center left">center left</option>
      <option value="center center" selected>center center</option>
      <option value="center right">center right</option>
      <option value="bottom left">bottom left</option>
      <option value="bottom center">bottom center</option>
      <option value="bottom right">bottom right</option>
    </select>
  </div>

  <\/body>
  <script src="/index.js"><\/script>
</html>
`,
    "/styles.css": `body {
  font-family: sans-serif;
  padding: 20px;
  background-color: #222;
  color: #eee;
}

.container {
  width: 300px;
  height: 200px;
  border: 2px solid #555;
  margin-bottom: 20px;
  overflow: hidden; /* Важно для корректной работы object-fit */
}

img {
  width: 100%;
  height: 100%;
  display: block; /* Убирает лишний отступ снизу */
  object-fit: cover; /* Значение по умолчанию, изменяется через JavaScript */
  object-position: center center; /* Значение по умолчанию, изменяется через JavaScript */
}

.controls {
  display: flex;
  flex-direction: column;
  gap: 10px;
}

.controls label {
  font-weight: bold;
}

.controls select {
  padding: 5px;
  border: 1px solid #777;
  background-color: #333;
  color: #eee;
}
`,
    "/index.js": `// Получаем элементы управления и изображение
const objectFitSelect = document.getElementById('objectFit');
const objectPositionSelect = document.getElementById('objectPosition');
const myImage = document.getElementById('myImage');

// Функция для обновления стилей изображения
function updateImageStyles() {
  const objectFitValue = objectFitSelect.value;
  const objectPositionValue = objectPositionSelect.value;

  myImage.style.objectFit = objectFitValue;
  myImage.style.objectPosition = objectPositionValue;
}

// Добавляем обработчики событий для изменений в выпадающих списках
objectFitSelect.addEventListener('change', updateImageStyles);
objectPositionSelect.addEventListener('change', updateImageStyles);

// Вызываем функцию обновления стилей при загрузке страницы, чтобы установить начальные значения
updateImageStyles();
`
  }}
  options={{
    showNavigator: false,
    showLineNumbers: true,
    editorHeight: 400
  }}
/>
