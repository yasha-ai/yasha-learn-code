## CSS: Свойство `transform-origin`

![Иллюстрация к уроку](/lessons/css-transform-origin.png)


`transform-origin` - это мощное CSS-свойство, которое позволяет контролировать точку, вокруг которой происходят трансформации элемента, такие как поворот, масштабирование, и наклон. Понимание и правильное использование этого свойства открывает двери к созданию более сложных и интересных визуальных эффектов.

### Что такое `transform-origin`?

По умолчанию, трансформации в CSS происходят относительно центра элемента. `transform-origin` позволяет изменить эту точку.  Это как если бы вы воткнули булавку в определенное место на фотографии, чтобы вращать её вокруг этой булавки.

### Как использовать `transform-origin`?

Свойство `transform-origin` принимает одно, два или три значения, представляющих собой координаты X, Y и Z (для 3D трансформаций) точки начала трансформации.  Значения могут быть указаны в пикселях, процентах, или с использованием ключевых слов, таких как `top`, `bottom`, `left`, `right`, и `center`.

**Примеры:**

*   `transform-origin: 0 0;` - Верхний левый угол.
*   `transform-origin: 50% 50%;` - Центр (значение по умолчанию).
*   `transform-origin: top left;` - То же, что и `0 0;`
*   `transform-origin: 20px 30px;` -  Смещение на 20px вправо и 30px вниз от верхнего левого угла.
*   `transform-origin: bottom right;` - Нижний правый угол.

**Пример кода:**

```html
<!DOCTYPE html>
<html>
<head>
<title>transform-origin example</title>
<style>
.box {
  width: 100px;
  height: 100px;
  background-color: lightblue;
  margin: 50px;
  transition: transform 0.5s ease;
}

.box:hover {
  transform: rotate(45deg);
}

.origin-top-left {
  transform-origin: top left;
}

.origin-bottom-right {
  transform-origin: bottom right;
}
</style>
</head>
<body>

<div class="box">Default Origin</div>
<div class="box origin-top-left">Top Left Origin</div>
<div class="box origin-bottom-right">Bottom Right Origin</div>

</body>
</html>
```

В этом примере, при наведении курсора на первый квадрат (`.box`), он вращается вокруг своего центра (по умолчанию). Второй квадрат (`.box origin-top-left`) вращается вокруг своего верхнего левого угла, а третий (`.box origin-bottom-right`) вокруг нижнего правого.

### Жизненный пример

`transform-origin` широко используется в веб-разработке для создания анимаций и интерактивных элементов. Например:

*   **Анимация меню:** Кнопка "гамбургер" (три горизонтальные линии) часто трансформируется в крестик при открытии меню. `transform-origin` используется для того, чтобы линии вращались вокруг своих концов, создавая плавный и естественный переход.
*   **Вращающиеся элементы интерфейса:** Индикаторы загрузки, анимированные иконки, вращающиеся логотипы – все это часто реализуется с помощью `transform` и `transform-origin`.
*   **Масштабирование изображений:** При увеличении изображения при наведении курсора, `transform-origin` позволяет контролировать, какая часть изображения остается на месте.

Многие CSS-фреймворки и библиотеки, такие как Bootstrap, Tailwind CSS, и Animate.css, используют `transform-origin` внутри своих компонентов и анимаций.

### Ключевые моменты

*   `transform-origin` определяет точку, вокруг которой происходят трансформации.
*   Значения могут быть указаны в пикселях, процентах или с использованием ключевых слов.
*   Используется для создания более сложных и интересных визуальных эффектов.
*   Широко применяется в анимациях, интерактивных элементах и CSS-фреймворках.
*   Понимание `transform-origin` позволяет более точно контролировать поведение элементов при трансформации.

### Практика

Попробуйте примеры в интерактивном редакторе:

<Playground 
  html={`<div class="origin-demo">
  <h2>transform-origin (наведи курсор!)</h2>
  
  <div class="section">
    <h3>Rotation с разными точками вращения</h3>
    <div class="grid">
      <div class="container">
        <div class="box rotate origin-center">center</div>
      </div>
      <div class="container">
        <div class="box rotate origin-top-left">top left</div>
      </div>
      <div class="container">
        <div class="box rotate origin-top-right">top right</div>
      </div>
      <div class="container">
        <div class="box rotate origin-bottom-left">bottom left</div>
      </div>
      <div class="container">
        <div class="box rotate origin-bottom-right">bottom right</div>
      </div>
      <div class="container">
        <div class="box rotate origin-custom">20px 20px</div>
      </div>
    </div>
  </div>

  <div class="section">
    <h3>Scale с разными точками масштабирования</h3>
    <div class="grid">
      <div class="container">
        <div class="box scale origin-center">center</div>
      </div>
      <div class="container">
        <div class="box scale origin-top-left">top left</div>
      </div>
      <div class="container">
        <div class="box scale origin-bottom-right">bottom right</div>
      </div>
    </div>
  </div>

  <div class="section">
    <h3>Комбинации (rotate + scale)</h3>
    <div class="grid">
      <div class="container">
        <div class="box combo origin-center">center</div>
      </div>
      <div class="container">
        <div class="box combo origin-top-left">top left</div>
      </div>
      <div class="container">
        <div class="box combo origin-bottom-right">bottom right</div>
      </div>
    </div>
  </div>
</div>`}
  css={`* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

.origin-demo {
  padding: 30px;
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
  min-height: 600px;
}

h2 {
  text-align: center;
  color: white;
  margin-bottom: 30px;
  font-size: 26px;
  text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
}

.section {
  background: white;
  padding: 25px;
  border-radius: 12px;
  margin-bottom: 25px;
  box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2);
}

h3 {
  color: #2c3e50;
  margin-bottom: 20px;
  font-size: 18px;
  font-weight: 600;
}

.grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
  gap: 25px;
}

.container {
  height: 120px;
  display: flex;
  align-items: center;
  justify-content: center;
  background-color: #f8f9fa;
  border-radius: 8px;
  position: relative;
  overflow: visible;
}

.box {
  width: 100px;
  height: 100px;
  background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
  color: white;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: bold;
  font-size: 12px;
  text-align: center;
  border-radius: 8px;
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
  cursor: pointer;
  transition: transform 0.4s ease;
  padding: 5px;
}

/* Transform origins */
.origin-center { transform-origin: center; }
.origin-top-left { transform-origin: top left; }
.origin-top-right { transform-origin: top right; }
.origin-bottom-left { transform-origin: bottom left; }
.origin-bottom-right { transform-origin: bottom right; }
.origin-custom { transform-origin: 20px 20px; }

/* Transformations */
.rotate:hover {
  transform: rotate(90deg);
}

.scale:hover {
  transform: scale(1.5);
}

.combo:hover {
  transform: rotate(45deg) scale(1.3);
}

/* Visual hint - mark the origin point */
.box::before {
  content: '●';
  position: absolute;
  color: #fff;
  font-size: 8px;
  text-shadow: 0 0 3px rgba(0, 0, 0, 0.5);
  z-index: 10;
}

.origin-center::before {
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
}

.origin-top-left::before {
  top: 2px;
  left: 2px;
}

.origin-top-right::before {
  top: 2px;
  right: 2px;
}

.origin-bottom-left::before {
  bottom: 2px;
  left: 2px;
}

.origin-bottom-right::before {
  bottom: 2px;
  right: 2px;
}

.origin-custom::before {
  top: 20px;
  left: 20px;
}`}
/>
