# CSS: Псевдоклассы :nth-child и :nth-of-type

В этом уроке мы рассмотрим мощные псевдоклассы CSS, которые позволяют более точно стилизовать элементы на веб-странице, основываясь на их позиции в дереве DOM.  Речь пойдет о `:nth-child` и `:nth-of-type`.

## Что такое псевдоклассы :nth-child и :nth-of-type?

Псевдоклассы `:nth-child` и `:nth-of-type` позволяют выбирать элементы на основе их порядкового номера среди дочерних элементов родительского элемента.  Однако, между ними есть важное различие: `:nth-child` выбирает элементы вне зависимости от их типа, а `:nth-of-type` выбирает элементы только определенного типа.

### :nth-child

Псевдокласс `:nth-child(n)` выбирает каждый n-ый дочерний элемент родительского элемента, независимо от его типа.  `n` может быть числом, ключевым словом (`even`, `odd`) или формулой (например, `2n+1`).

```html
<div class="container">
  <p>Первый параграф</p>
  <div>Первый div</div>
  <p>Второй параграф</p>
  <p>Третий параграф</p>
  <div>Второй div</div>
</div>
```

```css
.container p:nth-child(2) { /* Ничего не выберет, т.к. второй элемент - div */
  color: red;
}

.container *:nth-child(2) { /* Выберет первый div */
  background-color: yellow;
}

.container p:nth-child(3) { /* Выберет второй параграф */
  font-weight: bold;
}

.container p:nth-child(odd) { /* Выберет первый и третий параграфы */
  font-style: italic;
}

.container p:nth-child(even) { /* Выберет второй параграф */
  text-decoration: underline;
}
```

### :nth-of-type

Псевдокласс `:nth-of-type(n)` выбирает каждый n-ый дочерний элемент указанного типа родительского элемента.  `n` также может быть числом, ключевым словом (`even`, `odd`) или формулой.

```html
<div class="container">
  <p>Первый параграф</p>
  <div>Первый div</div>
  <p>Второй параграф</p>
  <p>Третий параграф</p>
  <div>Второй div</div>
</div>
```

```css
.container p:nth-of-type(1) { /* Выберет первый параграф */
  color: blue;
}

.container div:nth-of-type(2) { /* Выберет второй div */
  background-color: green;
}

.container p:nth-of-type(odd) { /* Выберет первый и третий параграфы */
  font-size: 1.2em;
}

.container p:nth-of-type(even) { /* Выберет второй параграф */
  color: purple;
}
```

## Практические примеры кода

```html
<ul class="list">
  <li>Item 1</li>
  <li>Item 2</li>
  <li>Item 3</li>
  <li>Item 4</li>
  <li>Item 5</li>
</ul>
```

```css
.list li:nth-child(odd) { /* Стилизуем нечетные элементы списка */
  background-color: #f2f2f2;
}

.list li:nth-child(even) { /* Стилизуем четные элементы списка */
  background-color: #ffffff;
}

.list li:nth-of-type(3n+1) { /* Стилизуем каждый 3n+1 элемент списка */
  font-weight: bold;
}
```

## Жизненный пример

Эти псевдоклассы широко используются для стилизации таблиц, списков и других элементов, где необходимо чередовать стили.  Например, многие библиотеки UI-компонентов (Bootstrap, Material UI) используют `:nth-child` или `:nth-of-type` для создания полосатых таблиц (zebra stripes), делая их более читабельными.  Также, их часто используют для стилизации элементов навигации, выделяя активный пункт меню или изменяя стиль при наведении курсора.  Различные веб-приложения и сайты электронной коммерции используют их для стилизации списков товаров или элементов интерфейса.

## Ключевые моменты

*   `:nth-child` выбирает элементы, основываясь на их позиции среди всех дочерних элементов родителя.
*   `:nth-of-type` выбирает элементы, основываясь на их позиции среди дочерних элементов *определенного* типа.
*   Оба псевдокласса принимают число, ключевое слово (`even`, `odd`) или формулу как аргумент.
*   Используются для чередования стилей, выделения элементов и создания более читабельных интерфейсов.
*   Широко применяются в UI-библиотеках и веб-приложениях.

### Практика

Попробуйте примеры в интерактивном редакторе:

<Playground 
  html={`<div class="demo-container">
  <div class="section">
    <h3>:nth-child(odd) и :nth-child(even)</h3>
    <ul class="list-1">
      <li>Item 1 (нечетный)</li>
      <li>Item 2 (четный)</li>
      <li>Item 3 (нечетный)</li>
      <li>Item 4 (четный)</li>
      <li>Item 5 (нечетный)</li>
    </ul>
  </div>
  
  <div class="section">
    <h3>:nth-of-type(3n+1)</h3>
    <div class="boxes">
      <div class="box">1</div>
      <div class="box">2</div>
      <div class="box">3</div>
      <div class="box">4</div>
      <div class="box">5</div>
      <div class="box">6</div>
      <div class="box">7</div>
      <div class="box">8</div>
      <div class="box">9</div>
    </div>
  </div>
</div>`}
  css={`.demo-container {
  padding: 20px;
  background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
  border-radius: 10px;
}

.section {
  background: white;
  padding: 20px;
  margin-bottom: 20px;
  border-radius: 8px;
  box-shadow: 0 4px 10px rgba(0,0,0,0.1);
}

.section:last-child {
  margin-bottom: 0;
}

h3 {
  color: #333;
  margin-bottom: 15px;
  font-family: monospace;
  background: #f0f0f0;
  padding: 8px;
  border-radius: 5px;
}

/* Демонстрация :nth-child */
.list-1 {
  list-style: none;
  padding: 0;
}

.list-1 li {
  padding: 15px;
  margin: 5px 0;
  border-radius: 5px;
  font-weight: bold;
  transition: transform 0.2s;
}

.list-1 li:nth-child(odd) {
  background-color: #667eea;
  color: white;
}

.list-1 li:nth-child(even) {
  background-color: #f9ca24;
  color: #333;
}

.list-1 li:hover {
  transform: translateX(10px);
}

/* Демонстрация :nth-of-type */
.boxes {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 10px;
}

.box {
  background-color: #e0e0e0;
  padding: 25px;
  text-align: center;
  font-size: 1.5em;
  font-weight: bold;
  border-radius: 8px;
  transition: all 0.3s;
}

/* Каждый 3n+1 элемент (1, 4, 7...) */
.box:nth-of-type(3n+1) {
  background-color: #ff6b6b;
  color: white;
  transform: scale(1.1);
}

.box:hover {
  transform: scale(1.15) rotate(5deg);
  box-shadow: 0 5px 15px rgba(0,0,0,0.2);
}`}
/>
