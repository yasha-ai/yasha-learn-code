## CSS: Анимации и переходы


![Иллюстрация к уроку](/lessons/css-animations-transitions.png)
В этом уроке мы погрузимся в захватывающий мир CSS анимаций и переходов, которые позволяют оживить ваши веб-страницы и сделать их более интерактивными. Мы научимся создавать плавные изменения и полноценные анимации, используя лишь CSS.

### Переходы (Transitions)

Переходы позволяют плавно изменять значения CSS-свойств при возникновении определенного события, например, при наведении курсора мыши.

#### Синтаксис

```css
transition: property duration timing-function delay;
```

*   `property`: CSS-свойство, к которому применяется переход (например, `background-color`, `width`, `opacity`).
*   `duration`: Продолжительность перехода в секундах (s) или миллисекундах (ms).
*   `timing-function`: Функция времени, определяющая скорость изменения свойства (например, `ease`, `linear`, `ease-in`, `ease-out`, `ease-in-out`).
*   `delay`: Задержка перед началом перехода в секундах (s) или миллисекундах (ms).

#### Пример

```html
<!DOCTYPE html>
<html>
<head>
<title>CSS Transitions</title>
<style>
.box {
  width: 100px;
  height: 100px;
  background-color: red;
  transition: background-color 0.5s ease, width 1s linear; /* Применяем переходы к background-color и width */
}

.box:hover {
  background-color: blue;
  width: 200px;
}
</style>
</head>
<body>
  <div class="box"></div>
</body>
</html>
```

При наведении курсора на элемент `.box`, его цвет плавно изменится с красного на синий за 0.5 секунды, а ширина плавно увеличится до 200px за 1 секунду.

### Анимации (Animations)

Анимации позволяют создавать более сложные и контролируемые изменения, чем переходы. Они основаны на ключевых кадрах (`@keyframes`).

#### Синтаксис

```css
@keyframes animation-name {
  0% { /* Начальное состояние */
    property: value;
  }
  50% { /* Промежуточное состояние */
    property: value;
  }
  100% { /* Конечное состояние */
    property: value;
  }
}

.element {
  animation-name: animation-name;
  animation-duration: duration;
  animation-timing-function: timing-function;
  animation-delay: delay;
  animation-iteration-count: iteration-count;
  animation-direction: direction;
  animation-fill-mode: fill-mode;
}
```

*   `animation-name`: Имя анимации, определенное в блоке `@keyframes`.
*   `animation-duration`: Продолжительность анимации.
*   `animation-timing-function`: Функция времени.
*   `animation-delay`: Задержка перед началом анимации.
*   `animation-iteration-count`: Количество повторений анимации (infinite - бесконечно).
*   `animation-direction`: Направление анимации (normal, reverse, alternate, alternate-reverse).
*   `animation-fill-mode`: Определяет, как стили применяются к элементу до и после анимации (forwards, backwards, both, none).

#### Пример

```html
<!DOCTYPE html>
<html>
<head>
<title>CSS Animations</title>
<style>
.box {
  width: 100px;
  height: 100px;
  background-color: red;
  position: relative;
  animation-name: move;
  animation-duration: 4s;
  animation-iteration-count: infinite;
  animation-direction: alternate;
}

@keyframes move {
  0%   {background-color:red; left:0px; top:0px;}
  25%  {background-color:yellow; left:200px; top:0px;}
  50%  {background-color:blue; left:200px; top:200px;}
  75%  {background-color:green; left:0px; top:200px;}
  100% {background-color:red; left:0px; top:0px;}
}
</style>
</head>
<body>
  <div class="box"></div>
</body>
</html>
```

Этот пример создает анимацию, которая перемещает квадрат по экрану и меняет его цвет.

### Жизненный пример

*   **Сайты электронной коммерции:** Эффекты при наведении на товары, отображение уведомлений, анимация загрузки.
*   **Веб-приложения:** Анимация переходов между страницами, индикаторы прогресса, плавные изменения интерфейса.
*   **Фреймворки (например, Bootstrap, Materialize):**  Содержат множество готовых классов для создания анимаций и переходов, таких как всплывающие окна, слайдеры, и другие интерактивные элементы.

### Ключевые моменты

*   Переходы используются для простых изменений, анимации - для более сложных.
*   Важно оптимизировать анимации, чтобы они не влияли на производительность страницы.
*   Используйте инструменты разработчика браузера для отладки анимаций.
*   Понимание `timing-function` позволяет контролировать скорость изменения свойств.
*   `animation-fill-mode` управляет стилями до и после завершения анимации.



## Интерактивный пример

<Sandpack
  template="vanilla"
  files={{
    "/index.html": `<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CSS Animations & Transitions</title>
    <link rel="stylesheet" href="/styles.css">
</head>
<body>
    <div class="container">
        <h1>CSS Animations & Transitions</h1>

        <div class="transition-box">
            <p>Transition Example: Hover me!</p>
        </div>

        <div class="animation-box">
            <p>Animation Example</p>
        </div>

        <div class="controls">
            <label for="animationSpeed">Animation Speed (seconds):</label>
            <input type="number" id="animationSpeed" value="2" min="1" max="10" step="0.5">
            <button id="updateButton">Update Speed</button>
        </div>
    </div>

    <script src="/index.js"></script>
</body>
</html>`,
    "/styles.css": `body {
    font-family: sans-serif;
    background-color: #222;
    color: #eee;
    padding: 20px;
    display: flex;
    flex-direction: column;
    align-items: center;
}

.container {
    width: 80%;
    max-width: 600px;
    text-align: center;
}

/* Transition Example */
.transition-box {
    width: 150px;
    height: 100px;
    background-color: #3498db;
    color: white;
    margin: 20px auto;
    display: flex;
    justify-content: center;
    align-items: center;
    transition: width 0.5s ease-in-out, background-color 0.5s ease-in-out; /* Плавное изменение ширины и цвета фона */
    cursor: pointer;
}

.transition-box:hover {
    width: 250px;
    background-color: #e74c3c;
}

/* Animation Example */
.animation-box {
    width: 100px;
    height: 100px;
    background-color: #2ecc71;
    color: white;
    margin: 20px auto;
    display: flex;
    justify-content: center;
    align-items: center;
    position: relative; /* Необходимо для позиционирования анимации */
    animation-name: move; /* Название анимации */
    animation-duration: 2s; /* Продолжительность анимации */
    animation-timing-function: linear; /* Функция времени */
    animation-iteration-count: infinite; /* Бесконечное повторение */
    animation-direction: alternate; /* Чередование направления */
}

@keyframes move {
    0% {
        left: 0; /* Начальное положение */
        background-color: #2ecc71;
    }
    100% {
        left: 100px; /* Конечное положение */
        background-color: #f39c12;
    }
}

/* Controls */
.controls {
    margin-top: 20px;
}

.controls label {
    display: block;
    margin-bottom: 5px;
}

.controls input[type="number"] {
    padding: 5px;
    border: 1px solid #ccc;
    border-radius: 4px;
    width: 60px;
    text-align: center;
    background-color: #333;
    color: #eee;
}

.controls button {
    padding: 8px 12px;
    background-color: #3498db;
    color: white;
    border: none;
    border-radius: 4px;
    cursor: pointer;
    margin-left: 10px;
}

.controls button:hover {
    background-color: #2980b9;
}`,
    "/index.js": `// JavaScript для обновления скорости анимации
const animationSpeedInput = document.getElementById('animationSpeed');
const updateButton = document.getElementById('updateButton');
const animationBox = document.querySelector('.animation-box');

updateButton.addEventListener('click', () => {
    const newSpeed = animationSpeedInput.value;
    animationBox.style.animationDuration = \`\${newSpeed}s\`; // Обновляем скорость анимации
});
`
  }}
  options={{
    showNavigator: false,
    showLineNumbers: true,
    editorHeight: 400
  }}
/>
