## CSS: clip-path и shape-outside - Создаем необычные формы


![Иллюстрация к уроку](/lessons/css-clip-path.png)
В этом уроке мы изучим, как создавать нестандартные формы для элементов с помощью CSS свойств `clip-path` и `shape-outside`. Эти свойства позволяют нам выйти за рамки привычных прямоугольников и создавать визуально интересные и сложные дизайны.

### clip-path: Обрезаем видимость элемента

Свойство `clip-path` позволяет обрезать часть элемента, делая видимой только определенную область. Это достигается путем определения фигуры, которая определяет видимую область. Все, что находится за пределами этой фигуры, становится невидимым.

**Пример:**

```html
<div class="clipped">
  Этот текст будет отображаться только в пределах заданной формы.
</div>
```

```css
.clipped {
  width: 200px;
  height: 200px;
  background-color: lightblue;
  clip-path: circle(50%); /* Обрезает элемент в круг */
}
```

В этом примере мы обрезали `div` в круг, указав `clip-path: circle(50%)`.  `50%` означает, что радиус круга равен 50% от ширины или высоты элемента (в данном случае, они одинаковы).

`clip-path` может принимать различные значения, включая:

*   `circle()`: Создает круг.
*   `ellipse()`: Создает эллипс.
*   `polygon()`: Создает многоугольник, определяемый координатами вершин.
*   `inset()`: Создает прямоугольник, обрезанный от краев.

**Пример с polygon():**

```css
.clipped {
  width: 200px;
  height: 200px;
  background-color: lightgreen;
  clip-path: polygon(50% 0%, 0% 100%, 100% 100%); /* Создает треугольник */
}
```

Здесь мы создали треугольник, указав координаты трех его вершин.

### shape-outside: Обтекание текста вокруг нестандартных форм

Свойство `shape-outside` позволяет тексту обтекать элемент, имеющий нестандартную форму. В отличие от `clip-path`, которое влияет на видимость элемента, `shape-outside` влияет на то, как другие элементы располагаются вокруг него.

**Пример:**

```html
<img src="image.jpg" class="shaped">
<p>
  Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.
</p>
```

```css
.shaped {
  width: 150px;
  height: 150px;
  float: left; /* Важно для обтекания */
  shape-outside: circle(50%); /* Текст обтекает круг */
  margin-right: 10px;
}
```

В этом примере текст обтекает изображение, имеющее круглую форму, благодаря `shape-outside: circle(50%)`.  Как и `clip-path`, `shape-outside` принимает значения `circle()`, `ellipse()`, `polygon()` и другие.  Важно отметить, что для работы `shape-outside` элемент должен быть плавающим (`float: left` или `float: right`).

### Жизненный пример

`clip-path` часто используется для создания необычных макетов и эффектов на сайтах портфолио, сайтах с фотографиями и в веб-приложениях для выделения элементов интерфейса. Например, можно использовать `clip-path` для создания закругленных углов у изображений или для создания заголовков с нестандартной формой.

`shape-outside` часто используется в блогах и новостных сайтах, чтобы текст красиво обтекал изображения, создавая более привлекательный и профессиональный вид. Также это свойство используется в дизайне журналов и других печатных изданиях, перенесенных в веб.

Многие современные CSS фреймворки и библиотеки компонентов используют эти свойства для создания более гибких и настраиваемых элементов интерфейса.

### Ключевые моменты

*   `clip-path` обрезает видимость элемента, создавая нестандартные формы.
*   `shape-outside` определяет форму, вокруг которой обтекает текст.
*   Оба свойства поддерживают различные формы, такие как круги, эллипсы и многоугольники.
*   Для работы `shape-outside` элемент должен быть плавающим (`float`).
*   Эти свойства позволяют создавать визуально интересные и сложные дизайны.



## Интерактивный пример

<Sandpack
  template="vanilla"
  files={{
    "/index.html": `<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>CSS Clip-path и Shape-outside</title>
  <link rel="stylesheet" href="/styles.css">
</head>
<body>
  <div class="container">
    <h1>Clip-path и Shape-outside</h1>

    <section id="clip-path-example">
      <h2>Clip-path пример</h2>
      <div class="clipped-container">
        <div class="clipped" id="clipped-element">Этот текст будет отображаться только в пределах заданной формы.</div>
        <select id="clip-shape">
          <option value="circle">Круг</option>
          <option value="polygon">Треугольник</option>
          <option value="ellipse">Эллипс</option>
          <option value="inset">Прямоугольник со скошенными углами</option>
        </select>
      </div>
    </section>

    <section id="shape-outside-example">
      <h2>Shape-outside пример</h2>
      <div class="shape-container">
        <img src="https://via.placeholder.com/150" class="shaped" id="shaped-image">
        <p id="text-paragraph">
          Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.
        </p>
      </div>
    </section>
  </div>

  <\/body>
  <script src="/index.js"><\/script>
</html>
`,
    "/styles.css": `body {
  font-family: sans-serif;
  background-color: #222;
  color: #eee;
  padding: 20px;
}

.container {
  max-width: 800px;
  margin: 0 auto;
}

h1, h2 {
  color: #ddd;
}

/* Clip-path стили */
.clipped-container {
  display: flex;
  align-items: center;
  gap: 20px;
}

.clipped {
  width: 200px;
  height: 200px;
  background-color: lightblue;
  display: flex;
  justify-content: center;
  align-items: center;
  text-align: center;
}

/* Shape-outside стили */
.shape-container {
  overflow: hidden; /* Важно для обтекания */
}

.shaped {
  width: 150px;
  height: 150px;
  float: left; /* Важно для обтекания */
  margin-right: 10px;
  shape-outside: circle(50%); /* Текст обтекает круг */
}

#text-paragraph {
  color: #fff;
}
`,
    "/index.js": `document.addEventListener('DOMContentLoaded', () => {
  const clipShapeSelect = document.getElementById('clip-shape');
  const clippedElement = document.getElementById('clipped-element');
  const shapedImage = document.getElementById('shaped-image');

  clipShapeSelect.addEventListener('change', (event) => {
    const selectedShape = event.target.value;
    let clipPathValue = '';

    switch (selectedShape) {
      case 'circle':
        clipPathValue = 'circle(50%)';
        break;
      case 'polygon':
        clipPathValue = 'polygon(50% 0%, 0% 100%, 100% 100%)';
        break;
      case 'ellipse':
        clipPathValue = 'ellipse(50% 50%)';
        break;
      case 'inset':
        clipPathValue = 'inset(20%)';
        break;
      default:
        clipPathValue = 'circle(50%)';
    }

    clippedElement.style.clipPath = clipPathValue;
    clippedElement.style.webkitClipPath = clipPathValue; // Для поддержки старых браузеров
  });

  // Пример с изменением shape-outside (можно добавить интерактивность, если нужно)
  // shapedImage.style.shapeOutside = 'polygon(0 0, 100% 0, 100% 75%, 75% 75%, 75% 100%, 0 100%)';
});
`
  }}
  options={{
    showNavigator: false,
    showLineNumbers: true,
    editorHeight: 400
  }}
/>
