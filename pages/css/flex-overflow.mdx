## CSS: Flex и переполнение контента


![Иллюстрация к уроку](/lessons/css-flex-overflow.png)
Flexbox – мощный инструмент для создания гибких и отзывчивых макетов. Однако, что происходит, когда контент элемента становится больше, чем доступное ему пространство? В этом уроке мы разберемся с тем, как Flexbox обрабатывает переполнение контента и как это контролировать.

### Что такое переполнение контента?

Переполнение контента происходит, когда размер содержимого элемента превышает его заданные размеры. Например, если у вас есть div с фиксированной шириной, а текст внутри него слишком длинный, чтобы поместиться, текст начнет "вылезать" за пределы div.

### Flexbox и переполнение: что происходит по умолчанию?

По умолчанию Flexbox пытается уместить все элементы в одну строку. Если контент flex-элемента слишком велик, он может сжать другие элементы или даже выйти за границы flex-контейнера. Это не всегда желательно.

```html
<div class="container">
  <div class="item">Очень длинный текст, который не помещается в контейнере.</div>
  <div class="item">Item 2</div>
</div>
```

```css
.container {
  display: flex;
  width: 300px;
  border: 1px solid black;
}

.item {
  width: 100px; /* Изначально планировалось, что элементы будут равной ширины */
  border: 1px solid red;
}
```

В этом примере, если текст в первом `item` слишком длинный, он может сжать второй `item` или выйти за пределы `container`.

### Свойство `flex-wrap`

Свойство `flex-wrap` позволяет переносить элементы на новую строку, когда они не помещаются в контейнере.

```css
.container {
  display: flex;
  width: 300px;
  border: 1px solid black;
  flex-wrap: wrap; /* Разрешаем перенос элементов */
}
```

Теперь, если контент flex-элемента слишком велик, он перенесется на новую строку, вместо того чтобы выходить за пределы контейнера или сжимать другие элементы.

### Свойство `overflow`

Свойство `overflow` определяет, как браузер должен обрабатывать переполнение контента. Оно может принимать значения:

*   `visible`: (по умолчанию) Контент отображается за пределами элемента.
*   `hidden`: Контент, выходящий за пределы элемента, обрезается.
*   `scroll`: Добавляются полосы прокрутки для просмотра всего контента.
*   `auto`: Добавляются полосы прокрутки только в том случае, если контент переполняет элемент.

```css
.item {
  width: 100px;
  border: 1px solid red;
  overflow: auto; /* Добавляем полосы прокрутки, если контент переполняет элемент */
}
```

Этот код добавит полосы прокрутки к элементу `item`, если его контент переполняет его.

### Жизненный пример

Во многих веб-приложениях используются панели навигации или боковые меню, созданные с помощью Flexbox. Если названия пунктов меню слишком длинные, они могут переполнять контейнер. В этом случае использование `flex-wrap: wrap` или `overflow: auto` поможет сохранить макет аккуратным и читаемым.

Например, bootstrap использует flexbox для своей grid system. При переполнении контента в колонках, можно использовать `overflow: auto` или `flex-wrap: wrap` в зависимости от желаемого результата.

### Ключевые моменты

*   Flexbox по умолчанию пытается уместить все элементы в одну строку.
*   Свойство `flex-wrap` позволяет переносить элементы на новую строку.
*   Свойство `overflow` контролирует отображение переполненного контента.
*   Используйте `overflow: auto` для добавления полос прокрутки при необходимости.
*   Понимание переполнения контента важно для создания адаптивных и удобных макетов.



## Интерактивный пример

<Sandpack
  template="vanilla"
  files={{
    "/index.html": `<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Flexbox и переполнение контента</title>
  <link rel="stylesheet" href="/styles.css">
</head>
<body>
  <div class="container">
    <div class="item" id="item1">Очень длинный текст, который не помещается в контейнере. Можно менять длину текста!</div>
    <div class="item">Item 2</div>
    <div class="item">Item 3</div>
  </div>

  <div class="controls">
    <label for="textInput">Изменить текст первого элемента:</label>
    <input type="text" id="textInput" value="Очень длинный текст, который не помещается в контейнере. Можно менять длину текста!">
    <button id="wrapButton">Toggle flex-wrap</button>
    <button id="overflowButton">Toggle overflow</button>
  </div>

  <\/body>
  <script src="/index.js"><\/script>
</html>
`,
    "/styles.css": `body {
  font-family: sans-serif;
  background-color: #222;
  color: #eee;
  padding: 20px;
}

.container {
  display: flex;
  width: 300px;
  border: 1px solid #555;
  margin-bottom: 20px;
  flex-wrap: nowrap; /* По умолчанию не переносим */
}

.item {
  width: 100px;
  border: 1px solid red;
  padding: 5px;
  box-sizing: border-box; /* Важно, чтобы padding не увеличивал ширину */
  overflow: hidden; /* По умолчанию скрываем переполнение */
  white-space: nowrap; /* Запрещаем перенос строк внутри элемента */
}

.controls {
  display: flex;
  flex-direction: column;
  gap: 10px;
}

.controls label {
  margin-bottom: 5px;
}
`,
    "/index.js": `// Получаем элементы управления
const textInput = document.getElementById('textInput');
const item1 = document.getElementById('item1');
const wrapButton = document.getElementById('wrapButton');
const container = document.querySelector('.container');
const overflowButton = document.getElementById('overflowButton');

// Обработчик изменения текста
textInput.addEventListener('input', () => {
  item1.textContent = textInput.value;
});

// Обработчик flex-wrap
wrapButton.addEventListener('click', () => {
  if (container.style.flexWrap === 'wrap') {
    container.style.flexWrap = 'nowrap';
    wrapButton.textContent = 'Toggle flex-wrap';
  } else {
    container.style.flexWrap = 'wrap';
    wrapButton.textContent = 'Toggle flex-wrap';
  }
});

// Обработчик overflow
overflowButton.addEventListener('click', () => {
  if (item1.style.overflow === 'auto') {
    item1.style.overflow = 'hidden';
    overflowButton.textContent = 'Toggle overflow';
  } else {
    item1.style.overflow = 'auto';
    overflowButton.textContent = 'Toggle overflow';
  }
});
`
  }}
  options={{
    showNavigator: false,
    showLineNumbers: true,
    editorHeight: 400
  }}
/>
