## CSS: Фильтры (blur, brightness, contrast и другие)


![Иллюстрация к уроку](/lessons/css-css-filters.png)
Фильтры в CSS позволяют применять визуальные эффекты к элементам, изменяя их внешний вид.  Они открывают широкие возможности для стилизации изображений, текста и других элементов без использования графических редакторов.

### Что такое CSS фильтры?

CSS фильтры — это набор функций, которые применяются к элементу для изменения его внешнего вида.  Они позволяют размывать изображения, регулировать яркость и контрастность, добавлять оттенки серого и выполнять множество других визуальных эффектов.  В отличие от, например, `opacity`, фильтры могут применяться более избирательно и создавать более сложные эффекты.

### Основные фильтры и примеры

Рассмотрим наиболее часто используемые фильтры:

*   **`blur()`**:  Размывает элемент. Значение задается в пикселях (px).

```css
img {
  filter: blur(5px); /* Размытие изображения на 5 пикселей */
}
```

*   **`brightness()`**:  Регулирует яркость элемента. Значение задается в процентах (0% - полная темнота, 100% - исходная яркость, >100% - ярче).

```css
img {
  filter: brightness(150%); /* Увеличение яркости изображения на 50% */
}
```

*   **`contrast()`**:  Регулирует контрастность элемента. Значение задается в процентах (0% - серый, 100% - исходная контрастность, >100% - более контрастно).

```css
img {
  filter: contrast(200%); /* Увеличение контрастности изображения в 2 раза */
}
```

*   **`grayscale()`**: Преобразует элемент в оттенки серого. Значение задается в процентах (0% - цветное изображение, 100% - полностью серое).

```css
img {
  filter: grayscale(100%); /* Преобразование изображения в черно-белое */
}
```

*   **`sepia()`**:  Применяет к элементу эффект сепии. Значение задается в процентах (0% - без эффекта, 100% - максимальный эффект сепии).

```css
img {
  filter: sepia(80%); /* Применение эффекта сепии к изображению */
}
```

*   **`hue-rotate()`**:  Изменяет оттенок элемента. Значение задается в градусах (deg).

```css
img {
  filter: hue-rotate(90deg); /* Сдвиг оттенка изображения на 90 градусов */
}
```

*   **`invert()`**:  Инвертирует цвета элемента. Значение задается в процентах (0% - без эффекта, 100% - полная инверсия).

```css
img {
  filter: invert(100%); /* Инверсия цветов изображения */
}
```

*   **`opacity()`**:  Устанавливает прозрачность элемента. Значение задается в процентах (0% - полностью прозрачный, 100% - полностью непрозрачный).  Этот фильтр дублирует свойство `opacity`, но полезен, когда нужно применить несколько фильтров одновременно.

```css
img {
  filter: opacity(50%); /* Установка прозрачности изображения на 50% */
}
```

*   **`drop-shadow()`**: Добавляет тень к элементу.  Принимает параметры, аналогичные свойству `box-shadow`.

```css
img {
  filter: drop-shadow(5px 5px 5px #666666); /* Добавление тени к изображению */
}
```

### Практический пример

```html
<!DOCTYPE html>
<html>
<head>
<title>CSS Filters</title>
<style>
  .container {
    display: flex;
    justify-content: space-around;
    align-items: center;
    height: 300px;
  }

  img {
    width: 200px;
    height: 200px;
    object-fit: cover; /* Чтобы изображения не искажались */
  }

  .blur {
    filter: blur(3px);
  }

  .grayscale {
    filter: grayscale(100%);
  }

  .brightness {
    filter: brightness(120%);
  }
</style>
</head>
<body>
  <div class="container">
    <img src="image.jpg" alt="Original Image">
    <img src="image.jpg" alt="Blurred Image" class="blur">
    <img src="image.jpg" alt="Grayscale Image" class="grayscale">
    <img src="image.jpg" alt="Brightness Image" class="brightness">
  </div>
</body>
</html>
```

Замените `image.jpg` на путь к вашему изображению.

### Жизненный пример

Фильтры CSS широко используются в современных веб-проектах. Например:

*   **Размытие фона (blur)**: Часто используется для создания эффекта размытия фона за модальными окнами или навигационными панелями, чтобы привлечь внимание к основному контенту. Многие сайты используют это для эффекта "замороженного стекла".
*   **Изменение цветовой гаммы (hue-rotate, sepia, grayscale)**:  Используется для создания уникального стиля сайта, особенно при переключении между светлой и темной темами.  Также часто применяется для стилизации фотографий в портфолио.
*   **Улучшение читаемости текста (brightness, contrast)**: Используется для улучшения читаемости текста поверх изображений, особенно на сайтах с большим количеством визуального контента.
*   **Эффекты при наведении (hover effects)**:  Фильтры часто применяются для создания интерактивных эффектов при наведении мыши на элементы, например, изменение яркости или контрастности изображения.

### Ключевые моменты

*   Фильтры CSS позволяют применять визуальные эффекты к элементам без использования графических редакторов.
*   Основные фильтры: `blur()`, `brightness()`, `contrast()`, `grayscale()`, `sepia()`, `hue-rotate()`, `invert()`, `opacity()`, `drop-shadow()`.
*   Фильтры можно комбинировать для создания более сложных эффектов.
*   Фильтры широко используются в современных веб-проектах для стилизации изображений, улучшения читаемости текста и создания интерактивных эффектов.
*   Важно помнить о производительности, особенно при использовании сложных фильтров на большом количестве элементов.



## Интерактивный пример

<Sandpack
  template="vanilla"
  files={{
    "/index.html": `<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>CSS Filters</title>
  <link rel="stylesheet" href="/styles.css">
</head>
<body>
  <div class="container">
    <h1>CSS Фильтры</h1>

    <div class="image-container">
      <img id="target-image" src="https://images.unsplash.com/photo-1682687220193-c39714c770e9?q=80&w=2070&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDF8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D" alt="Изображение для фильтров">
    </div>

    <div class="controls">
      <label for="blur">Размытие:</label>
      <input type="range" id="blur" min="0" max="10" value="0">

      <label for="brightness">Яркость:</label>
      <input type="range" id="brightness" min="0" max="200" value="100">

      <label for="contrast">Контраст:</label>
      <input type="range" id="contrast" min="0" max="200" value="100">

      <label for="grayscale">Оттенки серого:</label>
      <input type="range" id="grayscale" min="0" max="100" value="0">

      <label for="sepia">Сепия:</label>
      <input type="range" id="sepia" min="0" max="100" value="0">

      <label for="hue-rotate">Сдвиг оттенка:</label>
      <input type="range" id="hue-rotate" min="0" max="360" value="0">

      <label for="invert">Инверсия:</label>
      <input type="range" id="invert" min="0" max="100" value="0">

      <label for="opacity">Прозрачность:</label>
      <input type="range" id="opacity" min="0" max="100" value="100">

      <button id="reset-button">Сбросить</button>
    </div>
  </div>

  <script src="/index.js"><\/script>
</body>
</html>
`,
    "/styles.css": `body {
  font-family: sans-serif;
  background-color: #222;
  color: #eee;
  padding: 20px;
}

.container {
  max-width: 800px;
  margin: 0 auto;
}

.image-container {
  margin-bottom: 20px;
  text-align: center;
}

img {
  max-width: 100%;
  height: auto;
  border: 1px solid #555;
}

.controls {
  display: grid;
  grid-template-columns: auto auto;
  gap: 10px;
  margin-bottom: 20px;
}

.controls label {
  text-align: right;
}

.controls input[type="range"] {
  width: 100%;
}

#reset-button {
  grid-column: 1 / span 2;
  padding: 10px;
  background-color: #444;
  color: #eee;
  border: none;
  cursor: pointer;
}

#reset-button:hover {
  background-color: #555;
}
`,
    "/index.js": `document.addEventListener('DOMContentLoaded', () => {
  const image = document.getElementById('target-image');
  const blurInput = document.getElementById('blur');
  const brightnessInput = document.getElementById('brightness');
  const contrastInput = document.getElementById('contrast');
  const grayscaleInput = document.getElementById('grayscale');
  const sepiaInput = document.getElementById('sepia');
  const hueRotateInput = document.getElementById('hue-rotate');
  const invertInput = document.getElementById('invert');
  const opacityInput = document.getElementById('opacity');
  const resetButton = document.getElementById('reset-button');

  function applyFilters() {
    const blur = blurInput.value;
    const brightness = brightnessInput.value;
    const contrast = contrastInput.value;
    const grayscale = grayscaleInput.value;
    const sepia = sepiaInput.value;
    const hueRotate = hueRotateInput.value;
    const invert = invertInput.value;
    const opacity = opacityInput.value;

    image.style.filter = \`blur(\${blur}px) brightness(\${brightness}%) contrast(\${contrast}%) grayscale(\${grayscale}%) sepia(\${sepia}%) hue-rotate(\${hueRotate}deg) invert(\${invert}%) opacity(\${opacity}%)\`;
  }

  blurInput.addEventListener('input', applyFilters);
  brightnessInput.addEventListener('input', applyFilters);
  contrastInput.addEventListener('input', applyFilters);
  grayscaleInput.addEventListener('input', applyFilters);
  sepiaInput.addEventListener('input', applyFilters);
  hueRotateInput.addEventListener('input', applyFilters);
  invertInput.addEventListener('input', applyFilters);
  opacityInput.addEventListener('input', applyFilters);

  resetButton.addEventListener('click', () => {
    blurInput.value = 0;
    brightnessInput.value = 100;
    contrastInput.value = 100;
    grayscaleInput.value = 0;
    sepiaInput.value = 0;
    hueRotateInput.value = 0;
    invertInput.value = 0;
    opacityInput.value = 100;
    applyFilters();
  });

  applyFilters(); // Применить фильтры при загрузке страницы
});
`
  }}
  options={{
    showNavigator: false,
    showLineNumbers: true,
    editorHeight: 400
  }}
/>
