## TypeScript: –ü–∞—Ç—Ç–µ—Ä–Ω—ã –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

–ü—Ä–∏–≤–µ—Ç, –º–æ–π –¥–æ—Ä–æ–≥–æ–π –¥—Ä—É–≥, —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫ —Å –±–æ–ª—å—à–æ–π –±—É–∫–≤—ã! –Ø—à–∞ —Å–Ω–æ–≤–∞ –∑–¥–µ—Å—å, –∏ —Å–µ–≥–æ–¥–Ω—è –º—ã –Ω—ã—Ä–Ω–µ–º –≤ –º–∏—Ä, –≥–¥–µ –∫–æ–¥ –Ω–µ –ø—Ä–æ—Å—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç, –∞ —Ä–∞–±–æ—Ç–∞–µ—Ç *–±—ã—Å—Ç—Ä–æ* –∏ *—ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ*. –ú—ã –ø–æ–≥–æ–≤–æ—Ä–∏–º –æ –ø–∞—Ç—Ç–µ—Ä–Ω–∞—Ö –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –≤ TypeScript. –ù–æ –Ω–µ —Å–ø–µ—à–∏ –¥—É–º–∞—Ç—å, —á—Ç–æ –º—ã –±—É–¥–µ–º –∑–∞–Ω–∏–º–∞—Ç—å—Å—è –º–∏–∫—Ä–æ–æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è–º–∏ –∏–ª–∏ –∫–æ–≤—ã—Ä—è—Ç—å—Å—è –≤ –±–∞–π—Ç-–∫–æ–¥–µ. –ù–µ—Ç! –í TypeScript –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è ‚Äî —ç—Ç–æ –Ω–µ —Ç–æ–ª—å–∫–æ –ø—Ä–æ runtime –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å, –Ω–æ –∏ –ø—Ä–æ —É—Å–∫–æ—Ä–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä–∞, —É–ª—É—á—à–µ–Ω–∏–µ DX (Developer Experience) –∏, –∫–æ–Ω–µ—á–Ω–æ –∂–µ, –ø—Ä–æ –Ω–∞–ø–∏—Å–∞–Ω–∏–µ –±–æ–ª–µ–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º–æ–≥–æ –∏ –ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–æ–≥–æ –∫–æ–¥–∞.

–ü—Ä–µ–¥—Å—Ç–∞–≤—å, —á—Ç–æ —Ç–≤–æ–π –∫–æ–¥ ‚Äî —ç—Ç–æ —Ä–æ—Å–∫–æ—à–Ω—ã–π —Å–ø–æ—Ä—Ç–∏–≤–Ω—ã–π –∞–≤—Ç–æ–º–æ–±–∏–ª—å. TypeScript –ø–æ–º–æ–≥–∞–µ—Ç —Ç–µ–±–µ –Ω–µ —Ç–æ–ª—å–∫–æ —Å–æ–±—Ä–∞—Ç—å –µ–≥–æ –ø–æ —á–µ—Ä—Ç–µ–∂–∞–º, –Ω–æ –∏ —É–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –≤—Å–µ –¥–µ—Ç–∞–ª–∏ –Ω–∞ —Å–≤–æ–∏—Ö –º–µ—Å—Ç–∞—Ö, –∞ –¥–≤–∏–≥–∞—Ç–µ–ª—å —Ä–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ –ø–µ—Ä–µ–±–æ–µ–≤. –ü–∞—Ç—Ç–µ—Ä–Ω—ã –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ ‚Äî —ç—Ç–æ —Ç—é–Ω–∏–Ω–≥, –∫–æ—Ç–æ—Ä—ã–π –¥–µ–ª–∞–µ—Ç —ç—Ç–æ—Ç –∞–≤—Ç–æ–º–æ–±–∏–ª—å –Ω–µ –ø—Ä–æ—Å—Ç–æ –∫—Ä–∞—Å–∏–≤—ã–º, –Ω–æ –∏ –Ω–µ–≤–µ—Ä–æ—è—Ç–Ω–æ –º–æ—â–Ω—ã–º.

### üöó –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –Ω–∞ —É—Ä–æ–≤–Ω–µ —Ç–∏–ø–æ–≤ (Compile-Time)

–î–∞-–¥–∞, TypeScript —É–º–µ–µ—Ç –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –¥–∞–∂–µ –Ω–∞ —ç—Ç–∞–ø–µ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏! –≠—Ç–æ –Ω–µ –ø—Ä–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∫–æ–¥–∞, –∞ –ø—Ä–æ —Å–∫–æ—Ä–æ—Å—Ç—å —Ä–∞–±–æ—Ç—ã —Å–∞–º–æ–≥–æ –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä–∞ –∏ –ø—Ä–æ —Ç–æ, –∫–∞–∫ –æ–Ω –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —Å–ª–æ–∂–Ω—ã–µ —Ç–∏–ø—ã. –ß—Ä–µ–∑–º–µ—Ä–Ω–æ —Å–ª–æ–∂–Ω—ã–µ –∏–ª–∏ —Ä–µ–∫—É—Ä—Å–∏–≤–Ω—ã–µ —Ç–∏–ø—ã –º–æ–≥—É—Ç –∑–∞–º–µ–¥–ª—è—Ç—å –∫–æ–º–ø–∏–ª—è—Ü–∏—é, –∏ —Ç—É—Ç –Ω–∞–º –Ω–∞ –ø–æ–º–æ—â—å –ø—Ä–∏—Ö–æ–¥—è—Ç —Ç–µ—Ö–Ω–∏–∫–∏ "–º–µ–º–æ–∏–∑–∞—Ü–∏–∏" —Ç–∏–ø–æ–≤.

#### –ú–µ–º–æ–∏–∑–∞—Ü–∏—è —Ç–∏–ø–æ–≤ —Å –ø–æ–º–æ—â—å—é —É—Å–ª–æ–≤–Ω—ã—Ö —Ç–∏–ø–æ–≤

–ò–¥–µ—è –ø—Ä–æ—Å—Ç–∞: –µ—Å–ª–∏ –º—ã —É–∂–µ –≤—ã—á–∏—Å–ª–∏–ª–∏ —Å–ª–æ–∂–Ω—ã–π —Ç–∏–ø, –∑–∞—á–µ–º –≤—ã—á–∏—Å–ª—è—Ç—å –µ–≥–æ —Å–Ω–æ–≤–∞? TypeScript –Ω–µ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —è–≤–Ω–æ–≥–æ –º–µ—Ö–∞–Ω–∏–∑–º–∞ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è —Ç–∏–ø–æ–≤, –Ω–æ –º—ã –º–æ–∂–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —É—Å–ª–æ–≤–Ω—ã–µ —Ç–∏–ø—ã (`A extends B ? X : Y`) –∏ `infer` –¥–ª—è –∏–º–∏—Ç–∞—Ü–∏–∏ —ç—Ç–æ–≥–æ –ø–æ–≤–µ–¥–µ–Ω–∏—è, –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –≤–Ω—É—Ç—Ä–∏ –±–æ–ª–µ–µ —Å–ª–æ–∂–Ω—ã—Ö —Å—Ç—Ä—É–∫—Ç—É—Ä.

–ü—Ä–µ–¥—Å—Ç–∞–≤—å, —á—Ç–æ —É –Ω–∞—Å –µ—Å—Ç—å —Å–ª–æ–∂–Ω—ã–π —Ç–∏–ø, –∫–æ—Ç–æ—Ä—ã–π "–≥–ª—É–±–æ–∫–æ —á–∏—Ç–∞–µ—Ç" —Å—Ç—Ä—É–∫—Ç—É—Ä—É –æ–±—ä–µ–∫—Ç–∞.

```typescript
// –û–ø—Ä–µ–¥–µ–ª–∏–º –Ω–µ–∫–∏–π —Å–ª–æ–∂–Ω—ã–π —Ç–∏–ø, –∫–æ—Ç–æ—Ä—ã–π —á—Ç–æ-—Ç–æ –¥–µ–ª–∞–µ—Ç —Å –≤–ª–æ–∂–µ–Ω–Ω—ã–º–∏ —Å–≤–æ–π—Å—Ç–≤–∞–º–∏
type DeepExtractProperty<T, K extends keyof T> = T[K] extends object
  ? { [P in keyof T[K]]: T[K][P] }
  : T[K];

// –ê —Ç–µ–ø–µ—Ä—å –ø—Ä–µ–¥—Å—Ç–∞–≤–∏–º, —á—Ç–æ –º—ã —Ö–æ—Ç–∏–º "–∫—ç—à–∏—Ä–æ–≤–∞—Ç—å" —Ä–µ–∑—É–ª—å—Ç–∞—Ç –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ T –∏ K
// –≠—Ç–æ –Ω–µ –Ω–∞—Å—Ç–æ—è—â–∞—è –º–µ–º–æ–∏–∑–∞—Ü–∏—è –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä–∞, –Ω–æ —Ö–æ—Ä–æ—à–∏–π –ø–∞—Ç—Ç–µ—Ä–Ω –¥–ª—è –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
// –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –≤ —Å–ª–æ–∂–Ω—ã—Ö —Ç–∏–ø–∞—Ö.
type MemoizedResult<T, K extends keyof T, Result = DeepExtractProperty<T, K>> = Result;

interface UserProfile {
  id: number;
  details: {
    name: string;
    email: string;
    address: {
      city: string;
      zip: number;
    };
  };
  isActive: boolean;
}

// –¢–µ–ø–µ—Ä—å –º—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º MemoizedResult, —á—Ç–æ–±—ã —É–∫–∞–∑–∞—Ç—å, —á—Ç–æ –º—ã –æ–∂–∏–¥–∞–µ–º –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–π —Ç–∏–ø
// –≠—Ç–æ –Ω–µ —É—Å–∫–æ—Ä—è–µ—Ç –∫–æ–º–ø–∏–ª—è—Ü–∏—é –Ω–∞–ø—Ä—è–º—É—é, –Ω–æ –ø–æ–º–æ–≥–∞–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞—Ç—å —Å–ª–æ–∂–Ω—ã–µ —Ç–∏–ø—ã
// –∏ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—Ç–∏—Ç—å –ø–æ–≤—Ç–æ—Ä–Ω—ã–µ "–¥–æ—Ä–æ–≥–∏–µ" –≤—ã—á–∏—Å–ª–µ–Ω–∏—è –≤ —Ä–∞–º–∫–∞—Ö –æ–¥–Ω–æ–π —Ü–µ–ø–æ—á–∫–∏ —Ç–∏–ø–æ–≤.
type UserDetailsType = MemoizedResult<UserProfile, 'details'>;

const userDetails: UserDetailsType = {
  name: "–Ø—à–∞",
  email: "yasha@learncode.com",
  address: { city: "TypeScriptville", zip: 12345 }
};

console.log(userDetails);

// –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è "infer" –¥–ª—è –∏–∑–≤–ª–µ—á–µ–Ω–∏—è –∏ –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Ç–∏–ø–∞
type GetArrayElementType<T> = T extends (infer ElementType)[] ? ElementType : never;

type StringArray = string[];
type Element = GetArrayElementType<StringArray>; // Element –±—É–¥–µ—Ç 'string'
```

–≠—Ç–æ—Ç –ø–æ–¥—Ö–æ–¥ –Ω–µ "–∫—ç—à–∏—Ä—É–µ—Ç" —Å–∞–º –ø—Ä–æ—Ü–µ—Å—Å –≤—ã—á–∏—Å–ª–µ–Ω–∏—è —Ç–∏–ø–∞ –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä–æ–º, –Ω–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç —Ç–µ–±–µ –æ–¥–∏–Ω —Ä–∞–∑ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å —Å–ª–æ–∂–Ω—ã–π –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–π —Ç–∏–ø –∏ –∑–∞—Ç–µ–º –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –µ–≥–æ –ø–æ –∏–º–µ–Ω–∏ (`MemoizedResult` –∏–ª–∏ `ElementType`), —á—Ç–æ —É–ª—É—á—à–∞–µ—Ç —á–∏—Ç–∞–µ–º–æ—Å—Ç—å –∏ –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å, –∞ –≤ –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö —Å–ª—É—á–∞—è—Ö –º–æ–∂–µ—Ç –ø–æ–º–æ—á—å –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä—É –∏–∑–±–µ–≥–∞—Ç—å –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö –æ–±—Ö–æ–¥–æ–≤ AST, –µ—Å–ª–∏ –æ–Ω —Å–º–æ–∂–µ—Ç —Ä–∞–∑—Ä–µ—à–∏—Ç—å —Ç–∏–ø –±—ã—Å—Ç—Ä–µ–µ –ø–æ –∏–º–µ–Ω–∏.

### üöÄ –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –Ω–∞ —É—Ä–æ–≤–Ω–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è (Runtime)

–¢–µ–ø–µ—Ä—å –ø–µ—Ä–µ—Ö–æ–¥–∏–º –∫ –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–æ–π –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ ‚Äî –∫–∞–∫ —Å–¥–µ–ª–∞—Ç—å –Ω–∞—à –∫–æ–¥ –±—ã—Å—Ç—Ä–µ–µ, –∫–æ–≥–¥–∞ –æ–Ω —É–∂–µ –∑–∞–ø—É—â–µ–Ω. TypeScript –∑–¥–µ—Å—å –≤—ã—Å—Ç—É–ø–∞–µ—Ç –∫–∞–∫ –Ω–∞—à –Ω–∞–¥–µ–∂–Ω—ã–π –ø–æ–º–æ—â–Ω–∏–∫, –∫–æ—Ç–æ—Ä—ã–π —Å–ª–µ–¥–∏—Ç –∑–∞ —Ç–∏–ø–∞–º–∏ –∏ –ø–æ–∑–≤–æ–ª—è–µ—Ç –Ω–∞–º —Å—Ç—Ä–æ–∏—Ç—å –±–æ–ª–µ–µ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–µ –∏ –±–µ–∑–æ–ø–∞—Å–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã.

#### 1. Type Guards –¥–ª—è —É–∑–∫–∏—Ö –º–µ—Å—Ç –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

Type Guards (–∑–∞—â–∏—Ç–Ω–∏–∫–∏ —Ç–∏–ø–æ–≤) ‚Äî —ç—Ç–æ –Ω–µ —Ç–æ–ª—å–∫–æ –ø—Ä–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å, –Ω–æ –∏ –ø—Ä–æ –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—É—é –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—é. –ö–æ–≥–¥–∞ –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä —Å—É–∂–∞–µ—Ç —Ç–∏–ø –≤–Ω—É—Ç—Ä–∏ –±–ª–æ–∫–∞ `if` (–Ω–∞–ø—Ä–∏–º–µ—Ä, `if (typeof value === 'string')`), —ç—Ç–æ –ø–æ–º–æ–≥–∞–µ—Ç –µ–º—É "–∑–Ω–∞—Ç—å" –±–æ–ª—å—à–µ –æ –¥–∞–Ω–Ω—ã—Ö. –ù–∞ runtime —ç—Ç–æ –º–æ–∂–µ—Ç –ø–æ–∑–≤–æ–ª–∏—Ç—å –∏–∑–±–µ–∂–∞—Ç—å –ª–∏—à–Ω–∏—Ö –ø—Ä–æ–≤–µ—Ä–æ–∫ –∏–ª–∏ –≤—ã–∑–æ–≤–æ–≤ —Ñ—É–Ω–∫—Ü–∏–π, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ –ø—Ä–∏–º–µ–Ω–∏–º—ã –∫ —Ç–µ–∫—É—â–µ–º—É —Ç–∏–ø—É.

```typescript
interface ApiResponse {
  status: 'success' | 'error';
  data?: unknown; // data –º–æ–∂–µ—Ç –±—ã—Ç—å —á–µ–º —É–≥–æ–¥–Ω–æ
  message?: string;
}

interface SuccessData {
  id: string;
  payload: string;
}

function isSuccessData(data: unknown): data is SuccessData {
  return typeof data === 'object' && data !== null && 'id' in data && 'payload' in data;
}

function processResponse(response: ApiResponse) {
  if (response.status === 'success' && response.data) {
    // –ó–¥–µ—Å—å response.data –≤—Å–µ –µ—â–µ unknown. –ù—É–∂–µ–Ω Type Guard!
    if (isSuccessData(response.data)) {
      // TypeScript —Ç–µ–ø–µ—Ä—å –∑–Ω–∞–µ—Ç, —á—Ç–æ response.data —ç—Ç–æ SuccessData
      console.log(`–£—Å–ø–µ—à–Ω–æ –æ–±—Ä–∞–±–æ—Ç–∞–Ω—ã –¥–∞–Ω–Ω—ã–µ: ID=${response.data.id}, Payload=${response.data.payload}`);
      // –ó–¥–µ—Å—å –º—ã –∏–∑–±–µ–∂–∞–ª–∏ –æ—à–∏–±–æ–∫ –Ω–∞ runtime –∏ –æ–±–µ—Å–ø–µ—á–∏–ª–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
      // –ï—Å–ª–∏ –±—ã –º—ã –Ω–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏ Type Guard, –ø—Ä–∏—à–ª–æ—Å—å –±—ã –¥–µ–ª–∞—Ç—å –ø—Ä–∏–≤–µ–¥–µ–Ω–∏—è —Ç–∏–ø–æ–≤ (as),
      // —á—Ç–æ –Ω–µ–±–µ–∑–æ–ø–∞—Å–Ω–æ –∏ –Ω–µ –¥–∞—ë—Ç –Ω–∏–∫–∞–∫–∏—Ö –≥–∞—Ä–∞–Ω—Ç–∏–π.
    } else {
      console.warn("–ü–æ–ª—É—á–µ–Ω—ã —É—Å–ø–µ—à–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ, –Ω–æ –≤ –Ω–µ–æ–∂–∏–¥–∞–Ω–Ω–æ–º —Ñ–æ—Ä–º–∞—Ç–µ.");
    }
  } else if (response.status === 'error' && response.message) {
    console.error(`–û—à–∏–±–∫–∞: ${response.message}`);
  } else {
    console.warn("–ù–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–π —Å—Ç–∞—Ç—É—Å –æ—Ç–≤–µ—Ç–∞ –∏–ª–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç –¥–∞–Ω–Ω—ã–µ.");
  }
}

processResponse({ status: 'success', data: { id: 'abc-123', payload: 'Some valuable info' } });
processResponse({ status: 'error', message: 'Something went wrong' });
processResponse({ status: 'success', data: 'malformed data' }); // –û—Ç—Ä–∞–±–æ—Ç–∞–µ—Ç —á–µ—Ä–µ–∑ else –≤–µ—Ç–∫—É –≤–Ω—É—Ç—Ä–∏
```

#### 2. –ú–µ–º–æ–∏–∑–∞—Ü–∏—è —Ñ—É–Ω–∫—Ü–∏–π/–º–µ—Ç–æ–¥–æ–≤ —Å –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä–∞–º–∏ –∏–ª–∏ HOCs

–ú–µ–º–æ–∏–∑–∞—Ü–∏—è (caching) —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –¥–æ—Ä–æ–≥–∏—Ö –≤—ã—á–∏—Å–ª–µ–Ω–∏–π ‚Äî –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π –ø–∞—Ç—Ç–µ—Ä–Ω –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ runtime. TypeScript, –±–ª–∞–≥–æ–¥–∞—Ä—è –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä–∞–º –∏ —Å—Ç—Ä–æ–≥–æ–π —Ç–∏–ø–∏–∑–∞—Ü–∏–∏, –¥–µ–ª–∞–µ—Ç —ç—Ç–æ—Ç –ø–∞—Ç—Ç–µ—Ä–Ω –æ—á–µ–Ω—å —ç–ª–µ–≥–∞–Ω—Ç–Ω—ã–º.

```typescript
// –ü—Ä–æ—Å—Ç–∞—è —Ñ—É–Ω–∫—Ü–∏—è –º–µ–º–æ–∏–∑–∞—Ü–∏–∏, –∫—ç—à–∏—Ä—É–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç –ø–æ –∞—Ä–≥—É–º–µ–Ω—Ç–∞–º
function memoize<T extends (...args: any[]) => any>(
  fn: T,
  cache: Map<string, ReturnType<T>> = new Map()
): T {
  return function (...args: Parameters<T>): ReturnType<T> {
    const key = JSON.stringify(args); // –ü—Ä–æ—Å—Ç–æ–π –∫–ª—é—á, –º–æ–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å –±–æ–ª–µ–µ —Å–ª–æ–∂–Ω—ã–π
    if (cache.has(key)) {
      console.log(`CACHE HIT for ${fn.name || 'anonymous'} with args: ${key}`);
      return cache.get(key)!;
    }
    console.log(`CACHE MISS for ${fn.name || 'anonymous'} with args: ${key}`);
    const result = fn(...args);
    cache.set(key, result);
    return result;
  } as T;
}

// –ü—Ä–∏–º–µ–Ω—è–µ–º –º–µ–º–æ–∏–∑–∞—Ü–∏—é –∫ "–¥–æ—Ä–æ–≥–æ–π" —Ñ—É–Ω–∫—Ü–∏–∏
const expensiveCalculation = memoize(function calculateFactorial(n: number): number {
  if (n <= 1) return 1;
  let result = 1;
  for (let i = 2; i <= n; i++) {
    result *= i;
  }
  return result;
});

console.log(expensiveCalculation(5)); // –í—ã—á–∏—Å–ª–µ–Ω–∏–µ, CACHE MISS
console.log(expensiveCalculation(5)); // –ò–∑ –∫—ç—à–∞, CACHE HIT
console.log(expensiveCalculation(7)); // –í—ã—á–∏—Å–ª–µ–Ω–∏–µ, CACHE MISS
console.log(expensiveCalculation(5)); // –ò–∑ –∫—ç—à–∞, CACHE HIT
```

–î–µ–∫–æ—Ä–∞—Ç–æ—Ä –¥–ª—è –º–µ–º–æ–∏–∑–∞—Ü–∏–∏ –º–µ—Ç–æ–¥–æ–≤:

```typescript
// –î–µ–∫–æ—Ä–∞—Ç–æ—Ä –¥–ª—è –º–µ–º–æ–∏–∑–∞—Ü–∏–∏ –º–µ—Ç–æ–¥–∞
function MemoizeMethod() {
  const cache = new Map<string, any>(); // –ö—ç—à –¥–ª—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

  return function (target: any, propertyKey: string, descriptor: PropertyDescriptor) {
    const originalMethod = descriptor.value;

    descriptor.value = function (...args: any[]) {
      const key = JSON.stringify(args); // –ö–ª—é—á –¥–ª—è –∫—ç—à–∞
      if (cache.has(key)) {
        console.log(`[DECORATOR] CACHE HIT for method ${propertyKey} with args: ${key}`);
        return cache.get(key);
      }
      console.log(`[DECORATOR] CACHE MISS for method ${propertyKey} with args: ${key}`);
      const result = originalMethod.apply(this, args);
      cache.set(key, result);
      return result;
    };

    return descriptor;
  };
}

class Calculator {
  @MemoizeMethod()
  add(a: number, b: number): number {
    console.log(`Performing heavy addition: ${a} + ${b}`);
    return a + b;
  }

  @MemoizeMethod()
  multiply(a: number, b: number): number {
    console.log(`Performing heavy multiplication: ${a} * ${b}`);
    // –ò–º–∏—Ç–∞—Ü–∏—è –¥–æ—Ä–æ–≥–æ–π –æ–ø–µ—Ä–∞—Ü–∏–∏
    for (let i = 0; i < 1000000; i++) {}
    return a * b;
  }
}

const calc = new Calculator();
console.log(calc.add(1, 2)); // –í—ã—á–∏—Å–ª–µ–Ω–∏–µ
console.log(calc.add(1, 2)); // –ò–∑ –∫—ç—à–∞
console.log(calc.multiply(3, 4)); // –í—ã—á–∏—Å–ª–µ–Ω–∏–µ
console.log(calc.multiply(3, 4)); // –ò–∑ –∫—ç—à–∞
```

#### 3. –ò–º–º—É—Ç–∞–±–µ–ª—å–Ω–æ—Å—Ç—å –∏ `readonly`

–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∏–º–º—É—Ç–∞–±–µ–ª—å–Ω—ã—Ö —Å—Ç—Ä—É–∫—Ç—É—Ä –¥–∞–Ω–Ω—ã—Ö —É–ø—Ä–æ—â–∞–µ—Ç –æ—Ç–ª–∞–¥–∫—É, –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç –Ω–µ–∂–µ–ª–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–±–æ—á–Ω—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã –∏ –º–æ–∂–µ—Ç –∫–æ—Å–≤–µ–Ω–Ω–æ —É–ª—É—á—à–∏—Ç—å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∑–∞ —Å—á–µ—Ç –±–æ–ª–µ–µ –ø—Ä–æ—Å—Ç—ã—Ö –º–µ—Ö–∞–Ω–∏–∑–º–æ–≤ —Å—Ä–∞–≤–Ω–µ–Ω–∏—è (—Å—Å—ã–ª–∫–∏ –≤–º–µ—Å—Ç–æ –≥–ª—É–±–æ–∫–∏—Ö —Å—Ä–∞–≤–Ω–µ–Ω–∏–π). TypeScript –ø–æ–º–æ–≥–∞–µ—Ç –æ–±–µ—Å–ø–µ—á–∏—Ç—å –∏–º–º—É—Ç–∞–±–µ–ª—å–Ω–æ—Å—Ç—å —á–µ—Ä–µ–∑ –º–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä `readonly`.

```typescript
interface Task {
  readonly id: string; // ID –Ω–µ–ª—å–∑—è –∏–∑–º–µ–Ω–∏—Ç—å
  readonly title: string;
  readonly completed: boolean;
  readonly assignedTo?: readonly string[]; // –ú–∞—Å—Å–∏–≤ —Å—Ç—Ä–æ–∫, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ–ª—å–∑—è –∏–∑–º–µ–Ω–∏—Ç—å
}

const myTask: Task = {
  id: "task-1",
  title: "–ù–∞–ø–∏—Å–∞—Ç—å —Å—Ç–∞—Ç—å—é",
  completed: false,
  assignedTo: ["–Ø—à–∞", "–ö–æ–ª–ª–µ–≥–∞"],
};

// myTask.id = "new-id"; // –û—à–∏–±–∫–∞: Cannot assign to 'id' because it is a read-only property.
// myTask.assignedTo.push("–ï—â–µ –∫—Ç–æ-—Ç–æ"); // –û—à–∏–±–∫–∞: Property 'push' does not exist on type 'readonly string[]'.

// –î–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è –∑–∞–¥–∞—á–∏ –Ω—É–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤—É—é
const updatedTask: Task = {
  ...myTask, // –ö–æ–ø–∏—Ä—É–µ–º –≤—Å–µ —Å–≤–æ–π—Å—Ç–≤–∞
  completed: true, // –ò–∑–º–µ–Ω—è–µ–º —Ç–æ–ª—å–∫–æ –Ω—É–∂–Ω—ã–µ
  assignedTo: myTask.assignedTo ? [...myTask.assignedTo, "–ù–æ–≤—ã–π —á–µ–ª–æ–≤–µ–∫"] : ["–ù–æ–≤—ã–π —á–µ–ª–æ–≤–µ–∫"], // –û–±–Ω–æ–≤–ª—è–µ–º –º–∞—Å—Å–∏–≤
};

console.log(myTask);
console.log(updatedTask);
```

### üò© –¢–∏–ø–∏—á–Ω—ã–µ –æ—à–∏–±–∫–∏ –ø—Ä–∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

1.  **–ü—Ä–µ–∂–¥–µ–≤—Ä–µ–º–µ–Ω–Ω–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è (Premature Optimization):** –°–∞–º–∞—è –±–æ–ª—å—à–∞—è –æ—à–∏–±–∫–∞. –ù–µ –æ–ø—Ç–∏–º–∏–∑–∏—Ä—É–π —Ç–æ, —á—Ç–æ –Ω–µ —è–≤–ª—è–µ—Ç—Å—è —É–∑–∫–∏–º –º–µ—Å—Ç–æ–º. –ò–∑–º–µ—Ä—è–π –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å (–ø—Ä–æ—Ñ–∏–ª–∏—Ä—É–π!) –ø–µ—Ä–µ–¥ —Ç–µ–º, –∫–∞–∫ —á—Ç–æ-—Ç–æ –º–µ–Ω—è—Ç—å.
2.  **–ò–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ `readonly`:** –ï—Å–ª–∏ –¥–∞–Ω–Ω—ã–µ –Ω–µ –¥–æ–ª–∂–Ω—ã –∏–∑–º–µ–Ω—è—Ç—å—Å—è, –∏—Å–ø–æ–ª—å–∑—É–π `readonly`. –≠—Ç–æ —É–ª—É—á—à–∞–µ—Ç —á–∏—Ç–∞–µ–º–æ—Å—Ç—å, –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ –¥–∞–µ—Ç –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä—É –±–æ–ª—å—à–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏.
3.  **–°–ª–∏—à–∫–æ–º —Å–ª–æ–∂–Ω—ã–µ —Ç–∏–ø—ã:** –ò–∑–±–µ–≥–∞–π –≥–ª—É–±–æ–∫–æ —Ä–µ–∫—É—Ä—Å–∏–≤–Ω—ã—Ö –∏–ª–∏ —Å–ª–∏—à–∫–æ–º —Å–ª–æ–∂–Ω—ã—Ö —É—Å–ª–æ–≤–Ω—ã—Ö —Ç–∏–ø–æ–≤, –µ—Å–ª–∏ –æ–Ω–∏ –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ –∑–∞–º–µ–¥–ª—è—é—Ç –∫–æ–º–ø–∏–ª—è—Ü–∏—é. –ò–Ω–æ–≥–¥–∞ –ø—Ä–æ—Å—Ç–æ—Ç–∞ –≤–∞–∂–Ω–µ–µ —Ç–∏–ø–æ–≤–æ–π "—Ç–æ—á–Ω–æ—Å—Ç–∏".
4.  **–°–ª–µ–ø–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `any`:** `any` —É–±–∏–≤–∞–µ—Ç –≤—Å—é —Ç–∏–ø–æ–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏, –∫–∞–∫ —Å–ª–µ–¥—Å—Ç–≤–∏–µ, –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –∏ –ø—Ä–æ–≤–µ—Ä–∫–∏, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥ –±—ã –≤—ã–ø–æ–ª–Ω–∏—Ç—å TypeScript.

---

### ### üéØ –ü—Ä–∞–∫—Ç–∏–∫–∞

–í—Ä–µ–º—è –ø–æ–∫–∞–∑–∞—Ç—å, —á—Ç–æ —Ç—ã –Ω–µ –ø—Ä–æ—Å—Ç–æ —Å–ª—É—à–∞–µ—à—å, –∞ –ø–æ–Ω–∏–º–∞–µ—à—å!

1.  **–°–æ–∑–¥–∞–π –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä `Debounce`**: –ù–∞–ø–∏—à–∏ –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä –¥–ª—è –º–µ—Ç–æ–¥–æ–≤ –∫–ª–∞—Å—Å–∞, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç "–æ—Ç–∫–ª–∞–¥—ã–≤–∞—Ç—å" –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –º–µ—Ç–æ–¥–∞, –ø–æ–∫–∞ –Ω–µ –ø—Ä–æ–π–¥–µ—Ç –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–µ –≤—Ä–µ–º—è –±–µ–∑ –Ω–æ–≤—ã—Ö –≤—ã–∑–æ–≤–æ–≤. –¢–∏–ø–∏–∑–∏—Ä—É–π –µ–≥–æ —Ç–∞–∫, —á—Ç–æ–±—ã –æ–Ω —Ä–∞–±–æ—Ç–∞–ª —Å –ª—é–±—ã–º–∏ –∞—Ä–≥—É–º–µ–Ω—Ç–∞–º–∏ –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º—ã–º–∏ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏ –º–µ—Ç–æ–¥–∞.
    *   `@Debounce(500)` –¥–æ–ª–∂–µ–Ω –æ—Ç–∫–ª–∞–¥—ã–≤–∞—Ç—å –≤—ã–∑–æ–≤ –Ω–∞ 500–º—Å.
2.  **–£—Ç–∏–ª–∏—Ç–∞ —Ç–∏–ø–∞ `DeepImmutable<T>`**: –°–æ–∑–¥–∞–π —É—Ç–∏–ª–∏—Ç—É —Ç–∏–ø–∞, –∫–æ—Ç–æ—Ä–∞—è —Ä–µ–∫—É—Ä—Å–∏–≤–Ω–æ –¥–µ–ª–∞–µ—Ç –≤—Å–µ —Å–≤–æ–π—Å—Ç–≤–∞ –æ–±—ä–µ–∫—Ç–∞ –∏ —ç–ª–µ–º–µ–Ω—Ç—ã –º–∞—Å—Å–∏–≤–æ–≤ `readonly`.
    *   –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è: `type ImmutableConfig = DeepImmutable<MyConfig>;`
3.  **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å–æ–±—ã—Ç–∏–π —Å Type Guard**: –ü—Ä–µ–¥–ø–æ–ª–æ–∂–∏–º, —É —Ç–µ–±—è –µ—Å—Ç—å –æ–±—â–∏–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ —Å–æ–±—ã—Ç–∏–π `handleEvent(event: Event | CustomAPIEvent)`. `CustomAPIEvent` –∏–º–µ–µ—Ç –ø–æ–ª–µ `detail: { type: 'login' | 'logout', data: any }`. –ù–∞–ø–∏—à–∏ `Type Guard` –¥–ª—è `CustomAPIEvent` –∏ –∏—Å–ø–æ–ª—å–∑—É–π –µ–≥–æ –≤ `handleEvent` –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏.

---

### ### üí° –°–æ–≤–µ—Ç

–ü–æ–º–Ω–∏, –Ø—à–∞ –≤—Å–µ–≥–¥–∞ –≥–æ–≤–æ—Ä–∏—Ç: "–°–Ω–∞—á–∞–ª–∞ —Å–¥–µ–ª–∞–π, —á—Ç–æ–±—ã —Ä–∞–±–æ—Ç–∞–ª–æ. –ü–æ—Ç–æ–º —Å–¥–µ–ª–∞–π, —á—Ç–æ–±—ã –±—ã–ª–æ –ø–æ–Ω—è—Ç–Ω–æ. –ò —Ç–æ–ª—å–∫–æ –ø–æ—Ç–æ–º (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ) —Å–¥–µ–ª–∞–π, —á—Ç–æ–±—ã –±—ã–ª–æ –±—ã—Å—Ç—Ä–æ." –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è ‚Äî —ç—Ç–æ –º–æ—â–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç, –Ω–æ –µ–≥–æ –Ω—É–∂–Ω–æ –ø—Ä–∏–º–µ–Ω—è—Ç—å —Å —É–º–æ–º. TypeScript –∑–¥–µ—Å—å –Ω–µ –ø—Ä–æ—Å—Ç–æ –ø–æ–º–æ–≥–∞–µ—Ç –ø–∏—Å–∞—Ç—å –∫–æ–¥ –±–µ–∑ –æ—à–∏–±–æ–∫, –Ω–æ –∏ —è–≤–ª—è–µ—Ç—Å—è —Ü–µ–Ω–Ω—ã–º —Å–æ—é–∑–Ω–∏–∫–æ–º –≤ —Å–æ–∑–¥–∞–Ω–∏–∏ –≤—ã—Å–æ–∫–æ–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω—ã—Ö –∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π.
### –ü—Ä–∞–∫—Ç–∏–∫–∞

–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø—Ä–∏–º–µ—Ä—ã –≤ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–º —Ä–µ–¥–∞–∫—Ç–æ—Ä–µ:

<Playground template="react" />
