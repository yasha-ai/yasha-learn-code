## TypeScript: `useTransition` ‚Äì –ú—è–≥–∫–∏–µ –ø–µ—Ä–µ—Ö–æ–¥—ã –¥–ª—è –ø–ª–∞–≤–Ω–æ–≥–æ UI

–ü—Ä–∏–≤–µ—Ç, –∫–æ–¥–µ—Ä—ã! –Ø—à–∞ —Å–Ω–æ–≤–∞ –Ω–∞ —Å–≤—è–∑–∏, –∏ —Å–µ–≥–æ–¥–Ω—è –º—ã –ø–æ–≥—Ä—É–∑–∏–º—Å—è –≤ –æ–¥–Ω—É –∏–∑ –∂–µ–º—á—É–∂–∏–Ω React Concurrent Mode, –∫–æ—Ç–æ—Ä–∞—è –ø–æ–º–æ–≥–∞–µ—Ç –Ω–∞—à–∏–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è–º –æ—Å—Ç–∞–≤–∞—Ç—å—Å—è –æ—Ç–∑—ã–≤—á–∏–≤—ã–º–∏ –¥–∞–∂–µ –ø–æ–¥ –Ω–∞–≥—Ä—É–∑–∫–æ–π: —Ö—É–∫ `useTransition`.

–ü—Ä–µ–¥—Å—Ç–∞–≤—å—Ç–µ, —á—Ç–æ –≤—ã –¥–∏—Ä–∏–∂—ë—Ä –±–æ–ª—å—à–æ–≥–æ –æ—Ä–∫–µ—Å—Ç—Ä–∞. –£ –≤–∞—Å –µ—Å—Ç—å –±—ã—Å—Ç—Ä—ã–µ, –ª—ë–≥–∫–∏–µ –ø–∞—Ä—Ç–∏–∏, –∫–æ—Ç–æ—Ä—ã–µ –¥–æ–ª–∂–Ω—ã –∑–≤—É—á–∞—Ç—å –º–≥–Ω–æ–≤–µ–Ω–Ω–æ, –∏ –µ—Å—Ç—å –º–µ–¥–ª–µ–Ω–Ω—ã–µ, —Å–ª–æ–∂–Ω—ã–µ –∞—Ä–∞–Ω–∂–∏—Ä–æ–≤–∫–∏, –∫–æ—Ç–æ—Ä—ã–µ —Ç—Ä–µ–±—É—é—Ç –≤—Ä–µ–º–µ–Ω–∏. –ï—Å–ª–∏ –≤—ã –ø–æ–ø—ã—Ç–∞–µ—Ç–µ—Å—å —Å—ã–≥—Ä–∞—Ç—å –≤—Å—ë –Ω–∞ –æ–¥–Ω–æ–π —Å–∫–æ—Ä–æ—Å—Ç–∏, –æ—Ä–∫–µ—Å—Ç—Ä –±—É–¥–µ—Ç —Å–ø–æ—Ç—ã–∫–∞—Ç—å—Å—è, –∞ —Å–ª—É—à–∞—Ç–µ–ª–∏ ‚Äî –∑–µ–≤–∞—Ç—å. –í –º–∏—Ä–µ React, UI ‚Äî —ç—Ç–æ –Ω–∞—à –æ—Ä–∫–µ—Å—Ç—Ä. –ò–Ω–æ–≥–¥–∞ –Ω–∞–º –Ω—É–∂–Ω–æ –±—ã—Å—Ç—Ä–æ –æ–±–Ω–æ–≤–∏—Ç—å —á–∞—Å—Ç—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –≤–≤–æ–¥ —Ç–µ–∫—Å—Ç–∞), –∞ –∏–Ω–æ–≥–¥–∞ ‚Äî –∑–∞–ø—É—Å—Ç–∏—Ç—å —á—Ç–æ-—Ç–æ "—Ç—è–∂—ë–ª–æ–µ" (—Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –±–æ–ª—å—à–∏—Ö –¥–∞–Ω–Ω—ã—Ö, –∑–∞–≥—Ä—É–∑–∫–∞ –∫–æ–Ω—Ç–µ–Ω—Ç–∞), —á—Ç–æ –º–æ–∂–µ—Ç –Ω–∞ –º–≥–Ω–æ–≤–µ–Ω–∏–µ "–∑–∞–º–æ—Ä–æ–∑–∏—Ç—å" UI.

`useTransition` ‚Äî —ç—Ç–æ –≤–∞—à –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∑–≤–æ–ª—è–µ—Ç React –ø–æ–Ω—è—Ç—å: "–≠–π, —ç—Ç–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –Ω–µ –∫—Ä–∏—Ç–∏—á–Ω–æ –¥–ª—è –º–≥–Ω–æ–≤–µ–Ω–Ω–æ–≥–æ –æ—Ç–∫–ª–∏–∫–∞. –ï–≥–æ –º–æ–∂–Ω–æ –æ—Ç–ª–æ–∂–∏—Ç—å –∏–ª–∏ –ø—Ä–µ—Ä–≤–∞—Ç—å, –µ—Å–ª–∏ –ø–æ—è–≤–∏—Ç—Å—è —á—Ç–æ-—Ç–æ –±–æ–ª–µ–µ –≤–∞–∂–Ω–æ–µ." –≠—Ç–æ –¥–∞—ë—Ç React –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Ä–µ–Ω–¥–µ—Ä–∏—Ç—å —Ç—è–∂–µ–ª—ã–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –≤ —Ñ–æ–Ω–æ–≤–æ–º —Ä–µ–∂–∏–º–µ, –Ω–µ –±–ª–æ–∫–∏—Ä—É—è –æ—Å–Ω–æ–≤–Ω–æ–π –ø–æ—Ç–æ–∫ UI, —á—Ç–æ –¥–µ–ª–∞–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –æ–ø—ã—Ç –Ω–∞–º–Ω–æ–≥–æ –ø—Ä–∏—è—Ç–Ω–µ–µ.

### Concurrent Rendering Diagram

```mermaid
sequenceDiagram
    participant User
    participant Main as Urgent Update (UI)
    participant Transition as Non-urgent (Transition)
    
    User->>Main: Type character 'A'
    Main->>Main: Update Input State (Instant)
    Main->>Transition: startTransition (Filter list)
    
    Note over Transition: Working in background...
    
    User->>Main: Type character 'B'
    Main->>Main: Update Input State (Instant)
    Note over Transition: Interrupting 'A' filter
    Main->>Transition: startTransition (Filter list with 'AB')
    
    Transition-->>Main: Commit 'AB' results
    Main->>Main: Render results
```
*–ú–µ—Ö–∞–Ω–∏–∑–º –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏—è: React –æ—Ç–º–µ–Ω—è–µ—Ç —É—Å—Ç–∞—Ä–µ–≤—à–∏–µ —Ñ–æ–Ω–æ–≤—ã–µ –∑–∞–¥–∞—á–∏ –≤ –ø–æ–ª—å–∑—É –Ω–æ–≤—ã—Ö —Å—Ä–æ—á–Ω—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π.*

### –ß—Ç–æ —Ç–∞–∫–æ–µ `useTransition` –∏ –∑–∞—á–µ–º –æ–Ω –Ω—É–∂–µ–Ω?

–í –æ—Å–Ω–æ–≤–µ React Concurrent Mode –ª–µ–∂–∏—Ç –∏–¥–µ—è –æ —Ç–æ–º, —á—Ç–æ React –º–æ–∂–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –Ω–∞–¥ –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ –∑–∞–¥–∞—á–∞–º–∏ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ, –ø—Ä–∏–æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å –∏—Ö –∏ –≤–æ–∑–æ–±–Ω–æ–≤–ª—è—Ç—å. `useTransition` –¥–∞—ë—Ç –Ω–∞–º –ø—Ä—è–º–æ–π –¥–æ—Å—Ç—É–ø –∫ —ç—Ç–æ–π —Å—É–ø–µ—Ä—Å–∏–ª–µ. –û–Ω –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–æ–º–µ—Ç–∏—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è –∫–∞–∫ "–ø–µ—Ä–µ—Ö–æ–¥—ã" (`transitions`), –∫–æ—Ç–æ—Ä—ã–µ React –º–æ–∂–µ—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ —Å –¥—Ä—É–≥–∏–º–∏, –±–æ–ª–µ–µ —Å—Ä–æ—á–Ω—ã–º–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è–º–∏.

–ö–æ–≥–¥–∞ –≤—ã –æ–±–æ—Ä–∞—á–∏–≤–∞–µ—Ç–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è –≤ `startTransition`, –≤—ã –≥–æ–≤–æ—Ä–∏—Ç–µ React:
1.  **"–≠—Ç–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –Ω–µ –¥–æ–ª–∂–Ω–æ –±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å –æ—Å–Ω–æ–≤–Ω–æ–π UI."** –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –¥–æ–ª–∂–µ–Ω –∏–º–µ—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø—Ä–æ–¥–æ–ª–∂–∞—Ç—å –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–æ–≤–∞—Ç—å —Å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º (–Ω–∞–ø—Ä–∏–º–µ—Ä, –≤–≤–æ–¥–∏—Ç—å —Ç–µ–∫—Å—Ç –≤ –ø–æ–ª–µ –ø–æ–∏—Å–∫–∞), –ø–æ–∫–∞ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç "—Ç—è–∂—ë–ª–∞—è" —Ä–∞–±–æ—Ç–∞.
2.  **"–≠—Ç–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø—Ä–µ—Ä–≤–∞–Ω–æ."** –ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –±—ã—Å—Ç—Ä–æ –≤–≤–µ–¥—ë—Ç —á—Ç–æ-—Ç–æ –Ω–æ–≤–æ–µ, —Å—Ç–∞—Ä–æ–µ, –Ω–µ–∑–∞–≤–µ—Ä—à–µ–Ω–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –æ—Ç–º–µ–Ω–µ–Ω–æ, –∏ React –Ω–∞—á–Ω—ë—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –Ω–∞–¥ –Ω–æ–≤—ã–º.

–í —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ, –≤–∞—à UI –Ω–µ "–∑–∞–≤–∏—Å–∞–µ—Ç", –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —á—É–≤—Å—Ç–≤—É–µ—Ç, —á—Ç–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –æ—Ç–∑—ã–≤—á–∏–≤–æ.

–•—É–∫ `useTransition` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –º–∞—Å—Å–∏–≤ –∏–∑ –¥–≤—É—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤:
*   `isPending: boolean` ‚Äî —Ñ–ª–∞–≥, –∫–æ—Ç–æ—Ä—ã–π —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è `true`, –∫–æ–≥–¥–∞ –ø–µ—Ä–µ—Ö–æ–¥ –∞–∫—Ç–∏–≤–µ–Ω (—Ç–æ –µ—Å—Ç—å, React —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞–¥ —Ñ–æ–Ω–æ–≤—ã–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ–º). –≠—Ç–æ –æ—Ç–ª–∏—á–Ω–æ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–≤ –∑–∞–≥—Ä—É–∑–∫–∏.
*   `startTransition: (callback: () => void) => void` ‚Äî —Ñ—É–Ω–∫—Ü–∏—è, –≤ –∫–æ—Ç–æ—Ä—É—é –≤—ã –æ–±–æ—Ä–∞—á–∏–≤–∞–µ—Ç–µ —Å–≤–æ—ë "—Ç—è–∂—ë–ª–æ–µ" –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è.

```typescript
import React, { useState, useTransition } from 'react';

// –ö–æ–º–ø–æ–Ω–µ–Ω—Ç-–ø—Ä–∏–º–µ—Ä: –ü—Ä–æ—Å—Ç–æ–π –ø–æ–∏—Å–∫ —Å –∑–∞–¥–µ—Ä–∂–∫–æ–π
function SearchInputWithTransition() {
  const [inputValue, setInputValue] = useState<string>('');
  const [displayedValue, setDisplayedValue] = useState<string>('');
  const [isPending, startTransition] = useTransition(); // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º useTransition

  const handleInputChange = (event: React.ChangeEvent<HTMLInputElement>) => {
    const newValue = event.target.value;
    setInputValue(newValue); // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤–≤–æ–¥–∞ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –º–≥–Ω–æ–≤–µ–Ω–Ω–æ

    // –û–±–æ—Ä–∞—á–∏–≤–∞–µ–º "—Ç—è–∂–µ–ª–æ–µ" –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ (–∏–º–∏—Ç–∞—Ü–∏—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏) –≤ startTransition
    startTransition(() => {
      // –ò–º–∏—Ç–∏—Ä—É–µ–º –∑–∞–¥–µ—Ä–∂–∫—É –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏
      // –í —Ä–µ–∞–ª—å–Ω–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –∑–¥–µ—Å—å –±—É–¥–µ—Ç –ª–æ–≥–∏–∫–∞ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –∏–ª–∏ –∑–∞–ø—Ä–æ—Å–∞ –¥–∞–Ω–Ω—ã—Ö
      setTimeout(() => {
        setDisplayedValue(newValue); // –≠—Ç–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –æ—Ç–ª–æ–∂–µ–Ω–æ
      }, 500);
    });
  };

  return (
    <div>
      <h3>–ü–æ–∏—Å–∫ —Å `useTransition`</h3>
      <input
        type="text"
        value={inputValue}
        onChange={handleInputChange}
        placeholder="–í–≤–µ–¥–∏—Ç–µ —Ç–µ–∫—Å—Ç –¥–ª—è –ø–æ–∏—Å–∫–∞..."
        style={{ padding: '8px', fontSize: '16px', width: '300px' }}
      />
      {isPending && <p style={{ color: 'gray' }}>–ó–∞–≥—Ä—É–∑–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤...</p>} {/* –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä –æ–∂–∏–¥–∞–Ω–∏—è */}
      <p>–û—Ç–æ–±—Ä–∞–∂–∞–µ–º—ã–π —Ç–µ–∫—Å—Ç: <strong>{displayedValue}</strong></p>
      <p>–í–≤–µ–¥–µ–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç (–º–≥–Ω–æ–≤–µ–Ω–Ω–æ): <em>{inputValue}</em></p>
      <hr />
    </div>
  );
}

export default SearchInputWithTransition;
```

–í —ç—Ç–æ–º –ø—Ä–∏–º–µ—Ä–µ, –∫–æ–≥–¥–∞ –≤—ã –±—ã—Å—Ç—Ä–æ –Ω–∞–±–∏—Ä–∞–µ—Ç–µ —Ç–µ–∫—Å—Ç, `inputValue` –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –º–≥–Ω–æ–≤–µ–Ω–Ω–æ, –∏ –≤—ã –≤–∏–¥–∏—Ç–µ, –∫–∞–∫ —Ç–µ–∫—Å—Ç –ø–æ—è–≤–ª—è–µ—Ç—Å—è –≤ –ø–æ–ª–µ –≤–≤–æ–¥–∞ –±–µ–∑ –∑–∞–¥–µ—Ä–∂–µ–∫. –û–¥–Ω–∞–∫–æ `displayedValue` (–∫–æ—Ç–æ—Ä—ã–π –∏–º–∏—Ç–∏—Ä—É–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ–∏—Å–∫–∞) –±—É–¥–µ—Ç –æ–±–Ω–æ–≤–ª—è—Ç—å—Å—è —Å –∑–∞–¥–µ—Ä–∂–∫–æ–π –≤ 500 –º—Å, –∏ –≤ —ç—Ç–æ –≤—Ä–µ–º—è –±—É–¥–µ—Ç –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è "–ó–∞–≥—Ä—É–∑–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤...", –Ω–æ *–ø–æ–ª–µ –≤–≤–æ–¥–∞ –Ω–µ –±—É–¥–µ—Ç —Ç–æ—Ä–º–æ–∑–∏—Ç—å*. –≠—Ç–æ –∏ –µ—Å—Ç—å –º–∞–≥–∏—è `useTransition`!

### –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

–¢–µ–ø–µ—Ä—å –¥–∞–≤–∞–π—Ç–µ —Ä–∞—Å—Å–º–æ—Ç—Ä–∏–º –±–æ–ª–µ–µ —Ä–µ–∞–ª—å–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏.

#### 1. –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –±–æ–ª—å—à–æ–≥–æ —Å–ø–∏—Å–∫–∞ –¥–∞–Ω–Ω—ã—Ö

–ü—Ä–µ–¥—Å—Ç–∞–≤–∏–º, —á—Ç–æ —É –Ω–∞—Å –µ—Å—Ç—å –æ–≥—Ä–æ–º–Ω—ã–π —Å–ø–∏—Å–æ–∫ —Ç–æ–≤–∞—Ä–æ–≤, –∏ –º—ã —Ö–æ—Ç–∏–º —Ñ–∏–ª—å—Ç—Ä–æ–≤–∞—Ç—å –µ–≥–æ –ø–æ –º–µ—Ä–µ –≤–≤–æ–¥–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è. –ü—Ä—è–º–∞—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø—Ä–∏ –∫–∞–∂–¥–æ–º –Ω–∞–∂–∞—Ç–∏–∏ –∫–ª–∞–≤–∏—à–∏ –º–æ–∂–µ—Ç –∑–∞–º–µ–¥–ª–∏—Ç—å UI.

```typescript
import React, { useState, useTransition, useMemo, useEffect } from 'react';

// –¢–∏–ø –¥–ª—è —ç–ª–µ–º–µ–Ω—Ç–∞ –¥–∞–Ω–Ω—ã—Ö
interface Product {
  id: string;
  name: string;
  category: string;
  price: number;
}

// –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º —Ç–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ
const generateProducts = (count: number): Product[] => {
  const products: Product[] = [];
  for (let i = 0; i < count; i++) {
    products.push({
      id: `prod-${i}`,
      name: `Product ${i}`,
      category: i % 2 === 0 ? 'Electronics' : 'Books',
      price: Math.random() * 100 + 10,
    });
  }
  return products;
};

const ALL_PRODUCTS = generateProducts(5000); // 5000 —Ç–æ–≤–∞—Ä–æ–≤

function ProductFilterList() {
  const [filterQuery, setFilterQuery] = useState<string>('');
  const [filteredProducts, setFilteredProducts] = useState<Product[]>(ALL_PRODUCTS);
  const [isFilteringPending, startTransition] = useTransition();

  const handleFilterChange = (event: React.ChangeEvent<HTMLInputElement>) => {
    const query = event.target.value;
    setFilterQuery(query); // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤–≤–æ–¥–∞ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –º–≥–Ω–æ–≤–µ–Ω–Ω–æ

    // –ó–∞–ø—É—Å–∫–∞–µ–º –ø–µ—Ä–µ—Ö–æ–¥ –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –æ—Ç—Ñ–∏–ª—å—Ç—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ —Å–ø–∏—Å–∫–∞
    startTransition(() => {
      // –ò–º–∏—Ç–∏—Ä—É–µ–º —Ç—è–∂–µ–ª—É—é —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—é, –º–æ–∂–Ω–æ –¥–∞–∂–µ –¥–æ–±–∞–≤–∏—Ç—å –∑–∞–¥–µ—Ä–∂–∫—É
      // –í —Ä–µ–∞–ª—å–Ω–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ —ç—Ç–æ –±—É–¥–µ—Ç CPU-–∏–Ω—Ç–µ–Ω—Å–∏–≤–Ω–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è
      const newFiltered = ALL_PRODUCTS.filter(product =>
        product.name.toLowerCase().includes(query.toLowerCase()) ||
        product.category.toLowerCase().includes(query.toLowerCase())
      );
      setFilteredProducts(newFiltered);
    });
  };

  return (
    <div>
      <h3>–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è —Ç–æ–≤–∞—Ä–æ–≤ —Å `useTransition`</h3>
      <input
        type="text"
        value={filterQuery}
        onChange={handleFilterChange}
        placeholder="–ù–∞–π—Ç–∏ —Ç–æ–≤–∞—Ä –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é –∏–ª–∏ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏..."
        style={{ padding: '8px', fontSize: '16px', width: '400px' }}
      />
      {isFilteringPending && <p style={{ color: 'orange' }}>–§–∏–ª—å—Ç—Ä—É–µ–º —Å–ø–∏—Å–æ–∫...</p>}
      <div style={{ maxHeight: '300px', overflowY: 'scroll', border: '1px solid #eee', marginTop: '10px' }}>
        {filteredProducts.length === 0 ? (
          <p>–ù–µ—Ç —Ç–æ–≤–∞—Ä–æ–≤, —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏—Ö —Ñ–∏–ª—å—Ç—Ä—É.</p>
        ) : (
          <ul>
            {filteredProducts.map(product => (
              <li key={product.id}>
                <strong>{product.name}</strong> ({product.category}) - ${product.price.toFixed(2)}
              </li>
            ))}
          </ul>
        )}
      </div>
      <hr />
    </div>
  );
}

export default ProductFilterList;
```

–í —ç—Ç–æ–º –ø—Ä–∏–º–µ—Ä–µ `setFilterQuery` –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è —Å—Ä–∞–∑—É, –æ–±–µ—Å–ø–µ—á–∏–≤–∞—è –ø–ª–∞–≤–Ω—ã–π –≤–≤–æ–¥ —Ç–µ–∫—Å—Ç–∞. –¢—è–∂—ë–ª–∞—è —Ä–∞–±–æ—Ç–∞ –ø–æ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ —Å–ø–∏—Å–∫–∞ –æ–±–æ—Ä–∞—á–∏–≤–∞–µ—Ç—Å—è –≤ `startTransition`, –ø–æ—ç—Ç–æ–º—É UI –Ω–µ "–∑–∞–≤–∏—Å–∞–µ—Ç", –ø–æ–∫–∞ React –ø–µ—Ä–µ—Å—á–∏—Ç—ã–≤–∞–µ—Ç `filteredProducts`. –§–ª–∞–≥ `isFilteringPending` –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä.

#### 2. –ó–∞–≥—Ä—É–∑–∫–∞ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ –≤ —Ç–∞–±–∞—Ö

–î–æ–ø—É—Å—Ç–∏–º, —É –Ω–∞—Å –µ—Å—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç —Å —Ç–∞–±–∞–º–∏, –∏ –∫–∞–∂–¥—ã–π —Ç–∞–± –ø—Ä–∏ –∞–∫—Ç–∏–≤–∞—Ü–∏–∏ –∑–∞–≥—Ä—É–∂–∞–µ—Ç –∏–ª–∏ —Ä–µ–Ω–¥–µ—Ä–∏—Ç –±–æ–ª—å—à–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –¥–∞–Ω–Ω—ã—Ö. –ú—ã —Ö–æ—Ç–∏–º, —á—Ç–æ–±—ã –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –º–µ–∂–¥—É —Ç–∞–±–∞–º–∏ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏–ª–æ –º–≥–Ω–æ–≤–µ–Ω–Ω–æ, –∞ –∫–æ–Ω—Ç–µ–Ω—Ç –≤–Ω—É—Ç—Ä–∏ —Ç–∞–±–∞ –ø–æ—è–≤–ª—è–ª—Å—è –ø–ª–∞–≤–Ω–æ.

```typescript
import React, { useState, useTransition, useEffect } from 'react';

interface TabContentProps {
  tabId: string;
}

// –ö–æ–º–ø–æ–Ω–µ–Ω—Ç, –∏–º–∏—Ç–∏—Ä—É—é—â–∏–π –¥–æ–ª–≥—É—é –∑–∞–≥—Ä—É–∑–∫—É/—Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥ –∫–æ–Ω—Ç–µ–Ω—Ç–∞
const HeavyContent: React.FC<TabContentProps> = ({ tabId }) => {
  const [isLoading, setIsLoading] = useState(true);

  useEffect(() => {
    setIsLoading(true);
    const timer = setTimeout(() => {
      setIsLoading(false);
    }, 1500); // –ò–º–∏—Ç–∞—Ü–∏—è –∑–∞–¥–µ—Ä–∂–∫–∏ –∑–∞–≥—Ä—É–∑–∫–∏
    return () => clearTimeout(timer);
  }, [tabId]);

  if (isLoading) {
    return <p>–ó–∞–≥—Ä—É–∂–∞–µ–º –∫–æ–Ω—Ç–µ–Ω—Ç –¥–ª—è {tabId}...</p>;
  }

  // –ò–º–∏—Ç–∞—Ü–∏—è —Å–ª–æ–∂–Ω–æ–≥–æ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞
  const items = Array.from({ length: 2000 }).map((_, i) => (
    <div key={i} style={{ padding: '2px 0', borderBottom: '1px dotted #eee' }}>
      Item {i} for tab {tabId}
    </div>
  ));

  return (
    <div style={{ maxHeight: '250px', overflowY: 'scroll', border: '1px solid #ccc', padding: '10px' }}>
      <h4>–ö–æ–Ω—Ç–µ–Ω—Ç –¥–ª—è {tabId}</h4>
      {items}
    </div>
  );
};

function TabSwitcherWithTransition() {
  const [activeTab, setActiveTab] = useState<string>('Home');
  const [displayedTab, setDisplayedTab] = useState<string>('Home');
  const [isTabTransitionPending, startTransition] = useTransition();

  const handleTabChange = (tabName: string) => {
    setActiveTab(tabName); // –¢–∞–± –ø–µ—Ä–µ–∫–ª—é—á–∞–µ—Ç—Å—è –º–≥–Ω–æ–≤–µ–Ω–Ω–æ

    startTransition(() => {
      setDisplayedTab(tabName); // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ –º–æ–∂–µ—Ç –±—ã—Ç—å –æ—Ç–ª–æ–∂–µ–Ω–æ
    });
  };

  return (
    <div>
      <h3>–ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Ç–∞–±–æ–≤ —Å `useTransition`</h3>
      <div style={{ marginBottom: '10px' }}>
        {['Home', 'Products', 'Settings', 'About'].map(tab => (
          <button
            key={tab}
            onClick={() => handleTabChange(tab)}
            style={{
              marginRight: '10px',
              padding: '8px 15px',
              backgroundColor: activeTab === tab ? '#007bff' : '#f0f0f0',
              color: activeTab === tab ? 'white' : 'black',
              border: 'none',
              cursor: 'pointer',
              borderRadius: '4px'
            }}
          >
            {tab}
          </button>
        ))}
      </div>
      {isTabTransitionPending && <p style={{ color: 'purple' }}>–ü–µ—Ä–µ—Ö–æ–¥ –∫ –Ω–æ–≤–æ–º—É –∫–æ–Ω—Ç–µ–Ω—Ç—É...</p>}
      {/* –ó–¥–µ—Å—å –º—ã —Ä–µ–Ω–¥–µ—Ä–∏–º –∫–æ–Ω—Ç–µ–Ω—Ç –Ω–∞ –æ—Å–Ω–æ–≤–µ displayedTab, –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–µ—Ç –æ—Ç—Å—Ç–∞–≤–∞—Ç—å –æ—Ç activeTab */}
      <HeavyContent tabId={displayedTab} />
      <hr />
    </div>
  );
}

export default TabSwitcherWithTransition;
```

–í —ç—Ç–æ–º —Å—Ü–µ–Ω–∞—Ä–∏–∏ `activeTab` –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ, –∏ –∫–Ω–æ–ø–∫–∞ –∞–∫—Ç–∏–≤–Ω–æ–≥–æ —Ç–∞–±–∞ –º–µ–Ω—è–µ—Ç —Ü–≤–µ—Ç –±–µ–∑ –∑–∞–¥–µ—Ä–∂–∫–∏. –ó–∞—Ç–µ–º `startTransition` –Ω–∞—á–∏–Ω–∞–µ—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ `displayedTab`, –∫–æ—Ç–æ—Ä–æ–µ –∏–Ω–∏—Ü–∏–∏—Ä—É–µ—Ç –∑–∞–≥—Ä—É–∑–∫—É/—Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥ `HeavyContent`. –ü–æ–∫–∞ `HeavyContent` –≥—Ä—É–∑–∏—Ç—Å—è, `isTabTransitionPending` –±—É–¥–µ—Ç `true`, –∏ —Å—Ç–∞—Ä—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç —Ç–∞–±–∞ –±—É–¥–µ—Ç –≤–∏–¥–µ–Ω, –ø–æ–∫–∞ –Ω–æ–≤—ã–π –Ω–µ –±—É–¥–µ—Ç –≥–æ—Ç–æ–≤. –≠—Ç–æ —Å–æ–∑–¥–∞—ë—Ç –æ—á–µ–Ω—å –ø–ª–∞–≤–Ω–æ–µ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ.

### –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ —Ç–µ—Ö–Ω–∏–∫–∏ –∏ –Ω—é–∞–Ω—Å—ã

#### `useDeferredValue`

`useDeferredValue` –æ—á–µ–Ω—å –ø–æ—Ö–æ–∂ –Ω–∞ `useTransition`, –Ω–æ –≤–º–µ—Å—Ç–æ —Ñ—É–Ω–∫—Ü–∏–∏ `startTransition` –æ–Ω –ø—Ä–æ—Å—Ç–æ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç "–æ—Ç–ª–æ–∂–µ–Ω–Ω—É—é" –≤–µ—Ä—Å–∏—é –∑–Ω–∞—á–µ–Ω–∏—è. –ö–æ–≥–¥–∞ –≤—ã –ø–µ—Ä–µ–¥–∞—ë—Ç–µ –∑–Ω–∞—á–µ–Ω–∏–µ –≤ `useDeferredValue`, React –±—É–¥–µ—Ç –∂–¥–∞—Ç—å, –ø–æ–∫–∞ –Ω–µ –±—É–¥–µ—Ç –±–æ–ª–µ–µ —Å—Ä–æ—á–Ω—ã—Ö –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π, –ø—Ä–µ–∂–¥–µ —á–µ–º –æ–±–Ω–æ–≤–∏—Ç—å —ç—Ç–æ –æ—Ç–ª–æ–∂–µ–Ω–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ. –≠—Ç–æ –ø–æ–ª–µ–∑–Ω–æ, –∫–æ–≥–¥–∞ –≤–∞–º –Ω—É–∂–Ω–æ –æ—Ç–ª–æ–∂–∏—Ç—å —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥ –¥–æ—Ä–æ–≥–æ—Å—Ç–æ—è—â–µ–≥–æ –¥–æ—á–µ—Ä–Ω–µ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ –Ω–∞ –æ—Å–Ω–æ–≤–µ –ø—Ä–æ–ø—Å–∞, –∞ –Ω–µ –æ–±—ë—Ä—Ç—ã–≤–∞—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è –≤ `startTransition` —É —Ä–æ–¥–∏—Ç–µ–ª—è.

```typescript
// –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è useDeferredValue (–¥–ª—è –ø–æ–ª–Ω–æ—Ç—ã –∫–∞—Ä—Ç–∏–Ω—ã, –Ω–æ useTransition –±–æ–ª–µ–µ —É–Ω–∏–≤–µ—Ä—Å–∞–ª–µ–Ω)
import React, { useState, useDeferredValue } from 'react';

interface DeferredProductListProps {
  query: string;
  products: Product[]; // –ò–∑ –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ –ø—Ä–∏–º–µ—Ä–∞
}

const DeferredProductList: React.FC<DeferredProductListProps> = ({ query, products }) => {
  // useDeferredValue –æ—Ç–ª–æ–∂–∏—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ deferredQuery, –µ—Å–ª–∏ –µ—Å—Ç—å –±–æ–ª–µ–µ —Å—Ä–æ—á–Ω—ã–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
  const deferredQuery = useDeferredValue(query);

  const filteredProducts = useMemo(() => {
    // –≠—Ç–∞ "—Ç—è–∂–µ–ª–∞—è" —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –±—É–¥–µ—Ç –∑–∞–ø—É—Å–∫–∞—Ç—å—Å—è —Ç–æ–ª—å–∫–æ –∫–æ–≥–¥–∞ deferredQuery –æ–±–Ω–æ–≤–∏—Ç—Å—è
    if (!deferredQuery) return products;
    return products.filter(product =>
      product.name.toLowerCase().includes(deferredQuery.toLowerCase())
    );
  }, [deferredQuery, products]);

  // –ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä, –µ—Å–ª–∏ deferredQuery –µ—â–µ –Ω–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω —Å query
  const isStale = query !== deferredQuery;

  return (
    <div>
      {isStale && <p style={{ color: 'teal' }}>–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞...</p>}
      <ul>
        {filteredProducts.map(product => (
          <li key={product.id}>{product.name}</li>
        ))}
      </ul>
    </div>
  );
};

function ParentComponentUsingDeferredValue() {
  const [searchQuery, setSearchQuery] = useState('');

  const handleSearchChange = (e: React.ChangeEvent<HTMLInputElement>) => {
    setSearchQuery(e.target.value); // –ú–≥–Ω–æ–≤–µ–Ω–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ
  };

  return (
    <div>
      <h3>–ü–æ–∏—Å–∫ —Å `useDeferredValue`</h3>
      <input type="text" value={searchQuery} onChange={handleSearchChange} />
      <DeferredProductList query={searchQuery} products={ALL_PRODUCTS} />
      <hr />
    </div>
  );
}
```
`useDeferredValue` –∏–¥–µ–∞–ª—å–Ω–æ –ø–æ–¥—Ö–æ–¥–∏—Ç, –∫–æ–≥–¥–∞ –∑–Ω–∞—á–µ–Ω–∏–µ, –∫–æ—Ç–æ—Ä–æ–µ –Ω—É–∂–Ω–æ –æ—Ç–ª–æ–∂–∏—Ç—å, –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è –∫–∞–∫ –ø—Ä–æ–ø—Å, –∞ –ª–æ–≥–∏–∫–∞ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ —Å–ª–æ–∂–Ω–∞. `useTransition` –±–æ–ª–µ–µ –≥–∏–±–æ–∫, –∫–æ–≥–¥–∞ –≤—ã –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ—Ç–µ —Å–∞–º–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è.

#### –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –≤ –ø–µ—Ä–µ—Ö–æ–¥–∞—Ö

–û—à–∏–±–∫–∏, –≤—ã–±—Ä–æ—à–µ–Ω–Ω—ã–µ –≤–Ω—É—Ç—Ä–∏ `startTransition`, –Ω–µ –±—É–¥—É—Ç –∫—Ä–∞—à–∏—Ç—å –≤–∞—à–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å—Ä–∞–∑—É. –í–º–µ—Å—Ç–æ —ç—Ç–æ–≥–æ, React –ø–µ—Ä–µ–Ω–µ—Å–µ—Ç –∏—Ö –≤ –±–ª–∏–∂–∞–π—à–∏–π `Error Boundary`, —Ç–∞–∫ –∂–µ –∫–∞–∫ –∏ –æ–±—ã—á–Ω—ã–µ –æ—à–∏–±–∫–∏ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞. –≠—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –≤—ã –ø–æ-–ø—Ä–µ–∂–Ω–µ–º—É –¥–æ–ª–∂–Ω—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `Error Boundaries` –¥–ª—è –Ω–∞–¥—ë–∂–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏ –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã—Ö —Å–±–æ–µ–≤.

```typescript
// –ü—Ä–∏–º–µ—Ä Error Boundary (–¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏)
import React, { useState, useTransition } from 'react';

interface ErrorBoundaryProps {
  children: React.ReactNode;
}

interface ErrorBoundaryState {
  hasError: boolean;
  error: Error | null;
}

class ErrorBoundary extends React.Component<ErrorBoundaryProps, ErrorBoundaryState> {
  constructor(props: ErrorBoundaryProps) {
    super(props);
    this.state = { hasError: false, error: null };
  }

  static getDerivedStateFromError(error: Error): ErrorBoundaryState {
    return { hasError: true, error };
  }

  componentDidCatch(error: Error, errorInfo: React.ErrorInfo) {
    console.error("Uncaught error in ErrorBoundary:", error, errorInfo);
  }

  render() {
    if (this.state.hasError) {
      return (
        <div style={{ border: '1px solid red', padding: '10px', color: 'red' }}>
          <h4>–û –Ω–µ—Ç, —á—Ç–æ-—Ç–æ –ø–æ—à–ª–æ –Ω–µ —Ç–∞–∫!</h4>
          <p>{this.state.error?.message}</p>
          <button onClick={() => this.setState({ hasError: false, error: null })}>–ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å —Å–Ω–æ–≤–∞</button>
        </div>
      );
    }
    return this.props.children;
  }
}

function TransitionWithError() {
  const [data, setData] = useState<string | null>(null);
  const [isPending, startTransition] = useTransition();

  const fetchDataWithError = () => {
    startTransition(() => {
      // –ò–º–∏—Ç–∞—Ü–∏—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–π –æ–ø–µ—Ä–∞—Ü–∏–∏, –∫–æ—Ç–æ—Ä–∞—è –º–æ–∂–µ—Ç –≤—ã–∑–≤–∞—Ç—å –æ—à–∏–±–∫—É
      setTimeout(() => {
        if (Math.random() > 0.5) {
          throw new Error("–°–ª—É—á–∞–π–Ω–∞—è –æ—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –¥–∞–Ω–Ω—ã—Ö!"); // –û—à–∏–±–∫–∞ –≤–Ω—É—Ç—Ä–∏ –ø–µ—Ä–µ—Ö–æ–¥–∞
        }
        setData("–î–∞–Ω–Ω—ã–µ —É—Å–ø–µ—à–Ω–æ –∑–∞–≥—Ä—É–∂–µ–Ω—ã.");
      }, 1000);
    });
  };

  return (
    <ErrorBoundary> {/* –û–±–æ—Ä–∞—á–∏–≤–∞–µ–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –≤ ErrorBoundary */}
      <h3>–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –≤ `useTransition`</h3>
      <button onClick={fetchDataWithError} disabled={isPending}>
        {isPending ? '–ó–∞–≥—Ä—É–∑–∫–∞...' : '–ó–∞–≥—Ä—É–∑–∏—Ç—å –¥–∞–Ω–Ω—ã–µ (–º–æ–∂–µ—Ç –±—ã—Ç—å –æ—à–∏–±–∫–∞)'}
      </button>
      {data && <p>{data}</p>}
      <hr />
    </ErrorBoundary>
  );
}
```

### üò© –¢–∏–ø–∏—á–Ω—ã–µ –æ—à–∏–±–∫–∏

1.  **–ó–∞–±—ã—Ç—å –æ–±–µ—Ä–Ω—É—Ç—å –≤ `startTransition`**: –°–∞–º–∞—è —á–∞—Å—Ç–∞—è –æ—à–∏–±–∫–∞. –ï—Å–ª–∏ –≤—ã –¥–µ–ª–∞–µ—Ç–µ "—Ç—è–∂—ë–ª–æ–µ" –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è –∏ UI –≤—Å—ë –µ—â—ë –ª–∞–≥–∞–µ—Ç, –ø—Ä–æ–≤–µ—Ä—å—Ç–µ, –æ–±–µ—Ä–Ω—É—Ç–æ –ª–∏ —ç—Ç–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤ `startTransition`.
    ```typescript
    // ‚ùå –ü–ª–æ—Ö–æ: –±–ª–æ–∫–∏—Ä—É–µ—Ç UI
    const handleClick = () => {
      // doExpensiveCalculation();
      setResult(expensiveResult); // UI –º–æ–∂–µ—Ç "–∑–∞–≤–∏—Å–Ω—É—Ç—å"
    };

    // ‚úÖ –•–æ—Ä–æ—à–æ: UI –æ—Å—Ç–∞–µ—Ç—Å—è –æ—Ç–∑—ã–≤—á–∏–≤—ã–º
    const handleClick = () => {
      startTransition(() => {
        // doExpensiveCalculation();
        setResult(expensiveResult); // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –æ—Ç–ª–æ–∂–µ–Ω–æ
      });
    };
    ```
2.  **–û–±–æ—Ä–∞—á–∏–≤–∞—Ç—å *–≤—Å—ë* –≤ `startTransition`**: –ù–µ –∫–∞–∂–¥–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç—Ä–µ–±—É–µ—Ç –ø–µ—Ä–µ—Ö–æ–¥–∞. –¢–æ–ª—å–∫–æ —Ç–µ, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥—É—Ç –±—ã—Ç—å –ø—Ä–µ—Ä–≤–∞–Ω—ã –∏–ª–∏ –æ—Ç–ª–æ–∂–µ–Ω—ã –±–µ–∑ —É—â–µ—Ä–±–∞ –¥–ª—è UX. –°–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ –ø–µ—Ä–µ—Ö–æ–¥–æ–≤ –º–æ–∂–µ—Ç —É—Å–ª–æ–∂–Ω–∏—Ç—å –ª–æ–≥–∏–∫—É –∏ –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–æ —Å–Ω–∏–∑–∏—Ç—å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –¥–ª—è *—Å—Ä–æ—á–Ω—ã—Ö* –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π.
3.  **–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `isPending`**: `isPending` –æ—Ç—Ä–∞–∂–∞–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ *–≤—Å–µ—Ö* –ø–µ—Ä–µ—Ö–æ–¥–æ–≤, –∑–∞–ø—É—â–µ–Ω–Ω—ã—Ö –≤ —Ç–µ–∫—É—â–µ–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ (–∏–ª–∏ –≤—ã—à–µ, –µ—Å–ª–∏ `startTransition` –≤—ã–∑–≤–∞–Ω –∏–∑ —Ä–æ–¥–∏—Ç–µ–ª—è –∏ –≤–ª–∏—è–µ—Ç –Ω–∞ –¥–æ—á–µ—Ä–Ω–∏–π). –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä `isPending` –ø–æ—è–≤–ª—è–µ—Ç—Å—è —Ç–∞–º, –≥–¥–µ —ç—Ç–æ –∏–º–µ–µ—Ç —Å–º—ã—Å–ª –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.
4.  **–°–º–µ—à–∏–≤–∞–Ω–∏–µ `useTransition` –∏ `useEffect` –¥–ª—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏**: `useTransition` –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω –¥–ª—è *—Å–æ—Å—Ç–æ—è–Ω–∏–π*. –ï—Å–ª–∏ –≤–∞–º –Ω—É–∂–Ω–æ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Å–∞–π–¥-—ç—Ñ—Ñ–µ–∫—Ç—ã —Å –¥–∞–Ω–Ω—ã–º–∏, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `useEffect` (–∏–ª–∏ `useLayoutEffect` –¥–ª—è —Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö DOM-–º–∞–Ω–∏–ø—É–ª—è—Ü–∏–π).

### ### üéØ –ü—Ä–∞–∫—Ç–∏–∫–∞

–í–æ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ –∑–∞–¥–∞–Ω–∏–π, —á—Ç–æ–±—ã –∑–∞–∫—Ä–µ–ø–∏—Ç—å –ø–æ–Ω–∏–º–∞–Ω–∏–µ `useTransition`:

1.  **–ß–∞—Ç-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å –ø—Ä–µ–¥—Å–∫–∞–∑–∞—Ç–µ–ª—å–Ω—ã–º –≤–≤–æ–¥–æ–º**: –°–æ–∑–¥–∞–π—Ç–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç —á–∞—Ç–∞. –ö–æ–≥–¥–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–≤–æ–¥–∏—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ, –æ–Ω–æ –¥–æ–ª–∂–Ω–æ –º–≥–Ω–æ–≤–µ–Ω–Ω–æ –ø–æ—è–≤–ª—è—Ç—å—Å—è –≤ –ø–æ–ª–µ –≤–≤–æ–¥–∞, –Ω–æ –∏–º–∏—Ç–∞—Ü–∏—è "–æ—Ç–ø—Ä–∞–≤–∫–∏" –∏–ª–∏ "–æ–±—Ä–∞–±–æ—Ç–∫–∏" —Å–æ–æ–±—â–µ–Ω–∏—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö –∏–ª–∏ —Å–ª–æ–∂–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è) –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –æ–±–µ—Ä–Ω—É—Ç–∞ –≤ `startTransition`. –î–æ–±–∞–≤—å—Ç–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä `isPending` –¥–ª—è "–æ—Ç–ø—Ä–∞–≤–∫–∏". –ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–π "–æ—Ç–ø—Ä–∞–≤–∫–∏" —Å–æ–æ–±—â–µ–Ω–∏–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –¥–æ–±–∞–≤–ª–µ–Ω–æ –≤ —Å–ø–∏—Å–æ–∫ —Å–æ–æ–±—â–µ–Ω–∏–π, –∞ –ø–æ–ª–µ –≤–≤–æ–¥–∞ –æ—á–∏—â–µ–Ω–æ.
    *   –ü–æ–¥—Å–∫–∞–∑–∫–∞: –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `useState` –¥–ª—è –ø–æ–ª—è –≤–≤–æ–¥–∞ –∏ `startTransition` –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ "–æ—Ç–ø—Ä–∞–≤–∫–∏".

2.  **–î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π –≥—Ä–∞—Ñ–∏–∫ (—Å –±–æ–ª—å—à–∏–º–∏ –¥–∞–Ω–Ω—ã–º–∏)**: –ò–º–∏—Ç–∏—Ä—É–π—Ç–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç, –∫–æ—Ç–æ—Ä—ã–π –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –≥—Ä–∞—Ñ–∏–∫. –£ –≤–∞—Å –µ—Å—Ç—å –¥–≤–µ –∫–Ω–æ–ø–∫–∏: "–û–±–Ω–æ–≤–∏—Ç—å –¥–∞–Ω–Ω—ã–µ (–±—ã—Å—Ç—Ä–æ)" –∏ "–û–±–Ω–æ–≤–∏—Ç—å –¥–∞–Ω–Ω—ã–µ (–¥–æ–ª–≥–æ)".
    *   "–ë—ã—Å—Ç—Ä–æ–µ" –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–æ–ª–∂–Ω–æ –ø—Ä–æ—Å—Ç–æ –∏–∑–º–µ–Ω—è—Ç—å –∫–∞–∫–æ–π-—Ç–æ –Ω–µ–±–æ–ª—å—à–æ–π –ø–∞—Ä–∞–º–µ—Ç—Ä –≥—Ä–∞—Ñ–∏–∫–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Ü–≤–µ—Ç) –º–≥–Ω–æ–≤–µ–Ω–Ω–æ.
    *   "–î–æ–ª–≥–æ–µ" –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–æ–ª–∂–Ω–æ –∏–º–∏—Ç–∏—Ä–æ–≤–∞—Ç—å –∑–∞–≥—Ä—É–∑–∫—É –∏ –æ–±—Ä–∞–±–æ—Ç–∫—É –æ—á–µ–Ω—å –±–æ–ª—å—à–æ–≥–æ –º–∞—Å—Å–∏–≤–∞ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –≥—Ä–∞—Ñ–∏–∫–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, 10 000+ —Ç–æ—á–µ–∫) —Å –ø–æ–º–æ—â—å—é `startTransition`. UI –Ω–µ –¥–æ–ª–∂–µ–Ω –±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å—Å—è –≤–æ –≤—Ä–µ–º—è "–¥–æ–ª–≥–æ–≥–æ" –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è.
    *   –ü–æ–∫–∞–∂–∏—Ç–µ `isPending` –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –≤–æ –≤—Ä–µ–º—è "–¥–æ–ª–≥–æ–≥–æ" –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è.

3.  **–ú–∞—Å—Ç–µ—Ä —Ñ–æ—Ä–º —Å –º–Ω–æ–∂–µ—Å—Ç–≤–æ–º —à–∞–≥–æ–≤**: –°–æ–∑–¥–∞–π—Ç–µ –ø—Ä–æ—Å—Ç—É—é —Ñ–æ—Ä–º—É-–º–∞—Å—Ç–µ—Ä —Å –∫–Ω–æ–ø–∫–∞–º–∏ "–î–∞–ª–µ–µ" –∏ "–ù–∞–∑–∞–¥". –ü–µ—Ä–µ—Ö–æ–¥ –º–µ–∂–¥—É —à–∞–≥–∞–º–∏ (–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–µ–∫—É—â–µ–≥–æ —à–∞–≥–∞) –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –º–≥–Ω–æ–≤–µ–Ω–Ω—ã–º. –û–¥–Ω–∞–∫–æ, –µ—Å–ª–∏ –æ–¥–∏–Ω –∏–∑ —à–∞–≥–æ–≤ —Å–æ–¥–µ—Ä–∂–∏—Ç —Ç—è–∂—ë–ª—É—é –ª–æ–≥–∏–∫—É —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ –∏–ª–∏ –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ–π –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö (–∏–º–∏—Ç–∏—Ä—É–π—Ç–µ —ç—Ç–æ –∑–∞–¥–µ—Ä–∂–∫–æ–π –≤ 1-2 —Å–µ–∫—É–Ω–¥—ã –≤–Ω—É—Ç—Ä–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ —à–∞–≥–∞), —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –Ω–∞ —ç—Ç–æ—Ç —à–∞–≥ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø–ª–∞–≤–Ω–æ, –±–µ–∑ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ –∫–Ω–æ–ø–æ–∫ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏, –∏—Å–ø–æ–ª—å–∑—É—è `useTransition`.

---

### üí° –°–æ–≤–µ—Ç

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `useTransition` —Ç–æ–≥–¥–∞, –∫–æ–≥–¥–∞ –µ—Å—Ç—å **—Å—Ä–æ—á–Ω–æ–µ** –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –≤–≤–æ–¥ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –Ω–∞–≤–∏–≥–∞—Ü–∏—è –ø–æ –∫–Ω–æ–ø–∫–∞–º) –∏ **–Ω–µ—Å—Ä–æ—á–Ω–æ–µ**, –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–æ "—Ç—è–∂—ë–ª–æ–µ" –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –±–æ–ª—å—à–∏—Ö —Å–ø–∏—Å–∫–æ–≤, —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥ —Å–ª–æ–∂–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤, –∑–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö), –∫–æ—Ç–æ—Ä–æ–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –≤ –æ—Ç–≤–µ—Ç –Ω–∞ —Å—Ä–æ—á–Ω–æ–µ. `useTransition` –Ω–µ –¥–ª—è –≤—Å–µ–≥–æ. –î—É–º–∞–π—Ç–µ –æ –Ω—ë–º –∫–∞–∫ –æ –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª–µ –º–µ–∂–¥—É "–≤—ã—Å–æ–∫–∏–º –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–æ–º" –∏ "—Ñ–æ–Ω–æ–≤–æ–π –∑–∞–¥–∞—á–µ–π" –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π —Å–æ—Å—Ç–æ—è–Ω–∏—è, —á—Ç–æ–±—ã –≤—Å–µ–≥–¥–∞ –æ–±–µ—Å–ø–µ—á–∏–≤–∞—Ç—å –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –æ—Ç–∑—ã–≤—á–∏–≤—ã–π UI.

–ù–∞ —ç—Ç–æ–º –Ω–∞—à —É—Ä–æ–∫ –ø–æ `useTransition` –∑–∞–≤–µ—Ä—à–µ–Ω. –ù–∞–¥–µ—é—Å—å, –≤—ã —Ç–µ–ø–µ—Ä—å —á—É–≤—Å—Ç–≤—É–µ—Ç–µ —Å–µ–±—è —É–≤–µ—Ä–µ–Ω–Ω–µ–µ –≤ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å—é –≤–∞—à–µ–≥–æ React UI! –î–æ —Å–∫–æ—Ä–æ–≥–æ, Yasha.