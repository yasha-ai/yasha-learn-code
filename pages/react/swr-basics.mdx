# SWR: Fetching –¥–∞–Ω–Ω—ã—Ö –æ—Ç Vercel

**SWR** (Stale-While-Revalidate) ‚Äî —ç—Ç–æ –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –æ—Ç –∫–æ–º–∞–Ω–¥—ã Vercel (—Å–æ–∑–¥–∞—Ç–µ–ª–µ–π Next.js) –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö. –û–Ω–∞ –ª–µ–≥—á–µ, —á–µ–º [TanStack Query](/react/react-query-intro), –∏ —Ñ–æ–∫—É—Å–∏—Ä—É–µ—Ç—Å—è –Ω–∞ –ø—Ä–æ—Å—Ç–æ—Ç–µ –∏ —Å–∫–æ—Ä–æ—Å—Ç–∏.

### –°—Ç—Ä–∞—Ç–µ–≥–∏—è SWR

–ù–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –æ—Ç HTTP-–∑–∞–≥–æ–ª–æ–≤–∫–∞ `Cache-Control: stale-while-revalidate`.

```mermaid
graph TD
    A[Request] --> B{Cache?}
    B -- Yes --> C[Show Stale Data]
    B -- No --> D[Fetch from API]
    C --> D
    D --> E[Update Cache & UI]
```

### –ë–∞–∑–æ–≤—ã–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å

SWR –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –ª–∞–∫–æ–Ω–∏—á–µ–Ω. –í–∞–º –Ω—É–∂–Ω–æ –ø–µ—Ä–µ–¥–∞—Ç—å –∫–ª—é—á (URL) –∏ —Ñ—É–Ω–∫—Ü–∏—é-—Ñ–µ—Ç—á–µ—Ä.

```tsx
import useSWR from 'swr';

const fetcher = (url: string) => fetch(url).then((res) => res.json());

function Profile() {
  const { data, error, isLoading } = useSWR('/api/user/123', fetcher);

  if (error) return <div>–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏</div>;
  if (isLoading) return <div>–ó–∞–≥—Ä—É–∑–∫–∞...</div>;
  return <div>–ü—Ä–∏–≤–µ—Ç, {data.name}!</div>;
}
```

### –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ SWR

- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–µ–≤–∞–ª–∏–¥–∞—Ü–∏—è:** –û–±–Ω–æ–≤–ª—è–µ—Ç –¥–∞–Ω–Ω—ã–µ –ø—Ä–∏ —Å–º–µ–Ω–µ —Ñ–æ–∫—É—Å–∞ –≤–∫–ª–∞–¥–∫–∏ –∏–ª–∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–∏ —Å–µ—Ç–∏.
- **–ü–æ–¥–¥–µ—Ä–∂–∫–∞ SSR/Next.js:** –ò–¥–µ–∞–ª—å–Ω–æ –∏–Ω—Ç–µ–≥—Ä–∏—Ä—É–µ—Ç—Å—è —Å Next.js.
- **–ú–∞–ª–µ–Ω—å–∫–∏–π —Ä–∞–∑–º–µ—Ä:** –ú–∏–Ω–∏–º—É–º –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π.
- **Shared [State](/react/props-state):** –ï—Å–ª–∏ –¥–≤–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ –≤—ã–∑—ã–≤–∞—é—Ç `useSWR` —Å –æ–¥–Ω–∏–º –∏ —Ç–µ–º –∂–µ –∫–ª—é—á–æ–º, –±—É–¥–µ—Ç –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω –∑–∞–ø—Ä–æ—Å.

### –ú—É—Ç–∞—Ü–∏–∏ –≤ SWR

–î–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ñ—É–Ω–∫—Ü–∏—è `mutate`.

[Icon: Edit] **Local Mutate:** –û–±–Ω–æ–≤–∏—Ç—å –¥–∞–Ω–Ω—ã–µ —Ç–æ–ª—å–∫–æ –≤ —Ç–µ–∫—É—â–µ–º –∫—ç—à–µ.
[Icon: Globe] **Global Mutate:** –û–±–Ω–æ–≤–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –≤–æ –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö –ø–æ –∫–ª—é—á—É.

```tsx
import { useSWRConfig } from 'swr';

function UpdateButton() {
  const { mutate } = useSWRConfig();
  
  return (
    <button onClick={() => mutate('/api/user/123')}>
      –û–±–Ω–æ–≤–∏—Ç—å –ø—Ä–æ—Ñ–∏–ª—å
    </button>
  );
}
```

### –ö–æ–≥–¥–∞ –≤—ã–±—Ä–∞—Ç—å SWR –≤–º–µ—Å—Ç–æ [React Query](/react/react-query-intro)?

[Icon: Scaling] –í—ã–±–∏—Ä–∞–π—Ç–µ **SWR**, –µ—Å–ª–∏ –≤–∞–º –Ω—É–∂–Ω–æ –ø—Ä–æ—Å—Ç–æ–µ —Ä–µ—à–µ–Ω–∏–µ –¥–ª—è —Ñ–µ—Ç—á–∏–Ω–≥–∞ –¥–∞–Ω–Ω—ã—Ö –±–µ–∑ —Å–ª–æ–∂–Ω–æ–≥–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –º—É—Ç–∞—Ü–∏—è–º–∏, –±–µ—Å–∫–æ–Ω–µ—á–Ω—ã–º–∏ —Å–ø–∏—Å–∫–∞–º–∏ –∏ —Ç—è–∂–µ–ª—ã–º –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ–º. –î–ª—è –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–∞ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π SWR –±–æ–ª–µ–µ —á–µ–º –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ.

---

## üîó –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏
- [Props State](/react/props-state)
- [TanStack Query (React Query): –†–∞–±–æ—Ç–∞ —Å —Å–µ—Ä–≤–µ—Ä–Ω—ã–º —Å—Ç–µ–π—Ç–æ–º](/react/react-query-intro)
