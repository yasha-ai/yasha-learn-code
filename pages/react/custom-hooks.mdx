## TypeScript: Custom Hooks

–ó–¥–æ—Ä–æ–≤–æ, –∫–æ–¥–µ—Ä—ã! –°–µ–≥–æ–¥–Ω—è –º—ã –ø–æ–≥—Ä—É–∑–∏–º—Å—è –≤ –æ–¥–Ω—É –∏–∑ —Å–∞–º—ã—Ö –º–æ—â–Ω—ã—Ö –∏ —ç–ª–µ–≥–∞–Ω—Ç–Ω—ã—Ö –∫–æ–Ω—Ü–µ–ø—Ü–∏–π –≤ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ –Ω–∞ React —Å TypeScript ‚Äî **Custom Hooks**. –ï—Å–ª–∏ –≤—ã —É–∂–µ –æ—Å–≤–æ–∏–ª–∏ –±–∞–∑–æ–≤—ã–µ —Ç–∏–ø—ã, –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –∏ –¥–∂–µ–Ω–µ—Ä–∏–∫–∏, –ø—Ä–∏—à–ª–æ –≤—Ä–µ–º—è –ø–æ–¥–Ω—è—Ç—å —Å–≤–æ–π –∫–æ–¥ –Ω–∞ –Ω–æ–≤—ã–π —É—Ä–æ–≤–µ–Ω—å –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º–æ—Å—Ç–∏, —á–∏—Ç–∞–µ–º–æ—Å—Ç–∏ –∏, –∫–æ–Ω–µ—á–Ω–æ –∂–µ, —Å—Ç—Ä–æ–≥–æ–π —Ç–∏–ø–∏–∑–∞—Ü–∏–∏!

### –ß—Ç–æ —Ç–∞–∫–æ–µ Custom Hooks –∏ –∑–∞—á–µ–º –æ–Ω–∏ –Ω—É–∂–Ω—ã?

–ü—Ä–µ–¥—Å—Ç–∞–≤—å—Ç–µ, —á—Ç–æ –≤—ã —Å—Ç—Ä–æ–∏—Ç–µ –¥–æ–º. –£ –≤–∞—Å –µ—Å—Ç—å –±–∞–∑–æ–≤—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã (React Hooks —Ç–∏–ø–∞ `useState`, `useEffect`, `useContext`), –Ω–æ –¥–ª—è —Å–ø–µ—Ü–∏—Ñ–∏—á–µ—Å–∫–∏—Ö –∑–∞–¥–∞—á (–Ω–∞–ø—Ä–∏–º–µ—Ä, —É—Å—Ç–∞–Ω–æ–≤–∫–∞ —É–º–Ω–æ–≥–æ –æ—Å–≤–µ—â–µ–Ω–∏—è –∏–ª–∏ —Å–∏—Å—Ç–µ–º—ã "—É–º–Ω—ã–π –¥–æ–º") –≤–∞–º –Ω—É–∂–µ–Ω –Ω–µ –ø—Ä–æ—Å—Ç–æ –º–æ–ª–æ—Ç–æ–∫, –∞ —Ü–µ–ª—ã–π —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –Ω–∞–±–æ—Ä –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ –∏–ª–∏ –¥–∞–∂–µ –≥–æ—Ç–æ–≤—ã–π –º–æ–¥—É–ª—å. –í–æ—Ç Custom Hooks ‚Äî —ç—Ç–æ –∏ –µ—Å—Ç—å —Ç–∞–∫–∏–µ —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ, –≥–æ—Ç–æ–≤—ã–µ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç–∫–µ –º–æ–¥—É–ª–∏ –ª–æ–≥–∏–∫–∏.

Custom Hooks –ø–æ–∑–≤–æ–ª—è—é—Ç –≤–∞–º –≤—ã–Ω–µ—Å—Ç–∏ –ø–æ–≤—Ç–æ—Ä—è—é—â—É—é—Å—è –ª–æ–≥–∏–∫—É –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤, —Å–≤—è–∑–∞–Ω–Ω—É—é —Å —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º –∏ –∂–∏–∑–Ω–µ–Ω–Ω—ã–º —Ü–∏–∫–ª–æ–º React, –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–µ, –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏. –ò–º—è Custom Hook *–≤—Å–µ–≥–¥–∞* –¥–æ–ª–∂–Ω–æ –Ω–∞—á–∏–Ω–∞—Ç—å—Å—è —Å –ø—Ä–µ—Ñ–∏–∫—Å–∞ `use` (–Ω–∞–ø—Ä–∏–º–µ—Ä, `useAuth`, `useForm`, `useLocalStorage`). –≠—Ç–æ –Ω–µ –ø—Ä–æ—Å—Ç–æ —Å–æ–≥–ª–∞—à–µ–Ω–∏–µ, —ç—Ç–æ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ –ø—Ä–∞–≤–∏–ª–æ, –∫–æ—Ç–æ—Ä–æ–µ React –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è, —á—Ç–æ —ç—Ç–æ –∏–º–µ–Ω–Ω–æ Hook, –∏ –¥–ª—è –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è —Å–≤–æ–∏—Ö –ø—Ä–∞–≤–∏–ª (–Ω–∞–ø—Ä–∏–º–µ—Ä, –Ω–µ –≤—ã–∑—ã–≤–∞—Ç—å Hooks –≤–Ω—É—Ç—Ä–∏ —É—Å–ª–æ–≤–∏–π –∏–ª–∏ —Ü–∏–∫–ª–æ–≤).

**–ó–∞—á–µ–º –∏—Ö –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å?**

1.  **–ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ª–æ–≥–∏–∫–∏**: –ò–∑–±–µ–≥–∞–µ–º –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è –∫–æ–¥–∞. –ù–∞–ø–∏—Å–∞–ª–∏ –æ–¥–∏–Ω —Ä–∞–∑ ‚Äî –∏—Å–ø–æ–ª—å–∑—É–µ–º –≥–¥–µ —É–≥–æ–¥–Ω–æ.
2.  **–†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏**: –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å—Ç–∞–Ω–æ–≤—è—Ç—Å—è —Ç–æ–Ω—å—à–µ, —Ñ–æ–∫—É—Å–∏—Ä—É—è—Å—å –∏—Å–∫–ª—é—á–∏—Ç–µ–ª—å–Ω–æ –Ω–∞ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–µ, –∞ –ª–æ–≥–∏–∫–∞ —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ Hook'–∞—Ö.
3.  **–£–ª—É—á—à–µ–Ω–Ω–∞—è —á–∏—Ç–∞–µ–º–æ—Å—Ç—å**: –ì–ª—è–¥—è –Ω–∞ –∏–º—è `useAuth`, —Å—Ä–∞–∑—É –ø–æ–Ω—è—Ç–Ω–æ, –∑–∞ —á—Ç–æ –æ—Ç–≤–µ—á–∞–µ—Ç —ç—Ç–æ—Ç —Ñ—Ä–∞–≥–º–µ–Ω—Ç –∫–æ–¥–∞.
4.  **–ü—Ä–æ—Å—Ç–æ—Ç–∞ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è**: –õ–æ–≥–∏–∫—É, –≤—ã–Ω–µ—Å–µ–Ω–Ω—É—é –≤ Hook, –ø—Ä–æ—â–µ –∏–∑–æ–ª–∏—Ä–æ–≤–∞—Ç—å –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å.

### –ü—Ä–æ—Å—Ç–µ–π—à–∏–π Custom Hook: –û—Ç—Å–ª–µ–∂–∏–≤–∞–µ–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ

–ù–∞—á–Ω–µ–º —Å –∫–ª–∞—Å—Å–∏–∫–∏ ‚Äî `useToggle`. –≠—Ç–æ—Ç —Ö—É–∫ –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç—å –±—É–ª–µ–≤–æ –∑–Ω–∞—á–µ–Ω–∏–µ.

```typescript
import { useState, useCallback } from 'react';

/**
 * @template T - –¢–∏–ø –∑–Ω–∞—á–µ–Ω–∏—è, –∫–æ—Ç–æ—Ä–æ–µ –±—É–¥–µ—Ç –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç—å—Å—è.
 * @param {T} initialValue - –ù–∞—á–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ.
 * @returns {[T, () => void]} - –ö–æ—Ä—Ç–µ–∂, —Å–æ–¥–µ—Ä–∂–∞—â–∏–π —Ç–µ–∫—É—â–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –∏ —Ñ—É–Ω–∫—Ü–∏—é-–ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å.
 */
function useToggle<T>(initialValue: T): [T, () => void] {
  const [value, setValue] = useState<T>(initialValue);

  // –ò—Å–ø–æ–ª—å–∑—É–µ–º useCallback –¥–ª—è –º–µ–º–æ–∏–∑–∞—Ü–∏–∏ —Ñ—É–Ω–∫—Ü–∏–∏ toggle,
  // —á—Ç–æ–±—ã –æ–Ω–∞ –Ω–µ –ø–µ—Ä–µ—Å–æ–∑–¥–∞–≤–∞–ª–∞—Å—å –ø—Ä–∏ –∫–∞–∂–¥–æ–º —Ä–µ–Ω–¥–µ—Ä–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞.
  const toggle = useCallback(() => {
    setValue(prevValue => (prevValue === initialValue ? initialValue : !initialValue as unknown as T));
    // –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ: –ü—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ –Ω–µ-boolean —Ç–∏–ø–æ–≤, –ª–æ–≥–∏–∫–∞ toggle –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞–Ω–∞.
    // –î–ª—è —ç—Ç–æ–≥–æ –ø—Ä–∏–º–µ—Ä–∞ –ø—Ä–µ–¥–ø–æ–ª–∞–≥–∞–µ—Ç—Å—è, —á—Ç–æ initialValue - —ç—Ç–æ –ª–∏–±–æ boolean, –ª–∏–±–æ null/undefined,
    // –∏ –º—ã —Ö–æ—Ç–∏–º –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç—å –µ–≥–æ —Å –ø—Ä–æ—Ç–∏–≤–æ–ø–æ–ª–æ–∂–Ω—ã–º boolean-–∑–Ω–∞—á–µ–Ω–∏–µ–º, –µ—Å–ª–∏ —ç—Ç–æ –≤–æ–∑–º–æ–∂–Ω–æ,
    // –∏–ª–∏ –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å initialValue, –µ—Å–ª–∏ —Ç–µ–∫—É—â–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ —É–∂–µ –Ω–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç.
    // –ë–æ–ª–µ–µ —Å—Ç—Ä–æ–≥–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –¥–ª—è boolean: setValue(prev => !prev as T);
  }, [initialValue]); // –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç—å initialValue –Ω—É–∂–Ω–∞, –µ—Å–ª–∏ –º—ã —Ö–æ—Ç–∏–º,
                      // —á—Ç–æ–±—ã toggle —Ä–µ–∞–≥–∏—Ä–æ–≤–∞–ª –Ω–∞ –µ–≥–æ –∏–∑–º–µ–Ω–µ–Ω–∏–µ.
                      // –î–ª—è –ø—Ä–æ—Å—Ç–æ–≥–æ –±—É–ª–µ–≤–æ–≥–æ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è –º–æ–∂–Ω–æ –æ–ø—É—Å—Ç–∏—Ç—å.

  return [value, toggle];
}

// –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ React (–ø—Ä–µ–¥–ø–æ–ª–∞–≥–∞–µ—Ç—Å—è –Ω–∞–ª–∏—á–∏–µ React)
function MyComponent() {
  const [isOpen, toggleOpen] = useToggle(false);

  return (
    <div>
      <p>–°—Ç–∞—Ç—É—Å: {isOpen ? '–û—Ç–∫—Ä—ã—Ç–æ' : '–ó–∞–∫—Ä—ã—Ç–æ'}</p>
      <button onClick={toggleOpen}>–ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å</button>
    </div>
  );
}
```

**–†–∞–∑–±–æ—Ä:**
*   –ú—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º –¥–∂–µ–Ω–µ—Ä–∏–∫ `<T>`, —á—Ç–æ–±—ã `useToggle` –º–æ–≥ —Ä–∞–±–æ—Ç–∞—Ç—å –Ω–µ —Ç–æ–ª—å–∫–æ —Å –±—É–ª–µ–≤—ã–º–∏ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏, –Ω–æ –∏ —Å –ª—é–±—ã–º–∏ –¥—Ä—É–≥–∏–º–∏, –µ—Å–ª–∏ –ª–æ–≥–∏–∫–∞ `toggle` –±—É–¥–µ—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–º –æ–±—Ä–∞–∑–æ–º –∏–∑–º–µ–Ω–µ–Ω–∞ (–¥–ª—è –±—É–ª–µ–≤—ã—Ö –æ–Ω–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç "–∏–∑ –∫–æ—Ä–æ–±–∫–∏").
*   `useCallback` –∫—Ä–∞–π–Ω–µ –≤–∞–∂–µ–Ω. –û–Ω –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç, —á—Ç–æ —Ñ—É–Ω–∫—Ü–∏—è `toggle` –Ω–µ –±—É–¥–µ—Ç –ø–µ—Ä–µ—Å–æ–∑–¥–∞–≤–∞—Ç—å—Å—è –ø—Ä–∏ –∫–∞–∂–¥–æ–º —Ä–µ–Ω–¥–µ—Ä–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞, –∏—Å–ø–æ–ª—å–∑—É—é—â–µ–≥–æ `useToggle`. –≠—Ç–æ –æ–ø—Ç–∏–º–∏–∑–∏—Ä—É–µ—Ç –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å, –æ—Å–æ–±–µ–Ω–Ω–æ –ø—Ä–∏ –ø–µ—Ä–µ–¥–∞—á–µ `toggle` –≤ –¥–æ—á–µ—Ä–Ω–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã.

### Custom Hook —Å —ç—Ñ—Ñ–µ–∫—Ç–∞–º–∏: `useDebounce`

–ß–∞—Å—Ç–æ –Ω—É–∂–Ω–æ –≤—ã–ø–æ–ª–Ω–∏—Ç—å –∫–∞–∫–æ–µ-—Ç–æ –¥–µ–π—Å—Ç–≤–∏–µ *–ø–æ—Å–ª–µ —Ç–æ–≥–æ*, –∫–∞–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–µ—Ä–µ—Å—Ç–∞–Ω–µ—Ç –≤–≤–æ–¥–∏—Ç—å —Ç–µ–∫—Å—Ç, –∏–ª–∏ *–ø–æ—Å–ª–µ* –Ω–µ–±–æ–ª—å—à–æ–π –ø–∞—É–∑—ã. –î–ª—è —ç—Ç–æ–≥–æ –Ω–∞–º –ø–æ–º–æ–∂–µ—Ç `useDebounce`.

```typescript
import { useState, useEffect } from 'react';

/**
 * @template T - –¢–∏–ø –∑–Ω–∞—á–µ–Ω–∏—è, –∫–æ—Ç–æ—Ä–æ–µ –±—É–¥–µ—Ç –¥–µ–±–∞—É–Ω—Å–∏—Ç—å—Å—è.
 * @param {T} value - –ó–Ω–∞—á–µ–Ω–∏–µ –¥–ª—è –¥–µ–±–∞—É–Ω—Å–∞.
 * @param {number} delay - –ó–∞–¥–µ—Ä–∂–∫–∞ –≤ –º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥–∞—Ö, –ø–æ—Å–ª–µ –∫–æ—Ç–æ—Ä–æ–π –∑–Ω–∞—á–µ–Ω–∏–µ –±—É–¥–µ—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–æ.
 * @returns {T} - –î–µ–±–∞—É–Ω—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ.
 */
function useDebounce<T>(value: T, delay: number): T {
  const [debouncedValue, setDebouncedValue] = useState<T>(value);

  useEffect(() => {
    // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Ç–∞–π–º–µ—Ä –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –¥–µ–±–∞—É–Ω—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è
    const handler = setTimeout(() => {
      setDebouncedValue(value);
    }, delay);

    // –§—É–Ω–∫—Ü–∏—è –æ—á–∏—Å—Ç–∫–∏: –æ—Ç–º–µ–Ω—è–µ–º —Ç–∞–π–º–µ—Ä, –µ—Å–ª–∏ value –∏–ª–∏ delay –∏–∑–º–µ–Ω–∏–ª–∏—Å—å,
    // –∏–ª–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç —Ä–∞–∑–º–æ–Ω—Ç–∏—Ä–æ–≤–∞–ª—Å—è.
    return () => {
      clearTimeout(handler);
    };
  }, [value, delay]); // –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–µ–º —ç—Ñ—Ñ–µ–∫—Ç, –µ—Å–ª–∏ value –∏–ª–∏ delay –∏–∑–º–µ–Ω–∏–ª–∏—Å—å

  return debouncedValue;
}

// –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ React
function SearchInput() {
  const [searchTerm, setSearchTerm] = useState('');
  const debouncedSearchTerm = useDebounce(searchTerm, 500); // –ó–∞–¥–µ—Ä–∂–∫–∞ 500 –º—Å

  // –≠—Ç–æ—Ç —ç—Ñ—Ñ–µ–∫—Ç –±—É–¥–µ—Ç —Å—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ —Ç–æ–≥–æ, –∫–∞–∫ debouncedSearchTerm –æ–±–Ω–æ–≤–∏—Ç—Å—è
  useEffect(() => {
    if (debouncedSearchTerm) {
      console.log(`–ü–æ–∏—Å–∫ –ø–æ –∑–∞–ø—Ä–æ—Å—É: ${debouncedSearchTerm}`);
      // –ó–¥–µ—Å—å –º–æ–∂–Ω–æ –±—ã–ª–æ –±—ã –≤—ã–ø–æ–ª–Ω–∏—Ç—å API –∑–∞–ø—Ä–æ—Å
    }
  }, [debouncedSearchTerm]);

  return (
    <div>
      <input
        type="text"
        placeholder="–í–≤–µ–¥–∏—Ç–µ –¥–ª—è –ø–æ–∏—Å–∫–∞..."
        value={searchTerm}
        onChange={(e) => setSearchTerm(e.target.value)}
      />
      <p>–¢–µ–∫—É—â–∏–π –≤–≤–æ–¥: {searchTerm}</p>
      <p>–î–µ–±–∞—É–Ω—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –≤–≤–æ–¥: {debouncedSearchTerm}</p>
    </div>
  );
}
```

**–†–∞–∑–±–æ—Ä:**
*   `useEffect` –∑–¥–µ—Å—å –∏–≥—Ä–∞–µ—Ç –∫–ª—é—á–µ–≤—É—é —Ä–æ–ª—å, —Å–æ–∑–¥–∞–≤–∞—è –∏ –æ—á–∏—â–∞—è —Ç–∞–π–º–µ—Ä.
*   `delay` –∏ `value` –≤–∫–ª—é—á–µ–Ω—ã –≤ –º–∞—Å—Å–∏–≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π `useEffect`, –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É—è, —á—Ç–æ —Ç–∞–π–º–µ—Ä –±—É–¥–µ—Ç –ø–µ—Ä–µ–∑–∞–ø—É—â–µ–Ω –ø—Ä–∏ –∏—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–∏.
*   –§—É–Ω–∫—Ü–∏—è –æ—á–∏—Å—Ç–∫–∏ `return () => clearTimeout(handler)` –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç —É—Ç–µ—á–∫–∏ –ø–∞–º—è—Ç–∏ –∏ –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ, –µ—Å–ª–∏ `value` –∏–∑–º–µ–Ω–∏—Ç—Å—è –¥–æ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏—è —Ç–∞–π–º–µ—Ä–∞.

### –¢–∏–ø–∏–∑–∞—Ü–∏—è Custom Hooks —Å Generics: `useLocalStorage`

–¢–µ–ø–µ—Ä—å, –∫–æ–≥–¥–∞ –º—ã —Ä–∞–±–æ—Ç–∞–µ–º —Å –¥–∞–Ω–Ω—ã–º–∏, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥—É—Ç –±—ã—Ç—å —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–æ–≤, –¥–∂–µ–Ω–µ—Ä–∏–∫–∏ —Å—Ç–∞–Ω–æ–≤—è—Ç—Å—è –Ω–µ–∑–∞–º–µ–Ω–∏–º—ã. –î–∞–≤–∞–π—Ç–µ —Å–æ–∑–¥–∞–¥–∏–º `useLocalStorage`, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç —Ö—Ä–∞–Ω–∏—Ç—å –∏ –∏–∑–≤–ª–µ–∫–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –∏–∑ `localStorage` —Å —É—á–µ—Ç–æ–º –∏—Ö —Ç–∏–ø–∞.

```typescript
import { useState, useEffect, useCallback } from 'react';

/**
 * @template T - –¢–∏–ø –∑–Ω–∞—á–µ–Ω–∏—è, –∫–æ—Ç–æ—Ä–æ–µ –±—É–¥–µ—Ç —Ö—Ä–∞–Ω–∏—Ç—å—Å—è –≤ localStorage.
 * @param {string} key - –ö–ª—é—á –¥–ª—è localStorage.
 * @param {T} initialValue - –ù–∞—á–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ, –µ—Å–ª–∏ –≤ localStorage –Ω–∏—á–µ–≥–æ –Ω–µ—Ç.
 * @returns {[T, (value: T | ((prevValue: T) => T)) => void, () => void]}
 *   –ö–æ—Ä—Ç–µ–∂: —Ç–µ–∫—É—â–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ, —Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∑–Ω–∞—á–µ–Ω–∏—è, —Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è –∑–Ω–∞—á–µ–Ω–∏—è.
 */
function useLocalStorage<T>(key: string, initialValue: T): [T, (value: T | ((prevValue: T) => T)) => void, () => void] {
  // –ü–æ–ª—É—á–∞–µ–º –Ω–∞—á–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –∏–∑ localStorage –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ–º initialValue
  const readValue = useCallback((): T => {
    try {
      const item = window.localStorage.getItem(key);
      return item ? (JSON.parse(item) as T) : initialValue;
    } catch (error) {
      console.warn(`–û—à–∏–±–∫–∞ –ø—Ä–∏ —á—Ç–µ–Ω–∏–∏ localStorage –∫–ª—é—á–∞ "${key}":`, error);
      return initialValue;
    }
  }, [key, initialValue]);

  const [storedValue, setStoredValue] = useState<T>(readValue);

  // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∑–Ω–∞—á–µ–Ω–∏—è –≤ localStorage
  const setValue = useCallback((value: T | ((prevValue: T) => T)) => {
    try {
      const newValue = value instanceof Function ? value(storedValue) : value;
      window.localStorage.setItem(key, JSON.stringify(newValue));
      setStoredValue(newValue);
    } catch (error) {
      console.error(`–û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–ø–∏—Å–∏ –≤ localStorage –∫–ª—é—á–∞ "${key}":`, error);
    }
  }, [key, storedValue]); // –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç—å storedValue –∑–¥–µ—Å—å –Ω—É–∂–Ω–∞, –µ—Å–ª–∏ value - —ç—Ç–æ —Ñ—É–Ω–∫—Ü–∏—è.

  // –§—É–Ω–∫—Ü–∏—è –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è –∑–Ω–∞—á–µ–Ω–∏—è –∏–∑ localStorage
  const removeValue = useCallback(() => {
    try {
      window.localStorage.removeItem(key);
      setStoredValue(initialValue); // –°–±—Ä–æ—Å–∏–º –∫ –Ω–∞—á–∞–ª—å–Ω–æ–º—É –∑–Ω–∞—á–µ–Ω–∏—é –ø–æ—Å–ª–µ —É–¥–∞–ª–µ–Ω–∏—è
    } catch (error) {
      console.error(`–û—à–∏–±–∫–∞ –ø—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏ –∏–∑ localStorage –∫–ª—é—á–∞ "${key}":`, error);
    }
  }, [key, initialValue]);

  // –°–ª—É—à–∞–µ–º —Å–æ–±—ã—Ç–∏—è storage –¥–ª—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ —Å –¥—Ä—É–≥–∏–º–∏ –≤–∫–ª–∞–¥–∫–∞–º–∏/–æ–∫–Ω–∞–º–∏
  useEffect(() => {
    const handleStorageChange = () => {
      setStoredValue(readValue());
    };
    window.addEventListener('storage', handleStorageChange);
    return () => window.removeEventListener('storage', handleStorageChange);
  }, [readValue]); // readValue - —Ñ—É–Ω–∫—Ü–∏—è, –ø–æ—ç—Ç–æ–º—É –æ–Ω–∞ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è—Ö

  return [storedValue, setValue, removeValue];
}

// –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
interface UserSettings {
  theme: 'light' | 'dark';
  notifications: boolean;
}

function UserSettingsPanel() {
  const [settings, setSettings, removeSettings] = useLocalStorage<UserSettings>(
    'userSettings',
    { theme: 'light', notifications: true }
  );

  return (
    <div>
      <h3>–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</h3>
      <p>–¢–µ–º–∞: {settings.theme}</p>
      <button onClick={() => setSettings(prev => ({ ...prev, theme: prev.theme === 'light' ? 'dark' : 'light' }))}>
        –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å —Ç–µ–º—É
      </button>
      <p>–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è: {settings.notifications ? '–í–∫–ª—é—á–µ–Ω—ã' : '–í—ã–∫–ª—é—á–µ–Ω—ã'}</p>
      <button onClick={() => setSettings(prev => ({ ...prev, notifications: !prev.notifications }))}>
        –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
      </button>
      <br/>
      <button onClick={removeSettings}>–°–±—Ä–æ—Å–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏</button>
    </div>
  );
}
```

**–†–∞–∑–±–æ—Ä:**
*   `useLocalStorage<T>` –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –¥–∂–µ–Ω–µ—Ä–∏–∫ `T`, —á—Ç–æ –¥–µ–ª–∞–µ—Ç –µ–≥–æ —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–º –¥–ª—è –ª—é–±–æ–≥–æ —Ç–∏–ø–∞ –¥–∞–Ω–Ω—ã—Ö, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–∂–Ω–æ —Å–µ—Ä–∏–∞–ª–∏–∑–æ–≤–∞—Ç—å –≤ JSON.
*   –§—É–Ω–∫—Ü–∏–∏ `readValue`, `setValue`, `removeValue` –æ–±–µ—Ä–Ω—É—Ç—ã –≤ `useCallback` –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏.
*   –ú—ã –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º –æ—à–∏–±–∫–∏ –ø—Ä–∏ —á—Ç–µ–Ω–∏–∏/–∑–∞–ø–∏—Å–∏ –∏–∑ `localStorage`.
*   `useEffect` —Å —Å–æ–±—ã—Ç–∏–µ–º `storage` –ø–æ–∑–≤–æ–ª—è–µ—Ç —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ –º–µ–∂–¥—É —Ä–∞–∑–Ω—ã–º–∏ –≤–∫–ª–∞–¥–∫–∞–º–∏ –±—Ä–∞—É–∑–µ—Ä–∞, –∏—Å–ø–æ–ª—å–∑—É—é—â–∏–º–∏ –æ–¥–Ω–æ –∏ —Ç–æ –∂–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ.

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç—å—é: `useFetch`

–û–±—Ä–∞–±–æ—Ç–∫–∞ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π, —Ç–∞–∫–∏—Ö –∫–∞–∫ –∑–∞–ø—Ä–æ—Å—ã –∫ API, —á–∞—Å—Ç–æ —Å–æ–ø—Ä—è–∂–µ–Ω–∞ —Å —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º –∑–∞–≥—Ä—É–∑–∫–∏, –æ—à–∏–±–æ–∫ –∏ —Å–∞–º–∏—Ö –¥–∞–Ω–Ω—ã—Ö. `useFetch` ‚Äî —ç—Ç–æ –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π –ø—Ä–∏–º–µ—Ä, –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É—é—â–∏–π, –∫–∞–∫ Hook'–∏ –º–æ–≥—É—Ç —É–ø—Ä–æ—Å—Ç–∏—Ç—å —ç—Ç—É –ª–æ–≥–∏–∫—É.

```typescript
import { useState, useEffect, useCallback } from 'react';

// –¢–∏–ø –¥–ª—è —Å–æ—Å—Ç–æ—è–Ω–∏—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–π –æ–ø–µ—Ä–∞—Ü–∏–∏
interface AsyncState<T> {
  data: T | null;
  loading: boolean;
  error: Error | null;
}

/**
 * @template T - –¢–∏–ø –¥–∞–Ω–Ω—ã—Ö, –æ–∂–∏–¥–∞–µ–º—ã—Ö –æ—Ç fetch-–∑–∞–ø—Ä–æ—Å–∞.
 * @param {string} url - URL –¥–ª—è –∑–∞–ø—Ä–æ—Å–∞.
 * @param {RequestInit} options - –û–ø—Ü–∏–∏ –¥–ª—è fetch API.
 * @returns {AsyncState<T>} - –û–±—ä–µ–∫—Ç —Å –¥–∞–Ω–Ω—ã–º–∏, —Å—Ç–∞—Ç—É—Å–æ–º –∑–∞–≥—Ä—É–∑–∫–∏ –∏ –æ—à–∏–±–∫–æ–π.
 */
function useFetch<T>(url: string, options?: RequestInit): AsyncState<T> {
  const [state, setState] = useState<AsyncState<T>>({
    data: null,
    loading: true,
    error: null,
  });

  const fetchData = useCallback(async () => {
    setState(prev => ({ ...prev, loading: true, error: null })); // –ù–∞—á–∏–Ω–∞–µ–º –∑–∞–≥—Ä—É–∑–∫—É, —Å–±—Ä–∞—Å—ã–≤–∞–µ–º –æ—à–∏–±–∫—É
    const abortController = new AbortController(); // –î–ª—è –æ—Ç–º–µ–Ω—ã –∑–∞–ø—Ä–æ—Å–∞ –ø—Ä–∏ —Ä–∞–∑–º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏
    const signal = abortController.signal;

    try {
      const response = await fetch(url, { ...options, signal });
      if (!response.ok) {
        throw new Error(`HTTP error! status: ${response.status}`);
      }
      const json = (await response.json()) as T;
      setState({ data: json, loading: false, error: null });
    } catch (error: any) {
      if (error.name === 'AbortError') {
        console.log('Fetch aborted');
        return; // –ó–∞–ø—Ä–æ—Å –±—ã–ª –æ—Ç–º–µ–Ω–µ–Ω, –Ω–µ –æ–±–Ω–æ–≤–ª—è–µ–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ
      }
      setState({ data: null, loading: false, error: error as Error });
    }
  }, [url, options]); // –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏: url –∏ options

  useEffect(() => {
    fetchData(); // –ó–∞–ø—É—Å–∫–∞–µ–º fetch –ø—Ä–∏ –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ –∏–ª–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ url/options

    // –§—É–Ω–∫—Ü–∏—è –æ—á–∏—Å—Ç–∫–∏: –æ—Ç–º–µ–Ω—è–µ–º –∑–∞–ø—Ä–æ—Å –ø—Ä–∏ —Ä–∞–∑–º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞
    return () => {
      // abortController.abort(); // –ï—Å–ª–∏ fetchData –Ω–µ –æ–±–µ—Ä–Ω—É—Ç–∞ –≤ useCallback,
                                // —Ç–æ –Ω—É–∂–Ω–æ —Å–æ—Ö—Ä–∞–Ω—è—Ç—å AbortController –≤ useRef
                                // –∏ –≤—ã–∑—ã–≤–∞—Ç—å abort –∑–¥–µ—Å—å.
                                // –í –¥–∞–Ω–Ω–æ–º —Å–ª—É—á–∞–µ AbortController —Å–æ–∑–¥–∞–µ—Ç—Å—è
                                // –ø—Ä–∏ –∫–∞–∂–¥–æ–º –≤—ã–∑–æ–≤–µ fetchData,
                                // –∏ –µ–≥–æ –æ—Ç–º–µ–Ω–∞ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –≤–Ω—É—Ç—Ä–∏ fetchData
                                // –∏–ª–∏ —á–µ—Ä–µ–∑ –º–µ—Ö–∞–Ω–∏–∑–º, –∫–æ—Ç–æ—Ä—ã–π –µ–≥–æ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç.
                                // –î–ª—è –ø—Ä–æ—Å—Ç–æ—Ç—ã, –æ—Å—Ç–∞–≤–∏–º —ç—Ç—É —Å—Ç—Ä–æ–∫—É –∫–∞–∫ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π
                                // –∏ –ø–æ–ª–æ–∂–∏–º—Å—è –Ω–∞ –ø–µ—Ä–µ—Å–æ–∑–¥–∞–Ω–∏–µ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞.
    };
  }, [fetchData]); // –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç—å fetchData, –ø–æ—Ç–æ–º—É —á—Ç–æ –æ–Ω–∞ –æ–±–µ—Ä–Ω—É—Ç–∞ –≤ useCallback

  return state;
}

// –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
interface Post {
  userId: number;
  id: number;
  title: string;
  body: string;
}

function PostViewer({ postId }: { postId: number }) {
  const { data: post, loading, error } = useFetch<Post>(
    `https://jsonplaceholder.typicode.com/posts/${postId}`
  );

  if (loading) return <p>–ó–∞–≥—Ä—É–∑–∫–∞ –ø–æ—Å—Ç–∞...</p>;
  if (error) return <p>–û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ: {error.message}</p>;
  if (!post) return <p>–ü–æ—Å—Ç –Ω–µ –Ω–∞–π–¥–µ–Ω.</p>;

  return (
    <div>
      <h3>{post.title}</h3>
      <p>{post.body}</p>
    </div>
  );
}

function App() {
  const [currentPostId, setCurrentPostId] = useState(1);

  return (
    <div>
      <h1>–ü–æ—Å—Ç—ã</h1>
      <button onClick={() => setCurrentPostId(prev => Math.max(1, prev - 1))}>
        –ü—Ä–µ–¥—ã–¥—É—â–∏–π
      </button>
      <button onClick={() => setCurrentPostId(prev => prev + 1)}>
        –°–ª–µ–¥—É—é—â–∏–π
      </button>
      <p>–¢–µ–∫—É—â–∏–π Post ID: {currentPostId}</p>
      <PostViewer postId={currentPostId} />
    </div>
  );
}
```

**–†–∞–∑–±–æ—Ä:**
*   `AsyncState<T>` ‚Äî —ç—Ç–æ –¥–∂–µ–Ω–µ—Ä–∏–∫-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è —Ç–∏–ø–∏–∑–∞—Ü–∏–∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö, –∑–∞–≥—Ä—É–∑–∫–∏ –∏ –æ—à–∏–±–æ–∫.
*   `fetchData` –æ–±–µ—Ä–Ω—É—Ç–∞ –≤ `useCallback` –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è –µ–µ –ø–µ—Ä–µ—Å–æ–∑–¥–∞–Ω–∏—è –∏ –±–µ—Å–∫–æ–Ω–µ—á–Ω—ã—Ö —Ü–∏–∫–ª–æ–≤ `useEffect`.
*   `AbortController` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –æ—Ç–º–µ–Ω—ã pending-–∑–∞–ø—Ä–æ—Å–æ–≤, –µ—Å–ª–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç —Ä–∞–∑–º–æ–Ω—Ç–∏—Ä—É–µ—Ç—Å—è –∏–ª–∏ `url`/`options` –º–µ–Ω—è—é—Ç—Å—è. –≠—Ç–æ –≤–∞–∂–Ω–æ –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è –Ω–∞ —É–∂–µ –Ω–µ–∞–∫—Ç—É–∞–ª—å–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö.
*   `useEffect` –≤—ã–∑—ã–≤–∞–µ—Ç `fetchData` –∏ —Å–ª—É–∂–∏—Ç –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –∑–∞–ø—Ä–æ—Å–∞ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ `url` –∏–ª–∏ `options`.

### üöß –¢–∏–ø–∏—á–Ω—ã–µ –æ—à–∏–±–∫–∏ –∏ –∫–∞–∫ –∏—Ö –∏–∑–±–µ–∂–∞—Ç—å

1.  **–ù–∞—Ä—É—à–µ–Ω–∏–µ –ü—Ä–∞–≤–∏–ª Hooks**:
    *   **–û—à–∏–±–∫–∞**: –í—ã–∑–æ–≤ Hook'–æ–≤ –≤–Ω—É—Ç—Ä–∏ —É—Å–ª–æ–≤–∏–π, —Ü–∏–∫–ª–æ–≤ –∏–ª–∏ –≤–ª–æ–∂–µ–Ω–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π.
    *   **–†–µ—à–µ–Ω–∏–µ**: –í—Å–µ–≥–¥–∞ –≤—ã–∑—ã–≤–∞–π—Ç–µ Hook'–∏ —Ç–æ–ª—å–∫–æ –Ω–∞ –≤–µ—Ä—Ö–Ω–µ–º —É—Ä–æ–≤–Ω–µ –≤–∞—à–µ–π —Ñ—É–Ω–∫—Ü–∏–∏-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ –∏–ª–∏ —Ñ—É–Ω–∫—Ü–∏–∏-Custom Hook. `eslint-plugin-react-hooks` –ø–æ–º–æ–∂–µ—Ç –≤–∞–º –ø–æ–π–º–∞—Ç—å —ç—Ç–∏ –æ—à–∏–±–∫–∏.

    ```typescript
    // ‚ùå –ü–ª–æ—Ö–æ:
    function MyComponent() {
      if (someCondition) {
        const [value] = useState(0); // –í—ã–∑–æ–≤ useState –≤–Ω—É—Ç—Ä–∏ —É—Å–ª–æ–≤–∏—è
      }
      // ...
    }

    // ‚úÖ –•–æ—Ä–æ—à–æ:
    function MyComponent() {
      const [value] = useState(0); // –í—ã–∑–æ–≤ useState –Ω–∞ –≤–µ—Ä—Ö–Ω–µ–º —É—Ä–æ–≤–Ω–µ
      if (someCondition) {
        // ... –∏—Å–ø–æ–ª—å–∑—É–µ–º value
      }
      // ...
    }
    ```

2.  **–ó–∞–±—ã—Ç—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –≤ `useEffect`/`useCallback`/`useMemo`**:
    *   **–û—à–∏–±–∫–∞**: –ù–µ —É–∫–∞–∑—ã–≤–∞–µ—Ç–µ –≤—Å–µ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ/—Ñ—É–Ω–∫—Ü–∏–∏ –∏–∑ –≤–Ω–µ—à–Ω–µ–π –æ–±–ª–∞—Å—Ç–∏ –≤–∏–¥–∏–º–æ—Å—Ç–∏ –≤ –º–∞—Å—Å–∏–≤–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π. –≠—Ç–æ –ø—Ä–∏–≤–æ–¥–∏—Ç –∫ "—É—Å—Ç–∞—Ä–µ–≤—à–∏–º –∑–∞–º—ã–∫–∞–Ω–∏—è–º" (stale closures) –∏ –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–º—É –ø–æ–≤–µ–¥–µ–Ω–∏—é.
    *   **–†–µ—à–µ–Ω–∏–µ**: –í—Å–µ–≥–¥–∞ —É–∫–∞–∑—ã–≤–∞–π—Ç–µ –≤—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `eslint-plugin-react-hooks` –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏.

    ```typescript
    function Counter() {
      const [count, setCount] = useState(0);

      // ‚ùå –û—à–∏–±–∫–∞: `count` –Ω–µ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è—Ö, `showCount` –±—É–¥–µ—Ç –≤–∏–¥–µ—Ç—å —Å—Ç–∞—Ä–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ `count`
      const showCount = useCallback(() => {
        alert(`–¢–µ–∫—É—â–∏–π —Å—á–µ—Ç: ${count}`);
      }, []);

      // ‚úÖ –•–æ—Ä–æ—à–æ: `count` –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è—Ö
      const showCountCorrect = useCallback(() => {
        alert(`–¢–µ–∫—É—â–∏–π —Å—á–µ—Ç: ${count}`);
      }, [count]);

      return (
        <div>
          <p>–°—á–µ—Ç: {count}</p>
          <button onClick={() => setCount(count + 1)}>–£–≤–µ–ª–∏—á–∏—Ç—å</button>
          <button onClick={showCount}>–ü–æ–∫–∞–∑–∞—Ç—å —Å—á–µ—Ç (—Å—Ç–∞—Ä—ã–π)</button>
          <button onClick={showCountCorrect}>–ü–æ–∫–∞–∑–∞—Ç—å —Å—á–µ—Ç (–Ω–æ–≤—ã–π)</button>
        </div>
      );
    }
    ```

3.  **–ò–∑–±—ã—Ç–æ—á–Ω–∞—è –∞–±—Å—Ç—Ä–∞–∫—Ü–∏—è**:
    *   **–û—à–∏–±–∫–∞**: –°–æ–∑–¥–∞–µ—Ç–µ Custom Hook –¥–ª—è –∫–∞–∂–¥–æ–π –º–µ–ª–æ—á–∏, –∫–æ—Ç–æ—Ä–∞—è –º–æ–∂–µ—Ç –±—ã—Ç—å –ø—Ä–æ—Å—Ç–æ —Ñ—É–Ω–∫—Ü–∏–µ–π –∏–ª–∏ —á–∞—Å—Ç—å—é –ª–æ–≥–∏–∫–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞.
    *   **–†–µ—à–µ–Ω–∏–µ**: –°–ø—Ä–∞—à–∏–≤–∞–π—Ç–µ —Å–µ–±—è: "–ë—É–¥–µ—Ç –ª–∏ —ç—Ç–∞ –ª–æ–≥–∏–∫–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –≤ –¥–≤—É—Ö –∏–ª–∏ –±–æ–ª–µ–µ *—Ä–∞–∑–Ω—ã—Ö* –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö? –ù—É–∂–µ–Ω –ª–∏ –º–Ω–µ –¥–æ—Å—Ç—É–ø –∫ —Å–æ—Å—Ç–æ—è–Ω–∏—é React Hooks (useState, useEffect –∏ —Ç.–¥.)?" –ï—Å–ª–∏ –Ω–µ—Ç, –≤–æ–∑–º–æ–∂–Ω–æ, —ç—Ç–æ –ø—Ä–æ—Å—Ç–æ –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è.

### üí° –°–æ–≤–µ—Ç

–°—Ç—Ä–µ–º–∏—Ç–µ—Å—å –∫ –ø—Ä–∏–Ω—Ü–∏–ø—É –µ–¥–∏–Ω–æ–π –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ (Single Responsibility Principle) –¥–ª—è –≤–∞—à–∏—Ö Custom Hooks. –ö–∞–∂–¥—ã–π Hook –¥–æ–ª–∂–µ–Ω —Ä–µ—à–∞—Ç—å –æ–¥–Ω—É –∫–æ–Ω–∫—Ä–µ—Ç–Ω—É—é –∑–∞–¥–∞—á—É. –≠—Ç–æ –¥–µ–ª–∞–µ—Ç –∏—Ö –±–æ–ª–µ–µ –ø–æ–Ω—è—Ç–Ω—ã–º–∏, —Ç–µ—Å—Ç–∏—Ä—É–µ–º—ã–º–∏ –∏ –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–º–∏. –•–æ—Ä–æ—à–æ —Å–ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π Custom Hook ‚Äî —ç—Ç–æ –∫–∞–∫ –Ω–µ–±–æ–ª—å—à–∞—è, –Ω–æ –æ—á–µ–Ω—å —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–∞—è —É—Ç–∏–ª–∏—Ç–∞ –≤ –≤–∞—à–µ–º –Ω–∞–±–æ—Ä–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤, –∫–æ—Ç–æ—Ä–∞—è –¥–µ–ª–∞–µ—Ç —Ä–∞–±–æ—Ç—É –Ω–∞–º–Ω–æ–≥–æ –ø—Ä–∏—è—Ç–Ω–µ–µ –∏ –Ω–∞–¥–µ–∂–Ω–µ–µ.

### üéØ –ü—Ä–∞–∫—Ç–∏–∫–∞

–í—Ä–µ–º—è –∑–∞–∫—Ä–µ–ø–∏—Ç—å –∑–Ω–∞–Ω–∏—è! –°–æ–∑–¥–∞–π—Ç–µ —Å–ª–µ–¥—É—é—â–∏–µ Custom Hooks:

#### –ó–∞–¥–∞–Ω–∏–µ 1: `usePrevious`

–°–æ–∑–¥–∞–π—Ç–µ –¥–∂–µ–Ω–µ—Ä–∏–∫-—Ö—É–∫ `usePrevious`, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å –ø—Ä–µ–¥—ã–¥—É—â–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –ø–µ—Ä–µ–¥–∞–Ω–Ω–æ–π –µ–º—É –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π.

```typescript
// usePrevious.ts
import { useRef, useEffect } from 'react';

// –ü—Ä–∏–Ω–∏–º–∞–µ—Ç —Ç–µ–∫—É—â–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ (value)
// –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø—Ä–µ–¥—ã–¥—É—â–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ value
function usePrevious<T>(value: T): T | undefined {
  // –í–∞—à –∫–æ–¥ –∑–¥–µ—Å—å
  return undefined; // –ó–∞–≥–ª—É—à–∫–∞
}

// –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:
/*
function MyCounter() {
  const [count, setCount] = useState(0);
  const prevCount = usePrevious(count);

  return (
    <div>
      <p>–¢–µ–∫—É—â–∏–π —Å—á–µ—Ç: {count}</p>
      <p>–ü—Ä–µ–¥—ã–¥—É—â–∏–π —Å—á–µ—Ç: {prevCount}</p>
      <button onClick={() => setCount(c => c + 1)}>–£–≤–µ–ª–∏—á–∏—Ç—å</button>
    </div>
  );
}
*/
```

#### –ó–∞–¥–∞–Ω–∏–µ 2: `useMediaQuery`

–°–æ–∑–¥–∞–π—Ç–µ —Ö—É–∫ `useMediaQuery`, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –º–µ–¥–∏–∞-–∑–∞–ø—Ä–æ—Å—É (–Ω–∞–ø—Ä–∏–º–µ—Ä, `(min-width: 768px)`) –∏ –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å –±—É–ª–µ–≤–æ –∑–Ω–∞—á–µ–Ω–∏–µ.

```typescript
// useMediaQuery.ts
import { useState, useEffect } from 'react';

// –ü—Ä–∏–Ω–∏–º–∞–µ—Ç —Å—Ç—Ä–æ–∫—É –º–µ–¥–∏–∞-–∑–∞–ø—Ä–æ—Å–∞ (mediaQueryString)
// –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç true, –µ—Å–ª–∏ –º–µ–¥–∏–∞-–∑–∞–ø—Ä–æ—Å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç, –∏–Ω–∞—á–µ false
function useMediaQuery(mediaQueryString: string): boolean {
  // –í–∞—à –∫–æ–¥ –∑–¥–µ—Å—å
  return false; // –ó–∞–≥–ª—É—à–∫–∞
}

// –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:
/*
function ResponsiveComponent() {
  const isDesktop = useMediaQuery('(min-width: 1024px)');
  const isTablet = useMediaQuery('(min-width: 768px) and (max-width: 1023px)');

  return (
    <div>
      {isDesktop && <p>–í—ã –Ω–∞ –¥–µ—Å–∫—Ç–æ–ø–µ!</p>}
      {isTablet && <p>–í—ã –Ω–∞ –ø–ª–∞–Ω—à–µ—Ç–µ!</p>}
      {!isDesktop && !isTablet && <p>–í—ã –Ω–∞ –º–æ–±–∏–ª—å–Ω–æ–º!</p>}
    </div>
  );
}
*/
```

#### –ó–∞–¥–∞–Ω–∏–µ 3: `useClickOutside`

–°–æ–∑–¥–∞–π—Ç–µ —Ö—É–∫ `useClickOutside`, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å –∫–æ–ª–±—ç–∫-—Ñ—É–Ω–∫—Ü–∏—é, –∫–æ–≥–¥–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∫–ª–∏–∫–Ω–µ—Ç *–≤–Ω–µ* —É–∫–∞–∑–∞–Ω–Ω–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞. –ü–æ–ª–µ–∑–Ω–æ –¥–ª—è –∑–∞–∫—Ä—ã—Ç–∏—è –º–æ–¥–∞–ª—å–Ω—ã—Ö –æ–∫–æ–Ω, –¥—Ä–æ–ø–¥–∞—É–Ω–æ–≤ –∏ —Ç.–¥.

```typescript
// useClickOutside.ts
import { useEffect, RefObject } from 'react';

// –ü—Ä–∏–Ω–∏–º–∞–µ—Ç —Å—Å—ã–ª–∫—É –Ω–∞ DOM-—ç–ª–µ–º–µ–Ω—Ç (ref) –∏ —Ñ—É–Ω–∫—Ü–∏—é-–∫–æ–ª–±—ç–∫ (handler)
// –í—ã–ø–æ–ª–Ω—è–µ—Ç handler, –µ—Å–ª–∏ –∫–ª–∏–∫ –ø—Ä–æ–∏–∑–æ—à–µ–ª –≤–Ω–µ —ç–ª–µ–º–µ–Ω—Ç–∞
function useClickOutside<T extends HTMLElement = HTMLElement>(
  ref: RefObject<T>,
  handler: (event: MouseEvent) => void
): void {
  // –í–∞—à –∫–æ–¥ –∑–¥–µ—Å—å
}

// –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:
/*
function Dropdown() {
  const [isOpen, setIsOpen] = useState(false);
  const dropdownRef = useRef<HTMLDivElement>(null);

  useClickOutside(dropdownRef, () => {
    if (isOpen) {
      console.log('–ö–ª–∏–∫ –≤–Ω–µ –¥—Ä–æ–ø–¥–∞—É–Ω–∞, –∑–∞–∫—Ä—ã–≤–∞–µ–º.');
      setIsOpen(false);
    }
  });

  return (
    <div ref={dropdownRef} style={{ border: '1px solid black', padding: '10px' }}>
      <button onClick={() => setIsOpen(!isOpen)}>
        {isOpen ? '–ó–∞–∫—Ä—ã—Ç—å' : '–û—Ç–∫—Ä—ã—Ç—å'} –¥—Ä–æ–ø–¥–∞—É–Ω
      </button>
      {isOpen && (
        <div style={{ background: 'lightgray', padding: '10px', marginTop: '10px' }}>
          –°–æ–¥–µ—Ä–∂–∏–º–æ–µ –¥—Ä–æ–ø–¥–∞—É–Ω–∞
        </div>
      )}
    </div>
  );
}
*/
```

#### –ó–∞–¥–∞–Ω–∏–µ 4: `useForm`

–°–æ–∑–¥–∞–π—Ç–µ –¥–∂–µ–Ω–µ—Ä–∏–∫-—Ö—É–∫ `useForm`, –∫–æ—Ç–æ—Ä—ã–π —É–ø—Ä–æ—â–∞–µ—Ç —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º —Ñ–æ—Ä–º—ã –∏ –µ–µ –ø–æ–ª–µ–π. –û–Ω –¥–æ–ª–∂–µ–Ω –ø—Ä–∏–Ω–∏–º–∞—Ç—å –Ω–∞—á–∞–ª—å–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –ø–æ–ª–µ–π —Ñ–æ—Ä–º—ã.

```typescript
// useForm.ts
import { useState, useCallback, ChangeEvent } from 'react';

interface UseFormReturn<T extends Record<string, any>> {
  values: T;
  handleChange: (event: ChangeEvent<HTMLInputElement | HTMLTextAreaElement>) => void;
  resetForm: () => void;
  setValues: React.Dispatch<React.SetStateAction<T>>;
}

// –ü—Ä–∏–Ω–∏–º–∞–µ—Ç –æ–±—ä–µ–∫—Ç —Å –Ω–∞—á–∞–ª—å–Ω—ã–º–∏ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏ –ø–æ–ª–µ–π —Ñ–æ—Ä–º—ã (initialValues)
// –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ç–µ–∫—É—â–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è, –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –∏–∑–º–µ–Ω–µ–Ω–∏–π –∏ —Ñ—É–Ω–∫—Ü–∏—é —Å–±—Ä–æ—Å–∞
function useForm<T extends Record<string, any>>(initialValues: T): UseFormReturn<T> {
  // –í–∞—à –∫–æ–¥ –∑–¥–µ—Å—å
  return {
    values: initialValues,
    handleChange: () => {},
    resetForm: () => {},
    setValues: () => {},
  }; // –ó–∞–≥–ª—É—à–∫–∞
}

// –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:
/*
interface FormData {
  username: string;
  email: string;
  age: number;
}

function MyForm() {
  const { values, handleChange, resetForm } = useForm<FormData>({
    username: '',
    email: '',
    age: 0,
  });

  const handleSubmit = (event: React.FormEvent) => {
    event.preventDefault();
    console.log('–û—Ç–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ:', values);
    alert(`–û—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ: ${JSON.stringify(values)}`);
    resetForm();
  };

  return (
    <form onSubmit={handleSubmit}>
      <label>
        –ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:
        <input
          type="text"
          name="username"
          value={values.username}
          onChange={handleChange}
        />
      </label>
      <br />
      <label>
        Email:
        <input
          type="email"
          name="email"
          value={values.email}
          onChange={handleChange}
        />
      </label>
      <br />
      <label>
        –í–æ–∑—Ä–∞—Å—Ç:
        <input
          type="number"
          name="age"
          value={values.age}
          onChange={handleChange}
        />
      </label>
      <br />
      <button type="submit">–û—Ç–ø—Ä–∞–≤–∏—Ç—å</button>
      <button type="button" onClick={resetForm}>–°–±—Ä–æ—Å–∏—Ç—å</button>
      <p>–¢–µ–∫—É—â–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è: {JSON.stringify(values)}</p>
    </form>
  );
}
*/
```

–£–¥–∞—á–∏ –≤ –∫–æ–¥–∏–Ω–≥–µ, –Ø—à–∞ –≤–µ—Ä–∏—Ç –≤ –≤–∞—Å!