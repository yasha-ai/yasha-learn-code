## TypeScript: –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è –ó–∞–≥—Ä—É–∑–∫–∞ –ö–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ —Å React.lazy –∏ Suspense

–ü—Ä–∏–≤–µ—Ç, –∫–æ–¥–µ—Ä—ã! –°–µ–≥–æ–¥–Ω—è –º—ã –ø–æ–≥—Ä—É–∑–∏–º—Å—è –≤ –æ–¥–Ω—É –∏–∑ —Å–∞–º—ã—Ö –∫—Ä—É—Ç—ã—Ö –∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω—ã—Ö —Ñ–∏—á React ‚Äì –¥–∏–Ω–∞–º–∏—á–µ—Å–∫—É—é –∑–∞–≥—Ä—É–∑–∫—É –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ —Å –ø–æ–º–æ—â—å—é `React.lazy` –∏ `Suspense`. –ü—Ä–µ–¥—Å—Ç–∞–≤—å—Ç–µ, —á—Ç–æ —É –≤–∞—Å –µ—Å—Ç—å –æ–≥—Ä–æ–º–Ω—ã–π –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–º–∞–≥–∞–∑–∏–Ω, –∏ –∑–∞—á–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é —Å—Ä–∞–∑—É –∑–∞–≥—Ä—É–∂–∞—Ç—å –≤—Å–µ —Ç—ã—Å—è—á–∏ —Ç–æ–≤–∞—Ä–æ–≤, –µ—Å–ª–∏ –æ–Ω —Å–º–æ—Ç—Ä–∏—Ç —Ç–æ–ª—å–∫–æ –Ω–∞ –æ–¥–Ω—É –∫–∞—Ç–µ–≥–æ—Ä–∏—é? –ò–ª–∏ –∑–∞—á–µ–º –≥—Ä—É–∑–∏—Ç—å –≤–µ—Å—å "–∞–¥–º–∏–Ω—Å–∫–∏–π –∫–∞–±–∏–Ω–µ—Ç" —Å–æ –≤—Å–µ–º–∏ –µ–≥–æ –≥—Ä–∞—Ñ–∏–∫–∞–º–∏ –∏ —Ç–∞–±–ª–∏—Ü–∞–º–∏, –µ—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–æ–æ–±—â–µ –Ω–µ –∑–∞—Ö–æ–¥–∏–ª –≤ –Ω–µ–≥–æ? –í–æ—Ç —Ç—É—Ç-—Ç–æ –∏ –ø—Ä–∏—Ö–æ–¥—è—Ç –Ω–∞ –ø–æ–º–æ—â—å –Ω–∞—à–∏ –≥–µ—Ä–æ–∏!

–≠—Ç–æ –∫–∞–∫ –≤—ã–∑–æ–≤ –∫—É—Ä—å–µ—Ä–∞: –≤—ã –Ω–µ –¥–µ—Ä–∂–∏—Ç–µ –≤–µ—Å—å —Å–∫–ª–∞–¥ —É —Å–µ–±—è –¥–æ–º–∞, –∞ –≤—ã–∑—ã–≤–∞–µ—Ç–µ –∫—É—Ä—å–µ—Ä–∞ (–±—Ä–∞—É–∑–µ—Ä) —Ç–æ–ª—å–∫–æ –∑–∞ —Ç–µ–º —Ç–æ–≤–∞—Ä–æ–º (–∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–º), –∫–æ—Ç–æ—Ä—ã–π –≤–∞–º –Ω—É–∂–µ–Ω –ø—Ä—è–º–æ —Å–µ–π—á–∞—Å. –í—Å–µ –æ—Å—Ç–∞–ª—å–Ω–æ–µ –æ—Å—Ç–∞–µ—Ç—Å—è –Ω–∞ —Å–∫–ª–∞–¥–µ (–≤ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö JS-—Ñ–∞–π–ª–∞—Ö), –ø–æ–∫–∞ –Ω–µ –ø—Ä–∏–¥–µ—Ç –µ–≥–æ –æ—á–µ—Ä–µ–¥—å. –≠—Ç–æ –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è **[Code Splitting](/react/code-splitting)** (—Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –∫–æ–¥–∞), –∏ —ç—Ç–æ –º–æ—â–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –≤–∞—à–µ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.

### [Code Splitting](/react/code-splitting) Flow

```mermaid
flowchart TD
    App[Main App Bundle] -->|User Interaction| Trigger[Load Event]
    Trigger -->|import| Network[Network: Fetch Chunk]
    Network -->|Wait| Suspense[Suspense: show fallback]
    Network -->|Ready| Component[Lazy Component: replace fallback]
    
    subgraph Bundler_Logic [Build Time]
    Original[Original Code] -->|React.lazy| Chunk1[Chunk A.js]
    Original -->|React.lazy| Chunk2[Chunk B.js]
    end

    style Suspense fill:#fff4dd,stroke:#d4a017
    style Component fill:#ccffcc,stroke:#333
    style Network fill:#e1f5fe,stroke:#01579b
```
*–ü—Ä–æ—Ü–µ—Å—Å —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –Ω–∞ —á–∞—Å—Ç–∏ –∏ –∏—Ö –∑–∞–≥—Ä—É–∑–∫–∞ –ø–æ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—é.*

### –ß—Ç–æ —Ç–∞–∫–æ–µ React.lazy –∏ Suspense?

**`React.lazy`** –ø–æ–∑–≤–æ–ª—è–µ—Ç –≤–∞–º –æ—Ç—Ä–∏—Å–æ–≤—ã–≤–∞—Ç—å –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –∏–º–ø–æ—Ä—Ç–∏—Ä—É–µ–º—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç —Ç–∞–∫, –∫–∞–∫ –±—É–¥—Ç–æ –æ–Ω –±—ã–ª –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω –æ–±—ã—á–Ω—ã–º —Å–ø–æ—Å–æ–±–æ–º. –û–Ω –ø—Ä–∏–Ω–∏–º–∞–µ—Ç —Ñ—É–Ω–∫—Ü–∏—é, –∫–æ—Ç–æ—Ä–∞—è –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `Promise`, —Ä–∞–∑—Ä–µ—à–∞—é—â–∏–π—Å—è –≤ –º–æ–¥—É–ª—å —Å `default` —ç–∫—Å–ø–æ—Ä—Ç–æ–º React-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞. –ü–æ–∫–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è, React –±—É–¥–µ—Ç "–∂–¥–∞—Ç—å".

**`Suspense`** ‚Äî —ç—Ç–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∑–≤–æ–ª—è–µ—Ç –≤–∞–º –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å –∑–∞–ø–∞—Å–Ω–æ–π (fallback) UI –≤–æ –≤—Ä–µ–º—è –æ–∂–∏–¥–∞–Ω–∏—è –∑–∞–≥—Ä—É–∑–∫–∏ –¥—Ä—É–≥–∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ "–ª–µ–Ω–∏–≤–æ" –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è. –û–Ω –Ω–µ–æ–±—Ö–æ–¥–∏–º –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Å `React.lazy`. –ë–µ–∑ –Ω–µ–≥–æ, –µ—Å–ª–∏ `lazy`-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç –Ω–µ –∑–∞–≥—Ä—É–∂–µ–Ω, –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —É–ø–∞–¥–µ—Ç.

### üöÄ –û—Å–Ω–æ–≤–Ω–∞—è –¢–µ–æ—Ä–∏—è —Å –ü—Ä–∏–º–µ—Ä–∞–º–∏

–î–∞–≤–∞–π—Ç–µ –Ω–∞—á–Ω–µ–º —Å –ø—Ä–æ—Å—Ç–µ–π—à–µ–≥–æ —Å—Ü–µ–Ω–∞—Ä–∏—è.

```typescript
// components/LazyLoadedComponent.tsx
import React from 'react';

interface LazyLoadedComponentProps {
  message: string;
}

const LazyLoadedComponent: React.FC<LazyLoadedComponentProps> = ({ message }) => {
  return (
    <div style={{ padding: '20px', border: '1px solid blue', margin: '10px' }}>
      <h3>–ü—Ä–∏–≤–µ—Ç –∏–∑ –ª–µ–Ω–∏–≤–æ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω–æ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞!</h3>
      <p>{message}</p>
      <p>–Ø –∑–∞–≥—Ä—É–∑–∏–ª—Å—è —Ç–æ–ª—å–∫–æ —Ç–æ–≥–¥–∞, –∫–æ–≥–¥–∞ —ç—Ç–æ —Å—Ç–∞–ª–æ –Ω—É–∂–Ω–æ.</p>
    </div>
  );
};

export default LazyLoadedComponent;
```

–¢–µ–ø–µ—Ä—å, –∫–∞–∫ –º—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º –µ–≥–æ –≤ –æ—Å–Ω–æ–≤–Ω–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏:

```typescript
// App.tsx
import React, { useState, Suspense } from 'react';

// –õ–µ–Ω–∏–≤–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞
const LazyComponent = React.lazy(() => import('./components/LazyLoadedComponent'));

function App() {
  const [showLazy, setShowLazy] = useState(false);

  return (
    <div>
      <h2>–ü—Ä–∏–º–µ—Ä React.lazy –∏ Suspense</h2>
      <button onClick={() => setShowLazy(true)}>
        –ü–æ–∫–∞–∑–∞—Ç—å –ª–µ–Ω–∏–≤—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
      </button>

      {showLazy && (
        // Suspense –æ–±–µ—Ä—Ç–∫–∞ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–∞ –¥–ª—è –ª–µ–Ω–∏–≤–æ –∑–∞–≥—Ä—É–∂–∞–µ–º—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
        <Suspense fallback={<div>–ó–∞–≥—Ä—É–∑–∫–∞ –ª–µ–Ω–∏–≤–æ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞...</div>}>
          <LazyComponent message="–≠—Ç–æ –ø—Ä–æ–ø—Å –¥–ª—è –ª–µ–Ω–∏–≤–æ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞!" />
        </Suspense>
      )}
    </div>
  );
}

export default App;
```

**–†–∞–∑–±–µ—Ä–µ–º, —á—Ç–æ –∑–¥–µ—Å—å –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:**
1. `React.lazy(() => import('./components/LazyLoadedComponent'))` —Å–æ–æ–±—â–∞–µ—Ç React, —á—Ç–æ `LazyComponent` –±—É–¥–µ—Ç –∑–∞–≥—Ä—É–∂–µ–Ω –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏. `import()` - —ç—Ç–æ —Ñ—É–Ω–∫—Ü–∏—è ECMAScript, –∫–æ—Ç–æ—Ä–∞—è –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç Promise. Webpack (–∏–ª–∏ –¥—Ä—É–≥–æ–π –±–∞–Ω–¥–ª–µ—Ä) –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞—Å—Ç –æ—Ç–¥–µ–ª—å–Ω—ã–π —á–∞–Ω–∫ –¥–ª—è —ç—Ç–æ–≥–æ –º–æ–¥—É–ª—è.
2. `<Suspense fallback={...}>` –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç UI, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è, –ø–æ–∫–∞ `LazyComponent` –Ω–µ –±—É–¥–µ—Ç –≥–æ—Ç–æ–≤.
3. –ö–æ–≥–¥–∞ `showLazy` —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è `true`, React –ø—ã—Ç–∞–µ—Ç—Å—è –æ—Ç—Ä–µ–Ω–¥–µ—Ä–∏—Ç—å `LazyComponent`. –ï—Å–ª–∏ –æ–Ω –µ—â–µ –Ω–µ –∑–∞–≥—Ä—É–∂–µ–Ω, `Suspense` –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç `fallback`. –ö–∞–∫ —Ç–æ–ª—å–∫–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –∑–∞–≥—Ä—É–∂–µ–Ω, –æ–Ω –∑–∞–º–µ–Ω—è–µ—Ç `fallback` —Å–≤–æ–∏–º —Å–æ–¥–µ—Ä–∂–∏–º—ã–º.

### üåü –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ –ü—Ä–∏–º–µ—Ä—ã

#### 1. –õ–µ–Ω–∏–≤–∞—è –ó–∞–≥—Ä—É–∑–∫–∞ –ò–º–µ–Ω–æ–≤–∞–Ω–Ω—ã—Ö –≠–∫—Å–ø–æ—Ä—Ç–æ–≤

`React.lazy` –æ–∂–∏–¥–∞–µ—Ç, —á—Ç–æ –º–æ–¥—É–ª—å, –∫–æ—Ç–æ—Ä—ã–π –æ–Ω –∑–∞–≥—Ä—É–∂–∞–µ—Ç, –±—É–¥–µ—Ç –∏–º–µ—Ç—å `default` —ç–∫—Å–ø–æ—Ä—Ç. –ß—Ç–æ –¥–µ–ª–∞—Ç—å, –µ—Å–ª–∏ —É –≤–∞—Å –∏–º–µ–Ω–æ–≤–∞–Ω–Ω—ã–π —ç–∫—Å–ø–æ—Ä—Ç?

```typescript
// components/NamedExportsModule.tsx
import React from 'react';

export interface WelcomeMessageProps {
  userName: string;
}

export const WelcomeMessage: React.FC<WelcomeMessageProps> = ({ userName }) => {
  return (
    <div style={{ background: '#e0ffe0', padding: '15px', margin: '10px' }}>
      <h4>–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å, {userName}! (–ò–∑ –∏–º–µ–Ω–æ–≤–∞–Ω–Ω–æ–≥–æ —ç–∫—Å–ø–æ—Ä—Ç–∞)</h4>
    </div>
  );
};

export const AdminPanelLink: React.FC = () => {
  return (
    <a href="/admin" style={{ display: 'block', margin: '10px', color: 'green' }}>
      –ü–µ—Ä–µ–π—Ç–∏ –≤ –ø–∞–Ω–µ–ª—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
    </a>
  );
};
```

–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ `App.tsx`:

```typescript
// App.tsx (–ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ)
import React, { useState, Suspense } from 'react';

// ... (–ø—Ä–µ–¥—ã–¥—É—â–∏–π –∫–æ–¥ App.tsx)

// –õ–µ–Ω–∏–≤–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –∏–º–µ–Ω–æ–≤–∞–Ω–Ω–æ–≥–æ —ç–∫—Å–ø–æ—Ä—Ç–∞
// –ú—ã –¥–æ–ª–∂–Ω—ã –æ–±–µ—Ä–Ω—É—Ç—å –µ–≥–æ —Ç–∞–∫, —á—Ç–æ–±—ã –æ–Ω –±—ã–ª default —ç–∫—Å–ø–æ—Ä—Ç–æ–º –¥–ª—è React.lazy
const LazyWelcomeMessage = React.lazy(() => 
  import('./components/NamedExportsModule').then(module => ({ default: module.WelcomeMessage }))
);

const LazyAdminPanelLink = React.lazy(() =>
  import('./components/NamedExportsModule').then(module => ({ default: module.AdminPanelLink }))
);


function App() {
  const [showLazy, setShowLazy] = useState(false);
  const [showNamed, setShowNamed] = useState(false);

  return (
    <div>
      {/* ... (–ø—Ä–µ–¥—ã–¥—É—â–∏–π –∫–æ–¥) */}

      <button onClick={() => setShowNamed(true)}>
        –ü–æ–∫–∞–∑–∞—Ç—å –∏–º–µ–Ω–æ–≤–∞–Ω–Ω—ã–µ –ª–µ–Ω–∏–≤—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
      </button>

      {showNamed && (
        <Suspense fallback={<div>–ó–∞–≥—Ä—É–∑–∫–∞ –∏–º–µ–Ω–æ–≤–∞–Ω–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤...</div>}>
          <LazyWelcomeMessage userName="–Ø—à–∞" />
          <LazyAdminPanelLink />
        </Suspense>
      )}
    </div>
  );
}
```
**–í–∞–∂–Ω—ã–π –º–æ–º–µ–Ω—Ç:** –æ–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ –Ω–∞ `.then(module => ({ default: module.WelcomeMessage }))`. –≠—Ç–æ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç, —á—Ç–æ `React.lazy` –ø–æ–ª—É—á–∏—Ç –æ–±—ä–µ–∫—Ç —Å –∫–ª—é—á–æ–º `default`, —É–∫–∞–∑—ã–≤–∞—é—â–∏–º –Ω–∞ –Ω–∞—à –∏–º–µ–Ω–æ–≤–∞–Ω–Ω—ã–π —ç–∫—Å–ø–æ—Ä—Ç.

#### 2. –ö–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Å [Error Boundaries](/react/error-boundaries)

–ß—Ç–æ, –µ—Å–ª–∏ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ –ø—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Å–µ—Ç–µ–≤–∞—è –ø—Ä–æ–±–ª–µ–º–∞)? `Suspense` –Ω–µ –ø–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç –æ—à–∏–±–∫–∏ –∑–∞–≥—Ä—É–∑–∫–∏! –î–ª—è —ç—Ç–æ–≥–æ –Ω–∞–º –Ω—É–∂–Ω—ã [Error Boundaries](/react/error-boundaries).

```typescript
// components/ErrorBoundary.tsx
import React, { Component, ReactNode } from 'react';

interface ErrorBoundaryProps {
  children: ReactNode;
  fallback: ReactNode;
}

interface ErrorBoundaryState {
  hasError: boolean;
  error: Error | null;
}

class ErrorBoundary extends Component<ErrorBoundaryProps, ErrorBoundaryState> {
  constructor(props: ErrorBoundaryProps) {
    super(props);
    this.state = { hasError: false, error: null };
  }

  // –ú–µ—Ç–æ–¥ –∂–∏–∑–Ω–µ–Ω–Ω–æ–≥–æ —Ü–∏–∫–ª–∞ –¥–ª—è –ø–µ—Ä–µ—Ö–≤–∞—Ç–∞ –æ—à–∏–±–æ–∫
  static getDerivedStateFromError(error: Error): ErrorBoundaryState {
    return { hasError: true, error };
  }

  // –ú–µ—Ç–æ–¥ –¥–ª—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –æ—à–∏–±–æ–∫
  componentDidCatch(error: Error, errorInfo: React.ErrorInfo) {
    console.error("ErrorBoundary caught an error:", error, errorInfo);
  }

  render() {
    if (this.state.hasError) {
      // –ú–æ–∂–Ω–æ –æ—Ç–æ–±—Ä–∞–∑–∏—Ç—å –∫–∞—Å—Ç–æ–º–Ω—ã–π UI –ø—Ä–∏ –æ—à–∏–±–∫–µ
      return (
        <div style={{ border: '2px solid red', padding: '20px', margin: '10px' }}>
          <h4>–£–ø—Å! –ß—Ç–æ-—Ç–æ –ø–æ—à–ª–æ –Ω–µ —Ç–∞–∫ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ.</h4>
          {this.props.fallback}
          {this.state.error && <p>–î–µ—Ç–∞–ª–∏: {this.state.error.message}</p>}
        </div>
      );
    }
    return this.props.children;
  }
}

export default ErrorBoundary;
```

–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ `App.tsx`:

```typescript
// App.tsx (–ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ)
import React, { useState, Suspense } from 'react';
import ErrorBoundary from './components/ErrorBoundary'; // –ò–º–ø–æ—Ä—Ç–∏—Ä—É–µ–º ErrorBoundary

// ... (–ø—Ä–µ–¥—ã–¥—É—â–∏–π –∫–æ–¥)

// –°–æ–∑–¥–∞–¥–∏–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç, –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–µ—Ç —Å–∏–º—É–ª–∏—Ä–æ–≤–∞—Ç—å –æ—à–∏–±–∫—É –∑–∞–≥—Ä—É–∑–∫–∏
// –î–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏, –æ–±—ã—á–Ω–æ —Ç–∞–∫–∏–µ –æ—à–∏–±–∫–∏ –≤–æ–∑–Ω–∏–∫–∞—é—Ç –ø—Ä–∏ —Ä–µ–∞–ª—å–Ω–æ–π –∑–∞–≥—Ä—É–∑–∫–µ
const PotentiallyFailingLazyComponent = React.lazy(() =>
  new Promise<any>((resolve, reject) => {
    // –ò–º–∏—Ç–∏—Ä—É–µ–º –∑–∞–¥–µ—Ä–∂–∫—É –∏ –≤–æ–∑–º–æ–∂–Ω—É—é –æ—à–∏–±–∫—É
    setTimeout(() => {
      if (Math.random() > 0.7) { // 30% —à–∞–Ω—Å –Ω–∞ –æ—à–∏–±–∫—É
        reject(new Error('–ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å –≤–∞–∂–Ω—ã–π –º–æ–¥—É–ª—å!'));
      } else {
        resolve({
          default: () => (
            <div style={{ background: '#fff0e0', padding: '15px', margin: '10px' }}>
              <p>–Ø –∑–∞–≥—Ä—É–∑–∏–ª—Å—è —É—Å–ø–µ—à–Ω–æ, –Ω–µ—Å–º–æ—Ç—Ä—è –Ω–∞ —Ä–∏—Å–∫–∏!</p>
            </div>
          ),
        });
      }
    }, 1500);
  })
);

function App() {
  // ... (–ø—Ä–µ–¥—ã–¥—É—â–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è)
  const [showFailing, setShowFailing] = useState(false);

  return (
    <div>
      {/* ... (–ø—Ä–µ–¥—ã–¥—É—â–∏–π –∫–æ–¥) */}

      <button onClick={() => setShowFailing(true)}>
        –ü–æ–∫–∞–∑–∞—Ç—å –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–æ –æ—à–∏–±–æ—á–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
      </button>

      {showFailing && (
        <ErrorBoundary fallback={<div>–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É.</div>}>
          <Suspense fallback={<div>–ü—ã—Ç–∞–µ–º—Å—è –∑–∞–≥—Ä—É–∑–∏—Ç—å —Ä–∏—Å–∫–æ–≤–∞–Ω–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç...</div>}>
            <PotentiallyFailingLazyComponent />
          </Suspense>
        </ErrorBoundary>
      )}
    </div>
  );
}
```
**–í—ã–≤–æ–¥:** `ErrorBoundary` –æ–±–µ—Ä—Ç—ã–≤–∞–µ—Ç `Suspense` –∏ –ª–æ–≤–∏—Ç –æ—à–∏–±–∫–∏, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥—É—Ç –ø—Ä–æ–∏–∑–æ–π—Ç–∏ –≤–æ –≤—Ä–µ–º—è *–∑–∞–≥—Ä—É–∑–∫–∏* –ª–µ–Ω–∏–≤–æ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞, –≤ —Ç–æ –≤—Ä–µ–º—è –∫–∞–∫ `Suspense` –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ *–æ–∂–∏–¥–∞–Ω–∏—è* –∑–∞–≥—Ä—É–∑–∫–∏.

### üêõ –¢–∏–ø–∏—á–Ω—ã–µ –û—à–∏–±–∫–∏ –∏ –ò—Ö –†–µ—à–µ–Ω–∏—è

1.  **"A component suspended while rendering, but no fallback UI was specified."**: –í—ã –∑–∞–±—ã–ª–∏ –æ–±–µ—Ä–Ω—É—Ç—å `React.lazy` –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –≤ `<Suspense>`.
    *   **–†–µ—à–µ–Ω–∏–µ:** –í—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `<Suspense fallback={...}>` –¥–ª—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤, –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã—Ö —á–µ—Ä–µ–∑ `React.lazy`.
2.  **`React.lazy` –æ–∂–∏–¥–∞–µ—Ç `default` —ç–∫—Å–ø–æ—Ä—Ç, –Ω–æ –≤—ã –ø—ã—Ç–∞–µ—Ç–µ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å –∏–º–µ–Ω–æ–≤–∞–Ω–Ω—ã–π**: `React.lazy(() => import('./MyModule'))` –±–µ–∑ `.then(...)` –¥–ª—è –∏–º–µ–Ω–æ–≤–∞–Ω–Ω–æ–≥–æ —ç–∫—Å–ø–æ—Ä—Ç–∞.
    *   **–†–µ—à–µ–Ω–∏–µ:** –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `.then(module => ({ default: module.MyNamedExport }))`, –∫–∞–∫ –ø–æ–∫–∞–∑–∞–Ω–æ –≤ –ø—Ä–∏–º–µ—Ä–µ –≤—ã—à–µ.
3.  **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `React.lazy` –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ (SSR)**: `React.lazy` –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω –¥–ª—è –∫–ª–∏–µ–Ω—Ç—Å–∫–æ–π –∑–∞–≥—Ä—É–∑–∫–∏. –í SSR –æ–∫—Ä—É–∂–µ–Ω–∏—è—Ö –æ–Ω –Ω–µ –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å "–∏–∑ –∫–æ—Ä–æ–±–∫–∏" –∏ –º–æ–∂–µ—Ç –≤—ã–∑–≤–∞—Ç—å –æ—à–∏–±–∫–∏, –ø–æ—Å–∫–æ–ª—å–∫—É –±—Ä–∞—É–∑–µ—Ä –µ—â–µ –Ω–µ —É—Å–ø–µ–ª –∑–∞–≥—Ä—É–∑–∏—Ç—å JS-—á–∞–Ω–∫–∏.
    *   **–†–µ—à–µ–Ω–∏–µ:** –î–ª—è SSR-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏, —Ç–∞–∫–∏–µ –∫–∞–∫ `loadable-components` –∏–ª–∏ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–æ–≤ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `next/dynamic` –≤ Next.js), –∫–æ—Ç–æ—Ä—ã–µ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—é—Ç –∞–Ω–∞–ª–æ–≥–∏—á–Ω—É—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å, —Å–æ–≤–º–µ—Å—Ç–∏–º—É—é —Å SSR.

### ### üéØ –ü—Ä–∞–∫—Ç–∏–∫–∞

–í–∞—à–∞ –∑–∞–¥–∞—á–∞, –º–æ–π —é–Ω—ã–π –ø–∞–¥–∞–≤–∞–Ω, ‚Äì —É–∫—Ä–µ–ø–∏—Ç—å –∑–Ω–∞–Ω–∏—è –Ω–∞ –ø—Ä–∞–∫—Ç–∏–∫–µ.

1.  **–ú–æ–¥—É–ª—å —Å –≤–∫–ª–∞–¥–∫–∞–º–∏:** –°–æ–∑–¥–∞–π—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å —Ç—Ä–µ–º—è –∫–Ω–æ–ø–∫–∞–º–∏-–≤–∫–ª–∞–¥–∫–∞–º–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, "–û–±–æ –º–Ω–µ", "–ü–æ—Ä—Ç—Ñ–æ–ª–∏–æ", "–ö–æ–Ω—Ç–∞–∫—Ç—ã"). –ö–∞–∂–¥–∞—è –≤–∫–ª–∞–¥–∫–∞ –¥–æ–ª–∂–Ω–∞ –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å —Å–≤–æ–π, –ª–µ–Ω–∏–≤–æ –∑–∞–≥—Ä—É–∂–∞–µ–º—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç. –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –≤–∫–ª–∞–¥–æ–∫ –¥–æ–ª–∂–Ω–æ —Ç—Ä–∏–≥–≥–µ—Ä–∏—Ç—å –∑–∞–≥—Ä—É–∑–∫—É –Ω—É–∂–Ω–æ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞.
2.  **–õ–µ–Ω–∏–≤–∞—è –∫–∞—Ä—Ç–∏–Ω–∫–∞:** –°–æ–∑–¥–∞–π—Ç–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç `LazyImage`, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç –ª–µ–Ω–∏–≤–æ –∑–∞–≥—Ä—É–∂–∞—Ç—å –±–æ–ª—å—à—É—é –∫–∞—Ä—Ç–∏–Ω–∫—É. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `React.lazy` –¥–ª—è "–æ–±–µ—Ä—Ç–∫–∏" –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞, –∫–æ—Ç–æ—Ä—ã–π —Ä–∏—Å—É–µ—Ç `<img>`. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ `Suspense` –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –∑–∞–≥–ª—É—à–∫—É (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Å–µ—Ä—ã–π –ø—Ä—è–º–æ—É–≥–æ–ª—å–Ω–∏–∫ –∏–ª–∏ —Å–ø–∏–Ω–Ω–µ—Ä) –ø–æ–∫–∞ –∫–∞—Ä—Ç–∏–Ω–∫–∞ –Ω–µ –∑–∞–≥—Ä—É–∑–∏—Ç—Å—è.
3.  **–ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –ª–µ–Ω–∏–≤—ã—Ö –∏–º–µ–Ω–æ–≤–∞–Ω–Ω—ã—Ö —ç–∫—Å–ø–æ—Ä—Ç–æ–≤:** –ù–∞–ø–∏—à–∏—Ç–µ –Ω–µ–±–æ–ª—å—à—É—é –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é (–∏–ª–∏ [HOC](/react/hoc-pattern)), –∫–æ—Ç–æ—Ä–∞—è —É–ø—Ä–æ—Å—Ç–∏—Ç –ª–µ–Ω–∏–≤—É—é –∑–∞–≥—Ä—É–∑–∫—É –∏–º–µ–Ω–æ–≤–∞–Ω–Ω—ã—Ö —ç–∫—Å–ø–æ—Ä—Ç–æ–≤, —á—Ç–æ–±—ã –Ω–µ –ø–∏—Å–∞—Ç—å –∫–∞–∂–¥—ã–π —Ä–∞–∑ `.then(module => ({ default: module.MyNamedExport }))`. –í–∞—à–∞ —Ñ—É–Ω–∫—Ü–∏—è –¥–æ–ª–∂–Ω–∞ –ø—Ä–∏–Ω–∏–º–∞—Ç—å –ø—É—Ç—å –∫ –º–æ–¥—É–ª—é –∏ –∏–º—è —ç–∫—Å–ø–æ—Ä—Ç–∞, –≤–æ–∑–≤—Ä–∞—â–∞—è `React.LazyExoticComponent`.

### ### üí° –°–æ–≤–µ—Ç

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `React.lazy` –∏ `Suspense` –¥–ª—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ:
- –ù–µ –∫—Ä–∏—Ç–∏—á–Ω—ã –¥–ª—è –ø–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–æ–π –∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã.
- –ù–∞—Ö–æ–¥—è—Ç—Å—è "–Ω–∏–∂–µ —Å–≥–∏–±–∞" (–≤–Ω–µ –≤–∏–¥–∏–º–æ–π –æ–±–ª–∞—Å—Ç–∏ —ç–∫—Ä–∞–Ω–∞).
- –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã—Ö –¥–µ–π—Å—Ç–≤–∏—è—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, –æ—Ç–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞, –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –≤–∫–ª–∞–¥–æ–∫).
- –Ø–≤–ª—è—é—Ç—Å—è —á–∞—Å—Ç—å—é —Ä–µ–¥–∫–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º–æ–≥–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ø–∞–Ω–µ–ª—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞, –æ—Ç—á–µ—Ç—ã).

–ß—Ä–µ–∑–º–µ—Ä–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `lazy` –º–æ–∂–µ—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ —Å–ª–∏—à–∫–æ–º –±–æ–ª—å—à–æ–º—É –∫–æ–ª–∏—á–µ—Å—Ç–≤—É —Å–µ—Ç–µ–≤—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤. –í—Å–µ–≥–¥–∞ –∞–Ω–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ –ø—Ä–æ—Ñ–∏–ª—å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –≤–∞—à–µ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è!

---

## üîó –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏
- [Higher-Order Components (HOC)](/react/hoc-pattern)
- [Error Boundaries: –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –≤ React](/react/error-boundaries)
- [string` –∏ `children: React.ReactNode`.
3.  **–ü–ª–∞–≥–∏–Ω-—Å–∏—Å—Ç–µ–º–∞ —Å TypeScript**: –ü—Ä–µ–¥—Å—Ç–∞–≤—å—Ç–µ, —á—Ç–æ —É –≤–∞—Å –µ—Å—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ, –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—â–µ–µ –ø–ª–∞–≥–∏–Ω—ã. –°–æ–∑–¥–∞–π—Ç–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å `IPlugin` —Å –º–µ—Ç–æ–¥–æ–º `initialize()` –∏ —Å–≤–æ–π—Å—Ç–≤–æ–º `name: string`. –†–µ–∞–ª–∏–∑—É–π—Ç–µ –¥–≤–∞ —Ä–∞–∑–Ω—ã—Ö](/react/code-splitting)
