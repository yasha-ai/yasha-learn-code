# Зачем TypeScript? 

![Иллюстрация к уроку](/lessons/why-ts.png)

TypeScript = JavaScript + Типы

## Проблема JS

```javascript
function greet(name) {
  return "Привет, " + name.toUpperCase();
}

greet(42); // Runtime Error! 
```

## Решение TS

```typescript
function greet(name: string): string {
  return "Привет, " + name.toUpperCase();
}

greet(42); // Ошибка при компиляции! 
```

## Преимущества

- Ловит ошибки **до** запуска
- Автодополнение в IDE
- Документация в коде
- Рефакторинг без страха


## Интерактивный пример

<Sandpack
  template="vanilla-ts"
  files={{
    "/index.ts": `
// TypeScript помогает ловить ошибки на этапе разработки!

// Определяем интерфейс для пользователя
interface User {
  firstName: string;
  lastName: string;
  age: number;
}

// Функция для приветствия пользователя
function greetUser(user: User): string {
  return \`Привет, \${user.firstName} \${user.lastName}! Тебе \${user.age} лет.\`;
}

// Функция для отображения приветствия на странице
function displayGreeting(user: User) {
  const greetingElement = document.getElementById("greeting");
  if (greetingElement) {
    greetingElement.textContent = greetUser(user);
  }
}

// Функция для создания пользователя из данных формы
function createUserFromForm(): User | null {
  const firstNameInput = document.getElementById("firstName") as HTMLInputElement;
  const lastNameInput = document.getElementById("lastName") as HTMLInputElement;
  const ageInput = document.getElementById("age") as HTMLInputElement;

  const firstName = firstNameInput.value;
  const lastName = lastNameInput.value;
  const age = parseInt(ageInput.value);

  if (!firstName || !lastName || isNaN(age)) {
    alert("Пожалуйста, заполните все поля корректно.");
    return null;
  }

  return {
    firstName,
    lastName,
    age,
  };
}

// Обработчик для кнопки "Приветствовать"
document.getElementById("greetButton")?.addEventListener("click", () => {
  const user = createUserFromForm();
  if (user) {
    displayGreeting(user);
  }
});

// Пример ошибки, которую TypeScript может поймать:
// greetUser({ firstName: "John", lastName: "Doe", age: "30" }); // Ошибка: age должен быть number

// Начальное приветствие (можно убрать)
displayGreeting({ firstName: "Гость", lastName: "Неизвестный", age: 0 });
`,
    "/index.html": `
<!DOCTYPE html>
<html>
<head>
  <title>TypeScript Пример</title>
  <style>
    body {
      font-family: sans-serif;
      background-color: #222;
      color: #eee;
      padding: 20px;
    }
    input, button {
      margin: 5px;
      padding: 8px;
      border: 1px solid #555;
      background-color: #333;
      color: #eee;
    }
    button {
      cursor: pointer;
    }
    #greeting {
      margin-top: 20px;
      font-size: 1.2em;
    }
  </style>
</head>
<body>
  <h1>Приветствие с TypeScript</h1>

  <label for="firstName">Имя:</label>
  <input type="text" id="firstName" name="firstName" value="Иван"><br>

  <label for="lastName">Фамилия:</label>
  <input type="text" id="lastName" name="lastName" value="Иванов"><br>

  <label for="age">Возраст:</label>
  <input type="number" id="age" name="age" value="25"><br>

  <button id="greetButton">Приветствовать!</button>

  <div id="greeting"></div>

  <script src="./index.ts"></script>
</body>
</html>
`
  }}
  options={{
    showNavigator: false,
    showLineNumbers: true,
    editorHeight: 400,
    theme: 'dark'
  }}
/>
