## TypeScript: –û–±—Ä–∞–±–æ—Ç–∫–∞ –û—à–∏–±–æ–∫ (Error Handling) –∫–∞–∫ –ü—Ä–æ—Ñ–∏

–ü—Ä–∏–≤–µ—Ç, –∫–æ–¥–µ—Ä! –° —Ç–æ–±–æ–π –Ø—à–∞, –∏ —Å–µ–≥–æ–¥–Ω—è –º—ã –ø–æ–≥—Ä—É–∑–∏–º—Å—è –≤ –æ–¥–Ω—É –∏–∑ —Å–∞–º—ã—Ö –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö, –Ω–æ —á–∞—Å—Ç–æ –Ω–µ–¥–æ–æ—Ü–µ–Ω–µ–Ω–Ω—ã—Ö —Ç–µ–º –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ ‚Äî –æ–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫. –í –º–∏—Ä–µ, –≥–¥–µ –∫–æ–¥ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤—É–µ—Ç —Å –≤–Ω–µ—à–Ω–∏–º–∏ API, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–º –≤–≤–æ–¥–æ–º –∏ –Ω–µ–ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º—ã–º–∏ —É—Å–ª–æ–≤–∏—è–º–∏, –æ—à–∏–±–∫–∏ ‚Äî —ç—Ç–æ –Ω–µ –±–∞–≥–∏, –∞ —Å–∫–æ—Ä–µ–µ –Ω–µ–∏–∑–±–µ–∂–Ω—ã–µ —Å–ø—É—Ç–Ω–∏–∫–∏. –ò –Ω–∞—à –¥–æ–ª–≥ ‚Äî –≤—Å—Ç—Ä–µ—á–∞—Ç—å –∏—Ö –≤–æ –≤—Å–µ–æ—Ä—É–∂–∏–∏!

TypeScript, —Å –µ–≥–æ –º–æ—â–Ω–æ–π —Å–∏—Å—Ç–µ–º–æ–π —Ç–∏–ø–æ–≤, –¥–∞–µ—Ç –Ω–∞–º —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã –¥–µ–ª–∞—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫ –Ω–µ –ø—Ä–æ—Å—Ç–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–π, –Ω–æ –∏ *—Ç–∏–ø–æ–±–µ–∑–æ–ø–∞—Å–Ω–æ–π*. –ó–∞–±—É–¥—å –æ –Ω–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã—Ö `any` –≤ –±–ª–æ–∫–∞—Ö `catch`; –ø—Ä–∏—à–ª–æ –≤—Ä–µ–º—è –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –æ—à–∏–±–∫–∏ —Ç–∞–∫ –∂–µ —ç–ª–µ–≥–∞–Ω—Ç–Ω–æ, –∫–∞–∫ –∏ –ª—é–±–æ–π –¥—Ä—É–≥–æ–π —Ç–∏–ø –¥–∞–Ω–Ω—ã—Ö.

–í —ç—Ç–æ–º —É—Ä–æ–∫–µ –º—ã —Ä–∞–∑–±–µ—Ä–µ–º:
*   –ö–∞–∫ `try...catch` —Ä–∞–±–æ—Ç–∞–µ—Ç —Å `unknown` –≤ TypeScript.
*   –ö–∞–∫ —Å–æ–∑–¥–∞–≤–∞—Ç—å —Å–≤–æ–∏, –≤—ã—Ä–∞–∑–∏—Ç–µ–ª—å–Ω—ã–µ —Ç–∏–ø—ã –æ—à–∏–±–æ–∫.
*   –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã, —Ç–∞–∫–∏–µ –∫–∞–∫ `Result` —Ç–∏–ø, –¥–ª—è —è–≤–Ω–æ–≥–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –æ—à–∏–±–∫–∞–º–∏.
*   –¢–∏–ø–∏—á–Ω—ã–µ –ø–æ–¥–≤–æ–¥–Ω—ã–µ –∫–∞–º–Ω–∏ –∏ –∫–∞–∫ –∏—Ö –æ–±—Ö–æ–¥–∏—Ç—å.

–ì–æ—Ç–æ–≤? –ü–æ–µ—Ö–∞–ª–∏!

### üõ°Ô∏è –û—Å–Ω–æ–≤—ã: try...catch –∏ –¢–∏–ø–∏–∑–∞—Ü–∏—è –û—à–∏–±–æ–∫

–í JavaScript, –±–ª–æ–∫ `catch` —Ç—Ä–∞–¥–∏—Ü–∏–æ–Ω–Ω–æ –ª–æ–≤–∏—Ç —á—Ç–æ —É–≥–æ–¥–Ω–æ, —á—Ç–æ –±—ã–ª–æ –≤—ã–±—Ä–æ—à–µ–Ω–æ (thrown). –î–æ TypeScript 4.0 –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è –≤ `catch` –±–ª–æ–∫–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –∏–º–µ–ª–∞ —Ç–∏–ø `any`. –≠—Ç–æ –±—ã–ª–æ —É–¥–æ–±–Ω–æ, –Ω–æ –æ–ø–∞—Å–Ω–æ, –≤–µ–¥—å –º—ã —Ç–µ—Ä—è–ª–∏ –≤—Å—è–∫—É—é —Ç–∏–ø–æ–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å.

–ù–∞—á–∏–Ω–∞—è —Å TypeScript 4.0 (–∏ —Å —Ñ–ª–∞–≥–æ–º `useUnknownInCatchVariables` –∏–ª–∏ `strict` mode), –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è –≤ `catch` –±–ª–æ–∫–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –∏–º–µ–µ—Ç —Ç–∏–ø `unknown`. –≠—Ç–æ –≥–æ—Ä–∞–∑–¥–æ –±–µ–∑–æ–ø–∞—Å–Ω–µ–µ! –ü–æ—á–µ–º—É? –ü–æ—Ç–æ–º—É —á—Ç–æ `unknown` –∑–∞—Å—Ç–∞–≤–ª—è–µ—Ç –Ω–∞—Å —è–≤–Ω–æ –ø—Ä–æ–≤–µ—Ä—è—Ç—å —Ç–∏–ø –ø–æ–π–º–∞–Ω–Ω–æ–π –æ—à–∏–±–∫–∏, –ø—Ä–µ–∂–¥–µ —á–µ–º –º—ã —Å–º–æ–∂–µ–º —á—Ç–æ-—Ç–æ —Å –Ω–µ–π —Å–¥–µ–ª–∞—Ç—å. –≠—Ç–æ –∫–∞–∫ –µ—Å–ª–∏ –±—ã —Ç–µ–±–µ –ø—Ä–∏—à–ª–∞ –ø–æ—Å—ã–ª–∫–∞ –±–µ–∑ —ç—Ç–∏–∫–µ—Ç–∫–∏ ‚Äì —Ç—ã –∂–µ –Ω–µ –±—É–¥–µ—à—å –µ–µ —Å—Ä–∞–∑—É –æ—Ç–∫—Ä—ã–≤–∞—Ç—å –∏ –µ—Å—Ç—å, –Ω–µ –∑–Ω–∞—è, —á—Ç–æ –≤–Ω—É—Ç—Ä–∏, –≤–µ—Ä–Ω–æ? –¢—ã —Å–Ω–∞—á–∞–ª–∞ –µ–µ –ø—Ä–æ–≤–µ—Ä–∏—à—å!

```typescript
function divide(a: number, b: number): number {
    if (b === 0) {
        throw new Error("–î–µ–ª–µ–Ω–∏–µ –Ω–∞ –Ω–æ–ª—å –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ!"); // –í—ã–±—Ä–∞—Å—ã–≤–∞–µ–º —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—É—é –æ—à–∏–±–∫—É
    }
    return a / b;
}

try {
    const result = divide(10, 0);
    console.log(`–†–µ–∑—É–ª—å—Ç–∞—Ç: ${result}`);
} catch (error: unknown) { // error —Ç–µ–ø–µ—Ä—å –∏–º–µ–µ—Ç —Ç–∏–ø unknown
    if (error instanceof Error) {
        // –ú—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —ç—Ç–æ –æ–±—ä–µ–∫—Ç Error, –∏ –º–æ–∂–µ–º –±–µ–∑–æ–ø–∞—Å–Ω–æ –ø–æ–ª—É—á–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫ –µ–≥–æ —Å–≤–æ–π—Å—Ç–≤–∞–º
        console.error(`–û—à–∏–±–∫–∞ –ø—Ä–∏ –¥–µ–ª–µ–Ω–∏–∏: ${error.message}`);
    } else {
        // –≠—Ç–æ —á—Ç–æ-—Ç–æ —Å–æ–≤–µ—Ä—à–µ–Ω–Ω–æ –¥—Ä—É–≥–æ–µ, –Ω–µ –æ–±—ä–µ–∫—Ç Error
        console.error("–ü—Ä–æ–∏–∑–æ—à–ª–∞ –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω–∞—è –æ—à–∏–±–∫–∞:", error);
    }
}

// –ü—Ä–∏–º–µ—Ä —Å –¥—Ä—É–≥–∏–º —Ç–∏–ø–æ–º –≤—ã–±—Ä–æ—à–µ–Ω–Ω–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è (TypeScript –≤—Å–µ —Ä–∞–≤–Ω–æ –ø–æ–π–º–∞–µ—Ç –∫–∞–∫ unknown)
function riskyOperation(shouldThrowString: boolean): void {
    if (shouldThrowString) {
        throw "–ß—Ç–æ-—Ç–æ –ø–æ—à–ª–æ –Ω–µ —Ç–∞–∫ –∫–∞–∫ —Å—Ç—Ä–æ–∫–∞!"; // –ú–æ–∂–µ–º –≤—ã–±—Ä–æ—Å–∏—Ç—å —á—Ç–æ —É–≥–æ–¥–Ω–æ
    }
    console.log("–û–ø–µ—Ä–∞—Ü–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∞ —É—Å–ø–µ—à–Ω–æ.");
}

try {
    riskyOperation(true);
} catch (error: unknown) {
    if (typeof error === 'string') {
        console.error(`–ü–æ–π–º–∞–Ω–∞ —Å—Ç—Ä–æ–∫–∞-–æ—à–∏–±–∫–∞: "${error}"`);
    } else if (error instanceof Error) {
        console.error(`–ü–æ–π–º–∞–Ω–∞ –æ—à–∏–±–∫–∞ Error: ${error.message}`);
    } else {
        console.error("–ù–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–π —Ç–∏–ø –æ—à–∏–±–∫–∏:", error);
    }
}
```

–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `unknown` –∏ `instanceof` –∏–ª–∏ `typeof` –¥–ª—è —Å—É–∂–µ–Ω–∏—è —Ç–∏–ø–∞ –æ—à–∏–±–∫–∏ ‚Äî —ç—Ç–æ –∑–æ–ª–æ—Ç–æ–π —Å—Ç–∞–Ω–¥–∞—Ä—Ç –≤ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–º TypeScript.

### üí• –°–æ–∑–¥–∞–µ–º –°–≤–æ–∏ –û—à–∏–±–∫–∏: –ö–æ–≥–¥–∞ `Error` –ú–∞–ª–æ

–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π `Error` —Ö–æ—Ä–æ—à, –Ω–æ —á–∞—Å—Ç–æ –Ω–∞–º –Ω—É–∂–Ω–æ –±–æ–ª—å—à–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞. –ù–∞–ø—Ä–∏–º–µ—Ä, –æ—à–∏–±–∫–∞ —Å–µ—Ç–∏ –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è –æ—Ç –æ—à–∏–±–∫–∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö. –°–æ–∑–¥–∞–Ω–∏–µ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã—Ö –∫–ª–∞—Å—Å–æ–≤ –æ—à–∏–±–æ–∫ –ø–æ–∑–≤–æ–ª—è–µ—Ç –Ω–∞–º:

1.  **–î–æ–±–∞–≤–∏—Ç—å —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ**: –ö–æ–¥ –æ—à–∏–±–∫–∏, —Å—Ç–∞—Ç—É—Å HTTP, –ø–æ–ª–µ, –≤—ã–∑–≤–∞–≤—à–µ–µ –æ—à–∏–±–∫—É.
2.  **–£–ª—É—á—à–∏—Ç—å —á–∏—Ç–∞–µ–º–æ—Å—Ç—å**: –ò–º—è –∫–ª–∞—Å—Å–∞ —Å—Ä–∞–∑—É –≥–æ–≤–æ—Ä–∏—Ç –æ —Å—É—Ç–∏ –ø—Ä–æ–±–ª–µ–º—ã.
3.  **–£–ø—Ä–æ—Å—Ç–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É**: –ú—ã –º–æ–∂–µ–º –ª–æ–≤–∏—Ç—å –∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —Ç–∏–ø—ã –æ—à–∏–±–æ–∫.

–í—Å–µ–≥–¥–∞ –Ω–∞—Å–ª–µ–¥—É–π—Ç–µ—Å—å –æ—Ç `Error` –∏–ª–∏ –¥—Ä—É–≥–æ–≥–æ –∫–ª–∞—Å—Å–∞ –æ—à–∏–±–æ–∫ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `TypeError`, `RangeError`), —á—Ç–æ–±—ã —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ (stack trace –∏ —Ç.–¥.).

```typescript
// –û–ø—Ä–µ–¥–µ–ª—è–µ–º —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π —Ç–∏–ø –¥–ª—è –∫–æ–¥–∞ –æ—à–∏–±–∫–∏
enum ErrorCode {
    ValidationFailed = 'VALIDATION_FAILED',
    NetworkError = 'NETWORK_ERROR',
    Unauthorized = 'UNAUTHORIZED',
}

// 1. –û—à–∏–±–∫–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö
class ValidationError extends Error {
    public readonly code: ErrorCode = ErrorCode.ValidationFailed;
    public readonly field?: string;

    constructor(message: string, field?: string) {
        super(message); // –í—ã–∑—ã–≤–∞–µ–º –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –±–∞–∑–æ–≤–æ–≥–æ –∫–ª–∞—Å—Å–∞ Error
        this.name = 'ValidationError'; // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∏–º—è –¥–ª—è –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
        this.field = field;

        // –í–∞–∂–Ω–æ –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–≥–æ stack trace –≤ –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è—Ö
        Object.setPrototypeOf(this, ValidationError.prototype);
    }
}

// 2. –û—à–∏–±–∫–∞ —Å–µ—Ç–µ–≤–æ–≥–æ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è
class NetworkError extends Error {
    public readonly code: ErrorCode = ErrorCode.NetworkError;
    public readonly statusCode?: number;

    constructor(message: string, statusCode?: number) {
        super(message);
        this.name = 'NetworkError';
        this.statusCode = statusCode;
        Object.setPrototypeOf(this, NetworkError.prototype);
    }
}

// –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
function validateUserData(username: string, email: string): void {
    if (username.length < 3) {
        throw new ValidationError("–ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –Ω–µ –º–µ–Ω–µ–µ 3 —Å–∏–º–≤–æ–ª–æ–≤", "username");
    }
    if (!email.includes('@')) {
        throw new ValidationError("–ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç email", "email");
    }
    console.log("–î–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤–∞–ª–∏–¥–Ω—ã.");
}

async function fetchData(url: string): Promise<string> {
    try {
        // –ò–º–∏—Ç–∏—Ä—É–µ–º —Å–µ—Ç–µ–≤–æ–π –∑–∞–ø—Ä–æ—Å
        const response = await new Promise<Response>((resolve, reject) => {
            setTimeout(() => {
                if (url.includes('error')) {
                    reject(new Response(null, { status: 500, statusText: 'Internal Server Error' }));
                } else if (url.includes('unauthorized')) {
                    reject(new Response(null, { status: 401, statusText: 'Unauthorized' }));
                } else {
                    resolve(new Response('{"data": "some-data"}', { status: 200 }));
                }
            }, 500);
        });

        if (!response.ok) {
            // –ï—Å–ª–∏ –æ—Ç–≤–µ—Ç –Ω–µ OK, –≤—ã–±—Ä–∞—Å—ã–≤–∞–µ–º NetworkError
            throw new NetworkError(`–û—à–∏–±–∫–∞ HTTP: ${response.statusText}`, response.status);
        }
        return await response.text();
    } catch (err: unknown) {
        // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –µ—Å–ª–∏ —ç—Ç–æ –Ω–∞—à NetworkError (—É–∂–µ –≤—ã–±—Ä–æ—à–µ–Ω–Ω—ã–π –∏–∑-–∑–∞ !response.ok)
        if (err instanceof NetworkError) {
            throw err; // –ü–µ—Ä–µ–±—Ä–∞—Å—ã–≤–∞–µ–º –Ω–∞—à—É —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—É—é –æ—à–∏–±–∫—É
        }
        // –ï—Å–ª–∏ —ç—Ç–æ –±—ã–ª–∞ –¥—Ä—É–≥–∞—è –æ—à–∏–±–∫–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –∏–∑ Promise.reject –¥–æ —Å–æ–∑–¥–∞–Ω–∏—è Response)
        if (err instanceof Response) { // –ï—Å–ª–∏ reject –≤–µ—Ä–Ω—É–ª —Å–∞–º Response –æ–±—ä–µ–∫—Ç
            throw new NetworkError(`–ù–µ–æ–∂–∏–¥–∞–Ω–Ω—ã–π —Å–µ—Ç–µ–≤–æ–π –æ—Ç–≤–µ—Ç: ${err.statusText}`, err.status);
        }
        // –í –ø—Ä–æ—Ç–∏–≤–Ω–æ–º —Å–ª—É—á–∞–µ, –æ–±–æ—Ä–∞—á–∏–≤–∞–µ–º –≤ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—É—é –æ—à–∏–±–∫—É –∏–ª–∏ –ø–µ—Ä–µ–±—Ä–∞—Å—ã–≤–∞–µ–º –∫–∞–∫ –µ—Å—Ç—å
        throw new Error(`–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–∞—è –æ—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–ø—Ä–æ—Å–µ –∫ ${url}: ${err}`);
    }
}


// –û–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–∞ –≤–µ—Ä—Ö–Ω–µ–º —É—Ä–æ–≤–Ω–µ
async function processUserAction() {
    try {
        validateUserData("ya", "yasha@example.com"); // –í—ã–∑–æ–≤–µ—Ç ValidationError
        // validateUserData("yasha", "invalid-email"); // –í—ã–∑–æ–≤–µ—Ç ValidationError
        // await fetchData("http://api.example.com/data"); // –£—Å–ø–µ—Ö
        // await fetchData("http://api.example.com/unauthorized"); // –í—ã–∑–æ–≤–µ—Ç NetworkError
    } catch (err: unknown) {
        if (err instanceof ValidationError) {
            console.error(`üö´ –û—à–∏–±–∫–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –ø–æ–ª—è "${err.field}": ${err.message}`);
        } else if (err instanceof NetworkError) {
            console.error(`üåê –û—à–∏–±–∫–∞ —Å–µ—Ç–∏ (${err.statusCode}): ${err.message}`);
        } else if (err instanceof Error) {
            console.error(`‚ùì –ù–µ–æ–∂–∏–¥–∞–Ω–Ω–∞—è –æ—à–∏–±–∫–∞: ${err.message}`);
        } else {
            console.error("–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω–∞—è –æ—à–∏–±–∫–∞:", err);
        }
    }
}

processUserAction();
```

### üõ†Ô∏è –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ –ü—Ä–∏–µ–º—ã: –ï–¥–∏–Ω–æ–æ–±—Ä–∞–∑–∏–µ –∏ –†–∞—Å—à–∏—Ä—è–µ–º–æ—Å—Ç—å

–ò–Ω–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `throw` –Ω–µ –≤—Å–µ–≥–¥–∞ –ª—É—á—à–∏–π –ø–æ–¥—Ö–æ–¥, –æ—Å–æ–±–µ–Ω–Ω–æ –∫–æ–≥–¥–∞ –æ—à–∏–±–∫–∞ —è–≤–ª—è–µ—Ç—Å—è *–æ–∂–∏–¥–∞–µ–º—ã–º* —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–º –æ–ø–µ—Ä–∞—Ü–∏–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –Ω–µ –Ω–∞–π–¥–µ–Ω–∞ –∑–∞–ø–∏—Å—å). –í —Ç–∞–∫–∏—Ö —Å–ª—É—á–∞—è—Ö, –≤–æ–∑–≤—Ä–∞—â–µ–Ω–∏–µ `Result` —Ç–∏–ø–∞ –º–æ–∂–µ—Ç –±—ã—Ç—å –±–æ–ª–µ–µ —è–≤–Ω—ã–º –∏ –ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º—ã–º.

#### –ü–∞—Ç—Ç–µ—Ä–Ω `Result` (–ò–ª–∏ `Either`)

–ò–¥–µ—è –ø—Ä–æ—Å—Ç–∞: —Ñ—É–Ω–∫—Ü–∏—è –Ω–µ `throw`'–∏—Ç –æ—à–∏–±–∫—É, –∞ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ–±—ä–µ–∫—Ç, –∫–æ—Ç–æ—Ä—ã–π —è–≤–Ω–æ —É–∫–∞–∑—ã–≤–∞–µ—Ç, –±—ã–ª–∞ –ª–∏ –æ–ø–µ—Ä–∞—Ü–∏—è —É—Å–ø–µ—à–Ω–æ–π –∏–ª–∏ –Ω–µ—Ç, –∏ —Å–æ–¥–µ—Ä–∂–∏—Ç –ª–∏–±–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç, –ª–∏–±–æ –æ—à–∏–±–∫—É. –≠—Ç–æ –≤–¥–æ—Ö–Ω–æ–≤–ª–µ–Ω–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–º –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ–º.

```typescript
// –¢–∏–ø, –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—é—â–∏–π —É—Å–ø–µ—à–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç –∏–ª–∏ –æ—à–∏–±–∫—É
type Result<T, E> = { success: true; value: T } | { success: false; error: E };

class NotFoundError extends Error {
    constructor(message: string) {
        super(message);
        this.name = 'NotFoundError';
        Object.setPrototypeOf(this, NotFoundError.prototype);
    }
}

// –§—É–Ω–∫—Ü–∏—è, –∫–æ—Ç–æ—Ä–∞—è "–±–µ–∑–æ–ø–∞—Å–Ω–æ" –∏—â–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
function findUserById(id: string): Result<{ id: string; name: string }, NotFoundError | Error> {
    if (id === '123') {
        return { success: true, value: { id: '123', name: '–ê–ª–∏—Å–∞' } };
    }
    if (id === 'error-id') {
        return { success: false, error: new Error('–ù–µ–ø—Ä–µ–¥–≤–∏–¥–µ–Ω–Ω–∞—è –æ—à–∏–±–∫–∞ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö.') };
    }
    return { success: false, error: new NotFoundError(`–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å ID ${id} –Ω–µ –Ω–∞–π–¥–µ–Ω.`) };
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ "–±–µ–∑–æ–ø–∞—Å–Ω–æ–π" —Ñ—É–Ω–∫—Ü–∏–∏
const userResult = findUserById('123');
if (userResult.success) {
    console.log(`–ù–∞–π–¥–µ–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: ${userResult.value.name}`);
} else {
    // TypeScript —Ç–µ–ø–µ—Ä—å –∑–Ω–∞–µ—Ç, —á—Ç–æ userResult.error –º–æ–∂–µ—Ç –±—ã—Ç—å NotFoundError –∏–ª–∏ Error
    if (userResult.error instanceof NotFoundError) {
        console.warn(`‚ö†Ô∏è –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ: ${userResult.error.message}`);
    } else {
        console.error(`‚ùå –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞: ${userResult.error.message}`);
    }
}

const missingUserResult = findUserById('999');
if (missingUserResult.success) {
    console.log(`–ù–∞–π–¥–µ–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: ${missingUserResult.value.name}`);
} else {
    console.error(`–ü—Ä–∏ –ø–æ–∏—Å–∫–µ: ${missingUserResult.error.message}`);
}
```

–ü–∞—Ç—Ç–µ—Ä–Ω `Result` –¥–µ–ª–∞–µ—Ç –∫–æ–¥ –±–æ–ª–µ–µ –¥–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω—ã–º, —Ç–∞–∫ –∫–∞–∫ –≤—Å–µ –≤–æ–∑–º–æ–∂–Ω—ã–µ –∏—Å—Ö–æ–¥—ã –æ–ø–µ—Ä–∞—Ü–∏–∏ —è–≤–Ω–æ —É–∫–∞–∑–∞–Ω—ã –≤ —Å–∏–≥–Ω–∞—Ç—É—Ä–µ —Ç–∏–ø–∞.

### üêõ –¢–∏–ø–∏—á–Ω—ã–µ –û—à–∏–±–∫–∏ –∏ –ö–∞–∫ –ò—Ö –ò–∑–±–µ–∂–∞—Ç—å

1.  **"–ó–∞–≥–ª–∞—Ç—ã–≤–∞–Ω–∏–µ" –æ—à–∏–±–æ–∫ (Swallowing Errors)**: –ü—É—Å—Ç–æ–π `catch` –±–ª–æ–∫.
    ```typescript
    try {
        riskyOperation(true);
    } catch {
        // üò± –ù–∏—á–µ–≥–æ –Ω–µ –¥–µ–ª–∞–µ–º! –û—à–∏–±–∫–∞ –ø—Ä–æ—Å—Ç–æ –∏—Å—á–µ–∑–ª–∞.
    }
    ```
    –í—Å–µ–≥–¥–∞ –ª–∏–±–æ –ª–æ–≥–∏—Ä—É–π—Ç–µ –æ—à–∏–±–∫—É, –ª–∏–±–æ –ø–µ—Ä–µ–±—Ä–∞—Å—ã–≤–∞–π—Ç–µ (throw) –µ–µ, –ª–∏–±–æ —è–≤–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–π—Ç–µ.

2.  **–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–∞—è –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏—è –æ—à–∏–±–æ–∫**: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ç–æ–ª—å–∫–æ `new Error()` –±–µ–∑ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞.
    *   **–†–µ—à–µ–Ω–∏–µ**: –°–æ–∑–¥–∞–≤–∞–π—Ç–µ —Å–≤–æ–∏ –∫–ª–∞—Å—Å—ã –æ—à–∏–±–æ–∫, –∫–∞–∫ –º—ã –ø–æ–∫–∞–∑–∞–ª–∏ –≤—ã—à–µ, —Å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–º–∏ –ø–æ–ª—è–º–∏ (–∫–æ–¥—ã, –¥–∞–Ω–Ω—ã–µ).

3.  **–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –æ–±—Ä–∞—â–µ–Ω–∏–µ —Å `unknown` –≤ `catch`**: –ü–æ–ø—ã—Ç–∫–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ —Å–≤–æ–π—Å—Ç–≤–∞–º –±–µ–∑ –ø—Ä–æ–≤–µ—Ä–∫–∏.
    ```typescript
    try {
        throw { code: 500, message: "–°–µ—Ä–≤–µ—Ä –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω" }; // –í—ã–±—Ä–∞—Å—ã–≤–∞–µ–º –æ–±—ä–µ–∫—Ç
    } catch (error: unknown) {
        // console.error(error.message); // üí• –û—à–∏–±–∫–∞ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏: 'error' is of type 'unknown'.
        if (typeof error === 'object' && error !== null && 'message' in error) {
            console.error((error as { message: string }).message); // –¢–æ–ª—å–∫–æ –ø–æ—Å–ª–µ —Å—É–∂–µ–Ω–∏—è —Ç–∏–ø–∞!
        }
    }
    ```
    *   **–†–µ—à–µ–Ω–∏–µ**: –í—Å–µ–≥–¥–∞ —Å—É–∂–∞–π—Ç–µ —Ç–∏–ø `unknown` —Å –ø–æ–º–æ—â—å—é `instanceof`, `typeof`, –∏–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö Type Guards.

4.  **–ò–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—à–∏–±–æ–∫ –≤ –ø—Ä–æ–º–∏—Å–∞—Ö –±–µ–∑ `await` –∏–ª–∏ `.catch()`**:
    ```typescript
    async function doSomethingAsync() {
        // –≠—Ç–æ—Ç –ø—Ä–æ–º–∏—Å –º–æ–∂–µ—Ç –∑–∞–≤–µ—Ä—à–∏—Ç—å—Å—è –æ—à–∏–±–∫–æ–π, –Ω–æ –º—ã –Ω–µ await'–∏–º –µ–≥–æ –∏ –Ω–µ –¥–æ–±–∞–≤–ª—è–µ–º .catch()
        // –û—à–∏–±–∫–∞ –±—É–¥–µ—Ç –Ω–µ–æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–º –∏—Å–∫–ª—é—á–µ–Ω–∏–µ–º, –µ—Å–ª–∏ –æ–Ω –∑–∞–≤–µ—Ä—à–∏—Ç—Å—è –Ω–µ—É–¥–∞—á–Ω–æ.
        Promise.reject("–û—à–∏–±–∫–∞ –≤ —Ñ–æ–Ω–æ–≤–æ–º –ø—Ä–æ–º–∏—Å–µ!");
    }
    // doSomethingAsync(); // –í—ã–∑–æ–≤–µ—Ç Unhandled Promise Rejection
    ```
    *   **–†–µ—à–µ–Ω–∏–µ**: –í—Å–µ–≥–¥–∞ `await` –ø—Ä–æ–º–∏—Å—ã –∏–ª–∏ –¥–æ–±–∞–≤–ª—è–π—Ç–µ `.catch()` –¥–ª—è –∏—Ö –æ–±—Ä–∞–±–æ—Ç–∫–∏.

### üéØ –ü—Ä–∞–∫—Ç–∏–∫–∞

1.  **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –ø–∞—Ä—Å–µ—Ä JSON**:
    –°–æ–∑–¥–∞–π—Ç–µ –∫–ª–∞—Å—Å `JsonParsingError`, –∫–æ—Ç–æ—Ä—ã–π –Ω–∞—Å–ª–µ–¥—É–µ—Ç—Å—è –æ—Ç `Error` –∏ –≤–∫–ª—é—á–∞–µ—Ç —Å–≤–æ–π—Å—Ç–≤–æ `originalInput: string`. –ù–∞–ø–∏—à–∏—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é `safeJsonParse<T>(jsonString: string): Result<T, JsonParsingError | Error>`, –∫–æ—Ç–æ—Ä–∞—è –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `try...catch` –¥–ª—è `JSON.parse` –∏ –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å `Result`. –ï—Å–ª–∏ `JSON.parse` –≤—ã–±—Ä–∞—Å—ã–≤–∞–µ—Ç –æ—à–∏–±–∫—É, —Ñ—É–Ω–∫—Ü–∏—è –¥–æ–ª–∂–Ω–∞ –æ–±–µ—Ä–Ω—É—Ç—å –µ–µ –≤ `JsonParsingError`.

2.  **–§—É–Ω–∫—Ü–∏—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ —Å —Ä–∞–∑–Ω—ã–º–∏ –æ—à–∏–±–∫–∞–º–∏**:
    –û–ø—Ä–µ–¥–µ–ª–∏—Ç–µ –¥–≤–∞ –Ω–æ–≤—ã—Ö –∫–ª–∞—Å—Å–∞ –æ—à–∏–±–æ–∫: `UserNotFoundError` –∏ `InvalidCredentialsError`. –°–æ–∑–¥–∞–π—Ç–µ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é `authenticate(username: string, passwordHash: string): Promise<Result<{ userId: string }, UserNotFoundError | InvalidCredentialsError | Error>>`.
    *   –ò–º–∏—Ç–∏—Ä—É–π—Ç–µ –ø–æ–∏—Å–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è: –µ—Å–ª–∏ `username` === "admin" –∏ `passwordHash` === "hashed_password", –≤–µ—Ä–Ω–∏—Ç–µ —É—Å–ø–µ—Ö.
    *   –ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –Ω–∞–π–¥–µ–Ω, –≤–µ—Ä–Ω–∏—Ç–µ `UserNotFoundError`.
    *   –ï—Å–ª–∏ –ø–∞—Ä–æ–ª—å –Ω–µ —Å–æ–≤–ø–∞–¥–∞–µ—Ç, –≤–µ—Ä–Ω–∏—Ç–µ `InvalidCredentialsError`.
    *   –ò–º–∏—Ç–∏—Ä—É–π—Ç–µ –Ω–µ–æ–∂–∏–¥–∞–Ω–Ω—É—é –æ—à–∏–±–∫—É (–Ω–∞–ø—Ä–∏–º–µ—Ä, `username` === "crash") –∏ –≤–µ—Ä–Ω–∏—Ç–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π `Error`.

3.  **–î–µ–∫–æ—Ä–∞—Ç–æ—Ä –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö –æ—à–∏–±–æ–∫**:
    **(–ü—Ä–æ–¥–≤–∏–Ω—É—Ç–æ–µ)** –°–æ–∑–¥–∞–π—Ç–µ –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä –º–µ—Ç–æ–¥–∞ `@catchAsyncErrors`, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç –æ–±–æ—Ä–∞—á–∏–≤–∞—Ç—å –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –º–µ—Ç–æ–¥ –∫–ª–∞—Å—Å–∞ –≤ `try...catch`. –ï—Å–ª–∏ –º–µ—Ç–æ–¥ –≤—ã–±—Ä–∞—Å—ã–≤–∞–µ—Ç –æ—à–∏–±–∫—É, –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä –¥–æ–ª–∂–µ–Ω –ª–æ–≥–∏—Ä–æ–≤–∞—Ç—å –µ–µ –∏ –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å `Promise.reject(error)` –∏–ª–∏, –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, `Promise.resolve(undefined)` –ø–æ—Å–ª–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–∫–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –æ—Ç–ø—Ä–∞–≤–∫–∏ –µ–µ –≤ –∞–Ω–∞–ª–∏—Ç–∏–∫—É).

### üí° –°–æ–≤–µ—Ç

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `try...catch` –¥–ª—è *–Ω–µ–ø—Ä–µ–¥–≤–∏–¥–µ–Ω–Ω—ã—Ö* –∏—Å–∫–ª—é—á–µ–Ω–∏–π, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥—É—Ç –Ω–∞—Ä—É—à–∏—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –ø—Ä–æ–≥—Ä–∞–º–º—ã (–¥–µ–ª–µ–Ω–∏–µ –Ω–∞ –Ω–æ–ª—å, –ø—Ä–æ–±–ª–µ–º—ã —Å I/O, –Ω–µ–æ–∂–∏–¥–∞–Ω–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã API). –î–ª—è *–æ–∂–∏–¥–∞–µ–º—ã—Ö* –æ—à–∏–±–æ–∫, –∫–æ—Ç–æ—Ä—ã–µ —è–≤–ª—è—é—Ç—Å—è —á–∞—Å—Ç—å—é –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏ (–Ω–µ–≤–µ—Ä–Ω—ã–π –≤–≤–æ–¥, –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –∑–∞–ø–∏—Å–∏, –æ—Ç–∫–∞–∑–∞–Ω–æ –≤ –¥–æ—Å—Ç—É–ø–µ), —Ä–∞—Å—Å–º–æ—Ç—Ä–∏—Ç–µ –ø–∞—Ç—Ç–µ—Ä–Ω `Result` –∏–ª–∏ —è–≤–Ω–æ–µ –≤–æ–∑–≤—Ä–∞—â–µ–Ω–∏–µ –æ—à–∏–±–æ–∫, —á—Ç–æ–±—ã —Å–¥–µ–ª–∞—Ç—å –ø–æ—Ç–æ–∫–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –±–æ–ª–µ–µ –ø—Ä–æ–∑—Ä–∞—á–Ω—ã–º–∏ –∏ —Ç–∏–ø–æ–±–µ–∑–æ–ø–∞—Å–Ω—ã–º–∏. –í—Å–µ–≥–¥–∞ –ª–æ–≥–∏—Ä—É–π—Ç–µ –æ—à–∏–±–∫–∏ –∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–π—Ç–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –æ—Å–º—ã—Å–ª–µ–Ω–Ω—É—é –æ–±—Ä–∞—Ç–Ω—É—é —Å–≤—è–∑—å, –Ω–µ —Ä–∞—Å–∫—Ä—ã–≤–∞—è –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏—Ö –¥–µ—Ç–∞–ª–µ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏.


## –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π –ø—Ä–∏–º–µ—Ä

<Sandpack
  template="vanilla-ts"
  files={{
    "/index.ts": `
document.body.style.fontFamily = 'sans-serif';
document.body.style.padding = '20px';
document.body.style.backgroundColor = '#282c34';
document.body.style.color = '#fff';

const outputDiv = document.createElement('div');
outputDiv.id = 'output';
document.body.appendChild(outputDiv);

const inputA = document.createElement('input');
inputA.type = 'number';
inputA.placeholder = '–ß–∏—Å–ª–æ A';
inputA.style.marginRight = '10px';
document.body.appendChild(inputA);

const inputB = document.createElement('input');
inputB.type = 'number';
inputB.placeholder = '–ß–∏—Å–ª–æ B';
inputB.style.marginRight = '10px';
document.body.appendChild(inputB);

const divideButton = document.createElement('button');
divideButton.textContent = '–†–∞–∑–¥–µ–ª–∏—Ç—å';
document.body.appendChild(divideButton);

const riskyButton = document.createElement('button');
riskyButton.textContent = '–†–∏—Å–∫–æ–≤–∞–Ω–Ω–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è';
document.body.appendChild(riskyButton);

function divide(a: number, b: number): number {
    if (b === 0) {
        throw new Error("–î–µ–ª–µ–Ω–∏–µ –Ω–∞ –Ω–æ–ª—å –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ!"); // –í—ã–±—Ä–∞—Å—ã–≤–∞–µ–º —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—É—é –æ—à–∏–±–∫—É
    }
    return a / b;
}

function riskyOperation(shouldThrowString: boolean): void {
    if (shouldThrowString) {
        throw "–ß—Ç–æ-—Ç–æ –ø–æ—à–ª–æ –Ω–µ —Ç–∞–∫ –∫–∞–∫ —Å—Ç—Ä–æ–∫–∞!"; // –ú–æ–∂–µ–º –≤—ã–±—Ä–æ—Å–∏—Ç—å —á—Ç–æ —É–≥–æ–¥–Ω–æ
    }
    setOutput("–û–ø–µ—Ä–∞—Ü–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∞ —É—Å–ø–µ—à–Ω–æ.");
}

function setOutput(message: string) {
    outputDiv.textContent = message;
}

divideButton.addEventListener('click', () => {
    const a = Number(inputA.value);
    const b = Number(inputB.value);

    try {
        const result = divide(a, b);
        setOutput(\`–†–µ–∑—É–ª—å—Ç–∞—Ç: \${'result'}\`);
    } catch (error: unknown) { // error —Ç–µ–ø–µ—Ä—å –∏–º–µ–µ—Ç —Ç–∏–ø unknown
        if (error instanceof Error) {
            // –ú—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —ç—Ç–æ –æ–±—ä–µ–∫—Ç Error, –∏ –º–æ–∂–µ–º –±–µ–∑–æ–ø–∞—Å–Ω–æ –ø–æ–ª—É—á–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫ –µ–≥–æ —Å–≤–æ–π—Å—Ç–≤–∞–º
            setOutput(\`–û—à–∏–±–∫–∞ –ø—Ä–∏ –¥–µ–ª–µ–Ω–∏–∏: \${'error.message'}\`);
        } else {
            // –≠—Ç–æ —á—Ç–æ-—Ç–æ —Å–æ–≤–µ—Ä—à–µ–Ω–Ω–æ –¥—Ä—É–≥–æ–µ, –Ω–µ –æ–±—ä–µ–∫—Ç Error
            setOutput(\`–ü—Ä–æ–∏–∑–æ—à–ª–∞ –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω–∞—è –æ—à–∏–±–∫–∞: \${'error'}\`);
        }
    }
});

riskyButton.addEventListener('click', () => {
    try {
        riskyOperation(true);
    } catch (error: unknown) {
        if (typeof error === 'string') {
            setOutput(\`–ü–æ–π–º–∞–Ω–∞ —Å—Ç—Ä–æ–∫–∞-–æ—à–∏–±–∫–∞: "\${'error'}"\`);
        } else if (error instanceof Error) {
            setOutput(\`–ü–æ–π–º–∞–Ω–∞ –æ—à–∏–±–∫–∞ Error: \${'error.message'}\`);
        } else {
            setOutput(\`–ù–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–π —Ç–∏–ø –æ—à–∏–±–∫–∏: \${'error'}\`);
        }
    }
});
`
  }}
  options={{
    showNavigator: false,
    showLineNumbers: true,
    editorHeight: 400
  }}
/>
