## TypeScript: Zustand Slices –∏ –ú–æ—â–Ω—ã–π –ú–µ–Ω–µ–¥–∂–º–µ–Ω—Ç –°–æ—Å—Ç–æ—è–Ω–∏—è

–ü—Ä–∏–≤–µ—Ç, –∫–æ–¥–µ—Ä—ã! üëã –Ø—à–∞ —Å–Ω–æ–≤–∞ —Å –≤–∞–º–∏, –∏ —Å–µ–≥–æ–¥–Ω—è –º—ã –ø–æ–≥—Ä—É–∑–∏–º—Å—è –≤ –æ–¥–Ω—É –∏–∑ —Å–∞–º—ã—Ö —ç–ª–µ–≥–∞–Ω—Ç–Ω—ã—Ö –∏ –º–æ—â–Ω—ã—Ö –∫–æ–Ω—Ü–µ–ø—Ü–∏–π Zustand –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º –≤ –∫—Ä—É–ø–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è—Ö: "—Å–ª–∞–π—Å—ã" (slices). –ï—Å–ª–∏ –≤—ã —É–∂–µ –æ—Å–≤–æ–∏–ª–∏ –æ—Å–Ω–æ–≤—ã Zustand, —Ç–æ —ç—Ç–æ—Ç —É—Ä–æ–∫ –ø–æ–º–æ–∂–µ—Ç –≤–∞–º –≤—ã–≤–µ—Å—Ç–∏ –≤–∞—à—É –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É –Ω–∞ –Ω–æ–≤—ã–π —É—Ä–æ–≤–µ–Ω—å –º–æ–¥—É–ª—å–Ω–æ—Å—Ç–∏ –∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º–æ—Å—Ç–∏.

–ü—Ä–µ–¥—Å—Ç–∞–≤—å—Ç–µ, —á—Ç–æ –≤–∞—à–µ –≥–ª–æ–±–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ ‚Äî —ç—Ç–æ –æ–≥—Ä–æ–º–Ω—ã–π, –≤–∫—É—Å–Ω—ã–π –ø–∏—Ä–æ–≥. –ü–æ –º–µ—Ä–µ —Ä–æ—Å—Ç–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —ç—Ç–æ—Ç –ø–∏—Ä–æ–≥ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –≤—Å—ë –±–æ–ª—å—à–µ, –µ–≥–æ —Ä–µ—Ü–µ–ø—Ç ‚Äî —Å–ª–æ–∂–Ω–µ–µ, –∞ –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç—ã ‚Äî –º–Ω–æ–≥–æ—á–∏—Å–ª–µ–Ω–Ω–µ–µ. –ü—ã—Ç–∞—Ç—å—Å—è —É–ø—Ä–∞–≤–ª—è—Ç—å –≤—Å–µ–º –ø–∏—Ä–æ–≥–æ–º —Å—Ä–∞–∑—É —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –æ—á–µ–Ω—å –Ω–µ—É–¥–æ–±–Ω–æ. –ß—Ç–æ, –µ—Å–ª–∏ –º—ã –º–æ–≥–ª–∏ –±—ã —Ä–∞–∑—Ä–µ–∑–∞—Ç—å —ç—Ç–æ—Ç –ø–∏—Ä–æ–≥ –Ω–∞ –∞–∫–∫—É—Ä–∞—Ç–Ω—ã–µ, —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∫—É—Å–æ—á–∫–∏, –∫–∞–∂–¥—ã–π —Å–æ —Å–≤–æ–∏–º —É–Ω–∏–∫–∞–ª—å–Ω—ã–º –≤–∫—É—Å–æ–º (—Å–æ—Å—Ç–æ—è–Ω–∏–µ–º) –∏ —Å–ø–æ—Å–æ–±–æ–º –ø—Ä–∏–≥–æ—Ç–æ–≤–ª–µ–Ω–∏—è (–¥–µ–π—Å—Ç–≤–∏—è–º–∏)? –ò–º–µ–Ω–Ω–æ —ç—Ç–æ –∏ –¥–µ–ª–∞—é—Ç "—Å–ª–∞–π—Å—ã" –≤ Zustand!

### –ó–∞—á–µ–º –Ω–∞–º "—Å–ª–∞–π—Å—ã" –≤ Zustand?

–í –±–æ–ª—å—à–∏—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è—Ö, –∫–æ–≥–¥–∞ –≤–µ—Å—å –≤–∞—à —Å—Ç–æ—Ä Zustand —É–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –æ–¥–Ω–∏–º –±–æ–ª—å—à–∏–º —Ñ–∞–π–ª–æ–º `useStore.ts`, –≤—ã –æ—á–µ–Ω—å –±—ã—Å—Ç—Ä–æ —Å—Ç–æ–ª–∫–Ω–µ—Ç–µ—Å—å —Å –ø—Ä–æ–±–ª–µ–º–∞–º–∏:

1.  **–ú–æ–Ω–æ–ª–∏—Ç–Ω–æ—Å—Ç—å:** –û–¥–∏–Ω —Ñ–∞–π–ª —Å–æ–¥–µ—Ä–∂–∏—Ç —Å–æ—Ç–Ω–∏ —Å—Ç—Ä–æ–∫ –∫–æ–¥–∞, –¥–µ—Å—è—Ç–∫–∏ —Å—Ç–µ–π—Ç–æ–≤ –∏ —ç–∫—à–µ–Ω–æ–≤, –Ω–µ —Å–≤—è–∑–∞–Ω–Ω—ã—Ö –Ω–∞–ø—Ä—è–º—É—é –¥—Ä—É–≥ —Å –¥—Ä—É–≥–æ–º.
2.  **–°–ª–æ–∂–Ω–æ—Å—Ç—å:** –¢—Ä—É–¥–Ω–æ –ø–æ–Ω—è—Ç—å, –∫–∞–∫–∞—è —á–∞—Å—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏—è –æ—Ç–Ω–æ—Å–∏—Ç—Å—è –∫ –∫–∞–∫–æ–º—É –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—É –∏–ª–∏ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏.
3.  **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å:** –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏ –ø—Ä–∏–≤–æ–¥–∏—Ç –∫ —Ä–∞–∑–¥—É–≤–∞–Ω–∏—é –∏ –±–µ–∑ —Ç–æ–≥–æ –±–æ–ª—å—à–æ–≥–æ —Ñ–∞–π–ª–∞.
4.  **–ö–æ–ª–ª–∏–∑–∏–∏:** –ë–æ–ª—å—à–µ —à–∞–Ω—Å–æ–≤ —Å–ª—É—á–∞–π–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å –∏–ª–∏ —É–¥–∞–ª–∏—Ç—å –Ω—É–∂–Ω—É—é –ª–æ–≥–∏–∫—É.
5.  **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:** –¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω—ã–µ —á–∞—Å—Ç–∏ —Å—Ç–æ—Ä–∞ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è —Å–ª–æ–∂–Ω–µ–µ.

–°–ª–∞–π—Å—ã —Ä–µ—à–∞—é—Ç —ç—Ç–∏ –ø—Ä–æ–±–ª–µ–º—ã, –ø–æ–∑–≤–æ–ª—è—è –≤–∞–º –∏–Ω–∫–∞–ø—Å—É–ª–∏—Ä–æ–≤–∞—Ç—å —Å–≤—è–∑–∞–Ω–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∏ –ª–æ–≥–∏–∫—É –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–µ, –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã–µ –º–æ–¥—É–ª–∏. –ö–∞–∂–¥—ã–π —Å–ª–∞–π—Å —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è "–≤–ª–∞–¥–µ–ª—å—Ü–µ–º" —Å–≤–æ–µ–π —á–∞—Å—Ç–∏ –ø–∏—Ä–æ–≥–∞, –æ–±–µ—Å–ø–µ—á–∏–≤–∞—è —á–µ—Ç–∫–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏.

### –û—Å–Ω–æ–≤—ã –°–æ–∑–¥–∞–Ω–∏—è –°–ª–∞–π—Å–æ–≤ —Å TypeScript

–î–∞–≤–∞–π—Ç–µ –Ω–∞—á–Ω–µ–º —Å –ø—Ä–æ—Å—Ç–æ–≥–æ –ø—Ä–∏–º–µ—Ä–∞. –ü—Ä–µ–¥—Å—Ç–∞–≤–∏–º, —á—Ç–æ —É –Ω–∞—Å –µ—Å—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å –¥–≤—É–º—è –æ—Å–Ω–æ–≤–Ω—ã–º–∏ –æ–±–ª–∞—Å—Ç—è–º–∏: —Å—á–µ—Ç—á–∏–∫ –º–µ–¥–≤–µ–¥–µ–π (–Ω—É –∞ –∫—É–¥–∞ –±–µ–∑ –Ω–∏—Ö?) –∏ —Å–ø–∏—Å–æ–∫ –∑–∞–¥–∞—á. –ú—ã —Ö–æ—Ç–∏–º, —á—Ç–æ–±—ã –∫–∞–∂–¥—ã–π –∏–∑ –Ω–∏—Ö –±—ã–ª –æ—Ç–¥–µ–ª—å–Ω—ã–º —Å–ª–∞–π—Å–æ–º.

–°–Ω–∞—á–∞–ª–∞ –æ–ø—Ä–µ–¥–µ–ª–∏–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Å–ª–∞–π—Å–∞. –≠—Ç–æ –æ—á–µ–Ω—å –≤–∞–∂–Ω–æ –¥–ª—è –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è —Ç–∏–ø–æ–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏.

```typescript
import { create, StoreApi, UseBoundStore } from 'zustand';

// 1. –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è —Å–æ—Å—Ç–æ—è–Ω–∏—è —Å–ª–∞–π—Å–∞ –º–µ–¥–≤–µ–¥–µ–π
interface BearState {
  bears: number;
  increasePopulation: () => void;
  removeAllBears: () => void;
}

// 2. –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è —Å–æ—Å—Ç–æ—è–Ω–∏—è —Å–ª–∞–π—Å–∞ –∑–∞–¥–∞—á
interface Task {
  id: string;
  text: string;
  completed: boolean;
}

interface TaskState {
  tasks: Task[];
  addTask: (text: string) => void;
  toggleTask: (id: string) => void;
}

// 3. –û–±—ä–µ–¥–∏–Ω—è–µ–º –≤—Å–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –≤ –æ–¥–∏–Ω –æ–±—â–∏–π —Å—Ç–æ—Ä
// –≠—Ç–æ —Ç–∏–ø –¥–ª—è –≤—Å–µ–≥–æ –≥–ª–æ–±–∞–ª—å–Ω–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è
type AppStoreState = BearState & TaskState;
```

–¢–µ–ø–µ—Ä—å —Å–æ–∑–¥–∞–¥–∏–º —Ñ—É–Ω–∫—Ü–∏–∏, –∫–æ—Ç–æ—Ä—ã–µ –±—É–¥—É—Ç "–æ–ø—Ä–µ–¥–µ–ª—è—Ç—å" –∫–∞–∂–¥—ã–π —Å–ª–∞–π—Å. –≠—Ç–∏ —Ñ—É–Ω–∫—Ü–∏–∏ –±—É–¥—É—Ç –ø—Ä–∏–Ω–∏–º–∞—Ç—å `set` –∏ `get` –∏–∑ Zustand, –Ω–æ —Å —Ç–∏–ø–æ–º –≤—Å–µ–≥–æ `AppStoreState`, —á—Ç–æ–±—ã –≤–Ω—É—Ç—Ä–∏ —Å–ª–∞–π—Å–∞ –º—ã –º–æ–≥–ª–∏ –≤–∏–¥–µ—Ç—å –≤—Å—ë –≥–ª–æ–±–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ, –µ—Å–ª–∏ —ç—Ç–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ.

```typescript
// –§—É–Ω–∫—Ü–∏—è-—Å–æ–∑–¥–∞—Ç–µ–ª—å –¥–ª—è —Å–ª–∞–π—Å–∞ –º–µ–¥–≤–µ–¥–µ–π
// T - —ç—Ç–æ —Ç–∏–ø –≤—Å–µ–≥–æ —Å—Ç–æ—Ä–∞, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç –ø–µ—Ä–µ–¥–∞–Ω create
const createBearSlice = (set: StoreApi<AppStoreState>['setState'], get: StoreApi<AppStoreState>['getState']): BearState => ({
  bears: 0,
  increasePopulation: () => set(state => ({ bears: state.bears + 1 })),
  removeAllBears: () => set({ bears: 0 }),
});

// –§—É–Ω–∫—Ü–∏—è-—Å–æ–∑–¥–∞—Ç–µ–ª—å –¥–ª—è —Å–ª–∞–π—Å–∞ –∑–∞–¥–∞—á
const createTaskSlice = (set: StoreApi<AppStoreState>['setState'], get: StoreApi<AppStoreState>['getState']): TaskState => ({
  tasks: [],
  addTask: (text: string) =>
    set(state => ({
      tasks: [
        ...state.tasks,
        { id: crypto.randomUUID(), text, completed: false }, // –ò—Å–ø–æ–ª—å–∑—É–µ–º crypto.randomUUID() –¥–ª—è —É–Ω–∏–∫–∞–ª—å–Ω–æ–≥–æ ID
      ],
    })),
  toggleTask: (id: string) =>
    set(state => ({
      tasks: state.tasks.map(task =>
        task.id === id ? { ...task, completed: !task.completed } : task
      ),
    })),
});
```

### –ö–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –°–ª–∞–π—Å–æ–≤ –≤ –ï–¥–∏–Ω—ã–π –°—Ç–æ—Ä

–°–∞–º–æ–µ –∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ–µ –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è, –∫–æ–≥–¥–∞ –º—ã –∫–æ–º–±–∏–Ω–∏—Ä—É–µ–º —ç—Ç–∏ —Ñ—É–Ω–∫—Ü–∏–∏-—Å–æ–∑–¥–∞—Ç–µ–ª–∏ –≤ –Ω–∞—à –æ—Å–Ω–æ–≤–Ω–æ–π —Ö—É–∫ `useAppStore`.

```typescript
// –°–æ–∑–¥–∞–µ–º –≥–ª–∞–≤–Ω—ã–π —Å—Ç–æ—Ä, –æ–±—ä–µ–¥–∏–Ω—è—è –≤—Å–µ —Å–ª–∞–π—Å—ã
const useAppStore: UseBoundStore<StoreApi<AppStoreState>> = create<AppStoreState>()((set, get) => ({
  ...createBearSlice(set, get), // –†–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞–µ–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∏ –¥–µ–π—Å—Ç–≤–∏—è —Å–ª–∞–π—Å–∞ –º–µ–¥–≤–µ–¥–µ–π
  ...createTaskSlice(set, get), // –†–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞–µ–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∏ –¥–µ–π—Å—Ç–≤–∏—è —Å–ª–∞–π—Å–∞ –∑–∞–¥–∞—á
}));

// –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è (—ç—Ç–æ –Ω–µ MDX, –ø—Ä–æ—Å—Ç–æ –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏)
/*
function BearCounter() {
  const bears = useAppStore(state => state.bears);
  const increasePopulation = useAppStore(state => state.increasePopulation);
  const removeAllBears = useAppStore(state => state.removeAllBears);

  return (
    <div>
      <h1>–ú–µ–¥–≤–µ–¥–µ–π: {bears}</h1>
      <button onClick={increasePopulation}>–î–æ–±–∞–≤–∏—Ç—å –º–µ–¥–≤–µ–¥—è</button>
      <button onClick={removeAllBears}>–£–±—Ä–∞—Ç—å –≤—Å–µ—Ö –º–µ–¥–≤–µ–¥–µ–π</button>
    </div>
  );
}

function TaskList() {
  const tasks = useAppStore(state => state.tasks);
  const addTask = useAppStore(state => state.addTask);
  const toggleTask = useAppStore(state => state.toggleTask);
  const [newTaskText, setNewTaskText] = useState('');

  return (
    <div>
      <h2>–ó–∞–¥–∞—á–∏:</h2>
      <input
        type="text"
        value={newTaskText}
        onChange={(e) => setNewTaskText(e.target.value)}
        placeholder="–ù–æ–≤–∞—è –∑–∞–¥–∞—á–∞..."
      />
      <button onClick={() => { addTask(newTaskText); setNewTaskText(''); }}>–î–æ–±–∞–≤–∏—Ç—å</button>
      <ul>
        {tasks.map(task => (
          <li key={task.id} style={{ textDecoration: task.completed ? 'line-through' : 'none' }}>
            {task.text}
            <button onClick={() => toggleTask(task.id)}>
              {task.completed ? '–û—Ç–º–µ—Ç–∏—Ç—å –∫–∞–∫ –Ω–µ–≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—É—é' : '–û—Ç–º–µ—Ç–∏—Ç—å –∫–∞–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—É—é'}
            </button>
          </li>
        ))}
      </ul>
    </div>
  );
}

// –í –≤–∞—à–µ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ React:
// <BearCounter />
// <TaskList />
*/
```

### –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ –¢–µ—Ö–Ω–∏–∫–∏: –í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ –ú–µ–∂–¥—É –°–ª–∞–π—Å–∞–º–∏

–ò–Ω–æ–≥–¥–∞ –æ–¥–Ω–æ–º—É —Å–ª–∞–π—Å—É –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–æ–≤–∞—Ç—å —Å –¥—Ä—É–≥–∏–º. –ù–∞–ø—Ä–∏–º–µ—Ä, –Ω–∞—à –º–µ–¥–≤–µ–¥—å –º–æ–∂–µ—Ç –∑–∞—Ö–æ—Ç–µ—Ç—å –≤—ã–ø–æ–ª–Ω–∏—Ç—å –∑–∞–¥–∞—á—É, –∏–ª–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –∑–∞–¥–∞—á–∏ –º–æ–∂–µ—Ç –∑–∞–≤–∏—Å–µ—Ç—å –æ—Ç –∫–∞–∫–æ–≥–æ-—Ç–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è –≤ –¥—Ä—É–≥–æ–º —Å–ª–∞–π—Å–µ. –î–ª—è —ç—Ç–æ–≥–æ –º—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º —Ñ—É–Ω–∫—Ü–∏—é `get`, –∫–æ—Ç–æ—Ä–∞—è –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è –≤ –∫–∞–∂–¥—ã–π —Å–æ–∑–¥–∞—Ç–µ–ª—å —Å–ª–∞–π—Å–∞. `get` –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–æ–ª—É—á–∏—Ç—å —Ç–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –≤—Å–µ–≥–æ —Å—Ç–æ—Ä–∞.

–î–∞–≤–∞–π—Ç–µ —Ä–∞—Å—à–∏—Ä–∏–º –Ω–∞—à –ø—Ä–∏–º–µ—Ä: –º–µ–¥–≤–µ–¥–∏ —Ç–µ–ø–µ—Ä—å –º–æ–≥—É—Ç –Ω–µ —Ç–æ–ª—å–∫–æ —Ä–∞–∑–º–Ω–æ–∂–∞—Ç—å—Å—è, –Ω–æ –∏ –≤—ã–ø–æ–ª–Ω—è—Ç—å –∑–∞–¥–∞—á–∏!

```typescript
// –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –º–µ–¥–≤–µ–¥—è, —Ç–µ–ø–µ—Ä—å –æ–Ω –º–æ–∂–µ—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å –∑–∞–¥–∞—á–∏
interface BearStateWithInteractions {
  bears: number;
  increasePopulation: () => void;
  removeAllBears: () => void;
  // –ù–æ–≤–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ: –º–µ–¥–≤–µ–¥—å –≤—ã–ø–æ–ª–Ω—è–µ—Ç –∑–∞–¥–∞—á—É
  bearCompletesTask: (taskId: string) => void;
}

// –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π —Å–æ–∑–¥–∞—Ç–µ–ª—å —Å–ª–∞–π—Å–∞ –º–µ–¥–≤–µ–¥–µ–π
const createBearSliceWithInteractions = (set: StoreApi<AppStoreState>['setState'], get: StoreApi<AppStoreState>['getState']): BearStateWithInteractions => ({
  bears: 0,
  increasePopulation: () => set(state => ({ bears: state.bears + 1 })),
  removeAllBears: () => set({ bears: 0 }),
  bearCompletesTask: (taskId: string) => {
    // –ü–æ–ª—É—á–∞–µ–º —Ç–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –≤—Å–µ–≥–æ —Å—Ç–æ—Ä–∞ —á–µ—Ä–µ–∑ get()
    const currentTasks = get().tasks;
    const taskExists = currentTasks.some(task => task.id === taskId);

    if (taskExists) {
      console.log(`–ú–µ–¥–≤–µ–¥—å –≤—ã–ø–æ–ª–Ω—è–µ—Ç –∑–∞–¥–∞—á—É: ${taskId}`);
      // –í—ã–∑—ã–≤–∞–µ–º –¥–µ–π—Å—Ç–≤–∏–µ –∏–∑ –¥—Ä—É–≥–æ–≥–æ —Å–ª–∞–π—Å–∞ —á–µ—Ä–µ–∑ get()
      get().toggleTask(taskId);
    } else {
      console.warn(`–ó–∞–¥–∞—á–∞ —Å ID ${taskId} –Ω–µ –Ω–∞–π–¥–µ–Ω–∞. –ú–µ–¥–≤–µ–¥—å –≥—Ä—É—Å—Ç–∏—Ç.`);
    }
  },
});

// –ü–µ—Ä–µ—Å–æ–∑–¥–∞–µ–º –≥–ª–∞–≤–Ω—ã–π —Å—Ç–æ—Ä —Å –æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–º —Å–ª–∞–π—Å–æ–º –º–µ–¥–≤–µ–¥–µ–π
const useAppStoreWithInteractions: UseBoundStore<StoreApi<AppStoreState>> = create<AppStoreState>()((set, get) => ({
  ...createBearSliceWithInteractions(set, get), // –ò—Å–ø–æ–ª—å–∑—É–µ–º –æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π —Å–ª–∞–π—Å
  ...createTaskSlice(set, get),
}));

// –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –¥–µ–π—Å—Ç–≤–∏—è bearCompletesTask
/*
function BearTasker() {
  const bearCompletesTask = useAppStoreWithInteractions(state => state.bearCompletesTask);
  const tasks = useAppStoreWithInteractions(state => state.tasks);
  const [taskIdToComplete, setTaskIdToComplete] = useState('');

  return (
    <div>
      <h3>–ú–µ–¥–≤–µ–¥—å-–ü–æ–º–æ—â–Ω–∏–∫</h3>
      <input
        type="text"
        value={taskIdToComplete}
        onChange={(e) => setTaskIdToComplete(e.target.value)}
        placeholder="ID –∑–∞–¥–∞—á–∏ –¥–ª—è –º–µ–¥–≤–µ–¥—è..."
      />
      <button onClick={() => bearCompletesTask(taskIdToComplete)}>
        –ú–µ–¥–≤–µ–¥—å, –≤—ã–ø–æ–ª–Ω–∏ –∑–∞–¥–∞—á—É!
      </button>
      <ul>
        {tasks.map(task => (
          <li key={task.id}>
            {task.id}: {task.text} - {task.completed ? '–í—ã–ø–æ–ª–Ω–µ–Ω–∞' : '–ù–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∞'}
          </li>
        ))}
      </ul>
    </div>
  );
}

// <BearTasker />
*/
```

–û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ, —á—Ç–æ `bearCompletesTask` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `get().toggleTask(taskId)` –¥–ª—è –≤—ã–∑–æ–≤–∞ –¥–µ–π—Å—Ç–≤–∏—è –∏–∑ `TaskSlice`. –≠—Ç–æ –º–æ—â–Ω—ã–π –º–µ—Ö–∞–Ω–∏–∑–º, –Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –µ–≥–æ –Ω—É–∂–Ω–æ –æ–±–¥—É–º–∞–Ω–Ω–æ, —á—Ç–æ–±—ã –Ω–µ —Å–æ–∑–¥–∞–≤–∞—Ç—å —Å–ª–∏—à–∫–æ–º —Ç–µ—Å–Ω—ã—Ö —Å–≤—è–∑–µ–π –º–µ–∂–¥—É —Å–ª–∞–π—Å–∞–º–∏.

### –¢–∏–ø–∏—á–Ω—ã–µ –û—à–∏–±–∫–∏ –∏ –ò—Ö –†–µ—à–µ–Ω–∏—è

1.  **–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è `set` –∏ `get` –≤ —Å–æ–∑–¥–∞—Ç–µ–ª—è—Ö —Å–ª–∞–π—Å–æ–≤:**
    *   **–û—à–∏–±–∫–∞:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `set: any` –∏–ª–∏ –Ω–µ–≤–µ—Ä–Ω–æ–≥–æ —Ç–∏–ø–∞, –∏–∑-–∑–∞ —á–µ–≥–æ –≤–Ω—É—Ç—Ä–∏ —Å–ª–∞–π—Å–∞ `set` –∏–ª–∏ `get` –Ω–µ –∑–Ω–∞–µ—Ç –æ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–∏ —Å–æ—Å—Ç–æ—è–Ω–∏–π –∏–ª–∏ –¥–µ–π—Å—Ç–≤–∏–π –∏–∑ –¥—Ä—É–≥–∏—Ö —Å–ª–∞–π—Å–æ–≤.
    *   **–†–µ—à–µ–Ω–∏–µ:** –í—Å–µ–≥–¥–∞ –ø–µ—Ä–µ–¥–∞–≤–∞–π—Ç–µ `StoreApi<AppStoreState>['setState']` –∏ `StoreApi<AppStoreState>['getState']` (–∏–ª–∏ –∏—Ö –∞–Ω–∞–ª–æ–≥–∏) –≤ –≤–∞—à–∏ —Å–æ–∑–¥–∞—Ç–µ–ª–∏ —Å–ª–∞–π—Å–æ–≤, –≥–¥–µ `AppStoreState` ‚Äì —ç—Ç–æ –æ–±—â–∏–π —Ç–∏–ø –≤—Å–µ–≥–æ –≤–∞—à–µ–≥–æ —Å—Ç–æ—Ä–∞. –≠—Ç–æ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç, —á—Ç–æ `set` –∏ `get` –≤—Å–µ–≥–¥–∞ –∏–º–µ—é—Ç –ø–æ–ª–Ω—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç –≥–ª–æ–±–∞–ª—å–Ω–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è.

2.  **–ü—Ä—è–º–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è (–º—É—Ç–∞—Ü–∏—è) –≤–Ω–µ `set`:**
    *   **–û—à–∏–±–∫–∞:**
        ```typescript
        // –í–Ω—É—Ç—Ä–∏ —Å–ª–∞–π—Å–∞:
        const addTask: (text: string) => void = (text) => {
          get().tasks.push({ id: crypto.randomUUID(), text, completed: false }); // –ü—Ä—è–º–∞—è –º—É—Ç–∞—Ü–∏—è!
        };
        ```
    *   **–†–µ—à–µ–Ω–∏–µ:** –í—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `set` –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è. Zustand –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∏–º–º—É—Ç–∞–±–µ–ª—å–Ω–æ—Å—Ç—å, –∏ –ø—Ä—è–º–∞—è –º—É—Ç–∞—Ü–∏—è –º–æ–∂–µ—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ –Ω–µ–ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º—ã–º –æ—à–∏–±–∫–∞–º –∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏—é –ø–µ—Ä–µ—Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤.
        ```typescript
        const addTask: (text: string) => void = (text) =>
          set(state => ({
            tasks: [...state.tasks, { id: crypto.randomUUID(), text, completed: false }],
          }));
        ```

3.  **–ß—Ä–µ–∑–º–µ—Ä–Ω–∞—è —Å–≤—è–∑–∞–Ω–Ω–æ—Å—Ç—å –∏–ª–∏ —Ü–∏–∫–ª–∏—á–µ—Å–∫–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:**
    *   **–û—à–∏–±–∫–∞:** –ö–æ–≥–¥–∞ —Å–ª–∞–π—Å—ã —Å–ª–∏—à–∫–æ–º —Å–∏–ª—å–Ω–æ –∑–∞–≤–∏—Å—è—Ç –¥—Ä—É–≥ –æ—Ç –¥—Ä—É–≥–∞, –∏–ª–∏ A –≤—ã–∑—ã–≤–∞–µ—Ç B, –∞ B –≤—ã–∑—ã–≤–∞–µ—Ç A. –≠—Ç–æ —É—Å–ª–æ–∂–Ω—è–µ—Ç –ø–æ–Ω–∏–º–∞–Ω–∏–µ –ø–æ—Ç–æ–∫–∞ –¥–∞–Ω–Ω—ã—Ö –∏ –º–æ–∂–µ—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ —Ç—Ä—É–¥–Ω–æ–æ—Ç–ª–∞–≤–ª–∏–≤–∞–µ–º—ã–º –±–∞–≥–∞–º.
    *   **–†–µ—à–µ–Ω–∏–µ:** –°—Ç–∞—Ä–∞–π—Ç–µ—Å—å –¥–µ–ª–∞—Ç—å —Å–ª–∞–π—Å—ã –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã–º–∏. –ï—Å–ª–∏ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `get()` –¥–ª—è *—á—Ç–µ–Ω–∏—è* —Å–æ—Å—Ç–æ—è–Ω–∏—è –∏–∑ –¥—Ä—É–≥–∏—Ö —Å–ª–∞–π—Å–æ–≤ –∏ –¥–ª—è –≤—ã–∑–æ–≤–∞ –∏—Ö *–¥–µ–π—Å—Ç–≤–∏–π*, –Ω–æ –∏–∑–±–µ–≥–∞–π—Ç–µ —Å–∏—Ç—É–∞—Ü–∏–∏, –∫–æ–≥–¥–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–µ –≤ —Å–ª–∞–π—Å–µ A *–≤—Å–µ–≥–¥–∞* —Ç—Ä–∏–≥–≥–µ—Ä–∏—Ç —Å–ª–æ–∂–Ω–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ –≤ —Å–ª–∞–π—Å–µ B, –∫–æ—Ç–æ—Ä–æ–µ –∑–∞—Ç–µ–º –≤–ª–∏—è–µ—Ç –Ω–∞ A. –ò–Ω–æ–≥–¥–∞ –ª—É—á—à–µ –≤—ã–Ω–µ—Å—Ç–∏ –æ–±—â—É—é –ª–æ–≥–∏–∫—É –≤ —É—Ç–∏–ª–∏—Ç–∞—Ä–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é –∏–ª–∏ —Å–æ–∑–¥–∞—Ç—å "–∫–æ–æ—Ä–¥–∏–Ω–∏—Ä—É—é—â–∏–π" —ç–∫—à–µ–Ω –≤ –∫–æ—Ä–Ω–µ–≤–æ–º —Å—Ç–æ—Ä–µ.

### üéØ –ü—Ä–∞–∫—Ç–∏–∫–∞

–í—Ä–µ–º—è –∑–∞–∫—Ä–µ–ø–∏—Ç—å –∑–Ω–∞–Ω–∏—è! –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤–æ–µ Zustand-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∏–ª–∏ —Ä–∞—Å—à–∏—Ä—å—Ç–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–µ, –∏—Å–ø–æ–ª—å–∑—É—è –∫–æ–Ω—Ü–µ–ø—Ü–∏—é —Å–ª–∞–π—Å–æ–≤.

#### –ó–∞–¥–∞–Ω–∏–µ 1: –°–æ–∑–¥–∞–Ω–∏–µ –°–ª–∞–π—Å–∞ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

–°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π —Å–ª–∞–π—Å `UserSlice`, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç —É–ø—Ä–∞–≤–ª—è—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ —Ç–µ–∫—É—â–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ.

*   **–°–æ—Å—Ç–æ—è–Ω–∏–µ:**
    *   `isLoggedIn: boolean` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é `false`)
    *   `user: { id: string; username: string; email: string; } | null` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é `null`)
*   **–î–µ–π—Å—Ç–≤–∏—è:**
    *   `login(username: string, email: string): void`: –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç `isLoggedIn` –≤ `true` –∏ –∑–∞–ø–æ–ª–Ω—è–µ—Ç –æ–±—ä–µ–∫—Ç `user`.
    *   `logout(): void`: –°–±—Ä–∞—Å—ã–≤–∞–µ—Ç `isLoggedIn` –≤ `false` –∏ `user` –≤ `null`.
    *   `updateProfile(newUsername: string): void`: –û–±–Ω–æ–≤–ª—è–µ—Ç `username` —Ç–µ–∫—É—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (—Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ `isLoggedIn` —Ä–∞–≤–Ω–æ `true`).

#### –ó–∞–¥–∞–Ω–∏–µ 2: –°–ª–∞–π—Å –ö–æ—Ä–∑–∏–Ω—ã –ü–æ–∫—É–ø–æ–∫

–°–æ–∑–¥–∞–π—Ç–µ `CartSlice` –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ç–æ–≤–∞—Ä–∞–º–∏ –≤ –∫–æ—Ä–∑–∏–Ω–µ.

*   **–°–æ—Å—Ç–æ—è–Ω–∏–µ:**
    *   `items: { productId: string; name: string; price: number; quantity: number; }[]` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –ø—É—Å—Ç–æ–π –º–∞—Å—Å–∏–≤).
*   **–î–µ–π—Å—Ç–≤–∏—è:**
    *   `addItem(productId: string, name: string, price: number): void`: –î–æ–±–∞–≤–ª—è–µ—Ç —Ç–æ–≤–∞—Ä –≤ –∫–æ—Ä–∑–∏–Ω—É –∏–ª–∏ —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç –µ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ, –µ—Å–ª–∏ –æ–Ω —É–∂–µ –µ—Å—Ç—å.
    *   `removeItem(productId: string): void`: –£–¥–∞–ª—è–µ—Ç —Ç–æ–≤–∞—Ä –∏–∑ –∫–æ—Ä–∑–∏–Ω—ã.
    *   `updateQuantity(productId: string, quantity: number): void`: –û–±–Ω–æ–≤–ª—è–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–æ–≤–∞—Ä–∞. –ï—Å–ª–∏ `quantity <= 0`, —Ç–æ–≤–∞—Ä –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —É–¥–∞–ª–µ–Ω.
    *   `clearCart(): void`: –û—á–∏—â–∞–µ—Ç –≤—Å—é –∫–æ—Ä–∑–∏–Ω—É.

#### –ó–∞–¥–∞–Ω–∏–µ 3: –í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ "–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å" –∏ "–ö–æ—Ä–∑–∏–Ω–∞"

–ú–æ–¥–∏—Ñ–∏—Ü–∏—Ä—É–π—Ç–µ –≤–∞—à–∏ —Å–ª–∞–π—Å—ã –¥–ª—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —Å–ª–µ–¥—É—é—â–µ–π –ª–æ–≥–∏–∫–∏:

*   **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç—å `addItem` –æ—Ç `UserSlice`:**
    *   –ú–µ—Ç–æ–¥ `addItem` –≤ `CartSlice` –¥–æ–ª–∂–µ–Ω –ø—Ä–æ–≤–µ—Ä—è—Ç—å, –∑–∞–ª–æ–≥–∏–Ω–µ–Ω –ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å (–∏—Å–ø–æ–ª—å–∑—É—è `get()` –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ `UserSlice`). –ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –∑–∞–ª–æ–≥–∏–Ω–µ–Ω, —Ç–æ–≤–∞—Ä –Ω–µ –¥–æ–ª–∂–µ–Ω –¥–æ–±–∞–≤–ª—è—Ç—å—Å—è –≤ –∫–æ—Ä–∑–∏–Ω—É, –∏ –≤ –∫–æ–Ω—Å–æ–ª—å –¥–æ–ª–∂–Ω–æ –≤—ã–≤–æ–¥–∏—Ç—å—Å—è –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ.
*   **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç—å `clearCart` –æ—Ç `UserSlice` (–ë–æ–Ω—É—Å):**
    *   –ú–µ—Ç–æ–¥ `clearCart` –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –¥–æ—Å—Ç—É–ø–µ–Ω —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∑–∞–ª–æ–≥–∏–Ω–µ–Ω. –ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –∑–∞–ª–æ–≥–∏–Ω–µ–Ω, –∫–æ—Ä–∑–∏–Ω–∞ –Ω–µ –æ—á–∏—â–∞–µ—Ç—Å—è.

–û–±—ä–µ–¥–∏–Ω–∏—Ç–µ `UserSlice`, `CartSlice` –∏ (–ø–æ –∂–µ–ª–∞–Ω–∏—é) `BearSlice` –∏–∑ —É—Ä–æ–∫–∞ –≤ –µ–¥–∏–Ω—ã–π `AppStoreState` –∏ `useAppStore`.

### üí° –°–æ–≤–µ—Ç

–î—É–º–∞–π—Ç–µ –æ –≤–∞—à–∏—Ö —Å–ª–∞–π—Å–∞—Ö –∫–∞–∫ –æ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–∞—Ö –≤–Ω—É—Ç—Ä–∏ –≤–∞—à–µ–≥–æ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞. –ö–∞–∂–¥—ã–π –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ —Å–≤–æ—é —É–∑–∫—É—é –æ–±–ª–∞—Å—Ç—å, –∏–º–µ–µ—Ç —Å–≤–æ–π API (—Å–æ—Å—Ç–æ—è–Ω–∏–µ + –¥–µ–π—Å—Ç–≤–∏—è) –∏ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤—É–µ—Ç —Å –¥—Ä—É–≥–∏–º–∏ —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ —á–µ—Ç–∫–æ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–µ –∫–æ–Ω—Ç—Ä–∞–∫—Ç—ã (—Ç–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π `get`). –≠—Ç–æ –¥–µ–ª–∞–µ—Ç –≤–∞—à—É –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É –ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–æ–π –∏ –ª–µ–≥–∫–æ –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ–π. –ù–µ –±–æ–π—Ç–µ—Å—å —Å–æ–∑–¥–∞–≤–∞—Ç—å –º–Ω–æ–≥–æ –º–∞–ª–µ–Ω—å–∫–∏—Ö, —Å—Ñ–æ–∫—É—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Å–ª–∞–π—Å–æ–≤ ‚Äî —ç—Ç–æ –≥–æ—Ä–∞–∑–¥–æ –ª—É—á—à–µ, —á–µ–º –æ–¥–∏–Ω –æ–≥—Ä–æ–º–Ω—ã–π.



## –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π –ø—Ä–∏–º–µ—Ä

<Playground
  template="vanilla-ts"
  files={{
    "/index.html": `
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Zustand Slices</title>
    <style>
        body { background-color: #282c34; color: white; font-family: sans-serif; display: flex; flex-direction: column; align-items: center; }
        button { background-color: #61dafb; border: none; padding: 8px 16px; cursor: pointer; color: #282c34; }
    </style>
</head>
<body>
    <h1>Zustand Slices Demo</h1>
    <div id="bearCounter">
        <h2>Bears: <span id="bearCount">0</span></h2>
        <button id="increaseBear">Add Bear</button>
    </div>

    <script>
        const createState = () => ({
            bears: 0,
            increaseBears: () => {
                set((state) => ({ bears: state.bears + 1 }));
            },
        });

        const \{create} = (() => {
            let store;
            const set = (fn) => {
                store = Object.assign(\{\}, store, typeof fn === 'function' ? fn(store) : fn);
                listeners.forEach(listener => listener(store));
            };
            const get = () => store;
            const subscribe = (listener) => {
                listeners.push(listener);
                return () => listeners = listeners.filter(l => l !== listener);
            };
            let listeners = [];
            const create = (fn) => {
                store = fn(set, get, subscribe);
                return () => store;
            };
            return { create };
        })();

        const useBearStore = create(createState);

        const bearCountElement = document.getElementById('bearCount');
        const increaseBearButton = document.getElementById('increaseBear');

        const updateBearCount = () => {
            bearCountElement.textContent = useBearStore().bears;
        };

        useBearStore.subscribe(updateBearCount);
        updateBearCount();

        increaseBearButton.addEventListener('click', () => {
            useBearStore().increaseBears();
        });
    <\/script>
</body>
</html>
`
  }}
/>
