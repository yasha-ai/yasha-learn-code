## TypeScript: Mapped Type Modifiers

–ü—Ä–∏–≤–µ—Ç, –¥—Ä—É–∑—å—è! –Ø—à–∞ —Å–Ω–æ–≤–∞ –Ω–∞ —Å–≤—è–∑–∏, –∏ —Å–µ–≥–æ–¥–Ω—è –º—ã –ø–æ–≥—Ä—É–∑–∏–º—Å—è –≤ –æ–¥–Ω—É –∏–∑ —Å–∞–º—ã—Ö –º–æ—â–Ω—ã—Ö –∏ –≥–∏–±–∫–∏—Ö —Ñ–∏—á TypeScript ‚Äî **Mapped Type Modifiers**. –ï—Å–ª–∏ –≤—ã —É–∂–µ –æ—Å–≤–æ–∏–ª–∏ –¥–∂–µ–Ω–µ—Ä–∏–∫–∏ –∏ –æ–±—ã—á–Ω—ã–µ Mapped Types, —Ç–æ modifiers —Å—Ç–∞–Ω—É—Ç –≤–∞—à–∏–º —Å–ª–µ–¥—É—é—â–∏–º —É—Ä–æ–≤–Ω–µ–º –ø—Ä–æ–∫–∞—á–∫–∏ —Ç–∏–ø–∏–∑–∞—Ü–∏–∏. –û–Ω–∏ –ø–æ–∑–≤–æ–ª—è—é—Ç –Ω–∞–º –Ω–µ –ø—Ä–æ—Å—Ç–æ —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—å —Ç–∏–ø—ã, –Ω–æ –∏ —É–ø—Ä–∞–≤–ª—è—Ç—å –∏—Ö —Å–≤–æ–π—Å—Ç–≤–∞–º–∏: –¥–µ–ª–∞—Ç—å –∏—Ö –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–º–∏, –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–º–∏, —Ç–æ–ª—å–∫–æ –¥–ª—è —á—Ç–µ–Ω–∏—è –∏–ª–∏ –∏–∑–º–µ–Ω—è–µ–º—ã–º–∏.

–ü—Ä–µ–¥—Å—Ç–∞–≤—å—Ç–µ, —á—Ç–æ —É –≤–∞—Å –µ—Å—Ç—å –Ω–∞–±–æ—Ä –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª–µ–π –Ω–∞ –ø–∞–Ω–µ–ª–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è. –û–±—ã—á–Ω—ã–µ Mapped Types –ø–æ–∑–≤–æ–ª—è—é—Ç –≤–∞–º "–ø–µ—Ä–µ–Ω–∞—Å—Ç—Ä–æ–∏—Ç—å" –∫–∞–∂–¥—ã–π –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å (–∏–∑–º–µ–Ω–∏—Ç—å –µ–≥–æ —Ç–∏–ø). –ê Mapped Type Modifiers ‚Äî —ç—Ç–æ —Ä—É–±–∏–ª—å–Ω–∏–∫–∏, –∫–æ—Ç–æ—Ä—ã–µ –ø–æ–∑–≤–æ–ª—è—é—Ç –≤–∞–º —Å–¥–µ–ª–∞—Ç—å —ç—Ç–æ—Ç –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å **–Ω–µ–ø–æ–¥–≤–∏–∂–Ω—ã–º** (`readonly`) –∏–ª–∏ **–ø–æ–∑–≤–æ–ª–∏—Ç—å –µ–≥–æ –ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å** (`optional`). –ò —á—Ç–æ —Å–∞–º–æ–µ –∫—Ä—É—Ç–æ–µ, –≤—ã –º–æ–∂–µ—Ç–µ –∫–∞–∫ *–¥–æ–±–∞–≤–ª—è—Ç—å*, —Ç–∞–∫ –∏ *—É–¥–∞–ª—è—Ç—å* —ç—Ç–∏ —Å–≤–æ–π—Å—Ç–≤–∞! –ü–æ–≥–Ω–∞–ª–∏!

### –ß—Ç–æ —Ç–∞–∫–æ–µ Mapped Type Modifiers –∏ –∑–∞—á–µ–º –æ–Ω–∏ –Ω—É–∂–Ω—ã?

–ö–∞–∫ –≤—ã –ø–æ–º–Ω–∏—Ç–µ, Mapped Types –ø–æ–∑–≤–æ–ª—è—é—Ç –Ω–∞–º –∏—Ç–µ—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è –ø–æ —Å–≤–æ–π—Å—Ç–≤–∞–º —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ —Ç–∏–ø–∞ –∏ —Å–æ–∑–¥–∞–≤–∞—Ç—å –Ω–æ–≤—ã–π —Ç–∏–ø, —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∏—Ä—É—è –∫–∞–∂–¥–æ–µ —Å–≤–æ–π—Å—Ç–≤–æ. –ù–∞–ø—Ä–∏–º–µ—Ä, `[P in keyof T]: T[P]` ‚Äî —ç—Ç–æ –±–∞–∑–æ–≤—ã–π Mapped Type, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–æ—Å—Ç–æ –∫–æ–ø–∏—Ä—É–µ—Ç —Å–≤–æ–π—Å—Ç–≤–∞.

–ú–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã (modifiers) –¥–æ–±–∞–≤–ª—è—é—Ç –∫ —ç—Ç–æ–π –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –Ω–æ–≤—ã–π —É—Ä–æ–≤–µ–Ω—å –∫–æ–Ω—Ç—Ä–æ–ª—è: –æ–Ω–∏ –ø–æ–∑–≤–æ–ª—è—é—Ç –Ω–∞–º –∏–∑–º–µ–Ω—è—Ç—å –∞—Ç—Ä–∏–±—É—Ç—ã —Å–≤–æ–π—Å—Ç–≤:
*   `readonly` ‚Äî –¥–µ–ª–∞–µ—Ç —Å–≤–æ–π—Å—Ç–≤–æ –¥–æ—Å—Ç—É–ø–Ω—ã–º —Ç–æ–ª—å–∫–æ –¥–ª—è —á—Ç–µ–Ω–∏—è.
*   `?` ‚Äî –¥–µ–ª–∞–µ—Ç —Å–≤–æ–π—Å—Ç–≤–æ –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–º (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–º).

–°–∞–º–æ–µ –∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ–µ, —á—Ç–æ –º—ã –º–æ–∂–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø—Ä–µ—Ñ–∏–∫—Å—ã `+` –∏–ª–∏ `-` –ø–µ—Ä–µ–¥ –º–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä–æ–º.
*   `+` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é) ‚Äî **–¥–æ–±–∞–≤–∏—Ç—å** –º–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä.
*   `-` ‚Äî **—É–¥–∞–ª–∏—Ç—å** –º–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä.

–≠—Ç–æ –Ω–µ–≤–µ—Ä–æ—è—Ç–Ω–æ —É–¥–æ–±–Ω–æ, –∫–æ–≥–¥–∞ –≤–∞–º –Ω—É–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å –ø—Ä–æ–∏–∑–≤–æ–¥–Ω—ã–π —Ç–∏–ø, –∫–æ—Ç–æ—Ä—ã–π –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è –æ—Ç –∏—Å—Ö–æ–¥–Ω–æ–≥–æ —Ç–æ–ª—å–∫–æ –≤ –æ–¥–Ω–æ–º –∏–ª–∏ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –∞—Å–ø–µ–∫—Ç–∞—Ö, –∫–∞—Å–∞—é—â–∏—Ö—Å—è –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏ –∏–ª–∏ –∏–∑–º–µ–Ω—è–µ–º–æ—Å—Ç–∏.

### –ë–∞–∑–æ–≤—ã–µ –ú–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã –∏ –∏—Ö –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ

–î–∞–≤–∞–π—Ç–µ –ø–æ—Å–º–æ—Ç—Ä–∏–º –Ω–∞ –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–µ –ø—Ä–∏–º–µ—Ä—ã, –∫–æ—Ç–æ—Ä—ã–µ –≤—ã, –≤–æ–∑–º–æ–∂–Ω–æ, —É–∂–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏, –Ω–æ –Ω–µ –∑–Ω–∞–ª–∏, –∫–∞–∫ –æ–Ω–∏ —Ä–∞–±–æ—Ç–∞—é—Ç "–ø–æ–¥ –∫–∞–ø–æ—Ç–æ–º".

```typescript
// –û–ø—Ä–µ–¥–µ–ª–∏–º –±–∞–∑–æ–≤—ã–π —Ç–∏–ø, —Å –∫–æ—Ç–æ—Ä—ã–º –±—É–¥–µ–º —Ä–∞–±–æ—Ç–∞—Ç—å
interface UserProfile {
    id: string;
    name: string;
    email?: string; // –ü–æ–ª–µ email —É–∂–µ –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ
    age: number;
    isActive: boolean;
}

// 1. –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –º–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä–∞ 'readonly'
// –¢–∏–ø Readonly<T> –¥–µ–ª–∞–µ—Ç –≤—Å–µ —Å–≤–æ–π—Å—Ç–≤–∞ T –¥–æ—Å—Ç—É–ø–Ω—ã–º–∏ —Ç–æ–ª—å–∫–æ –¥–ª—è —á—Ç–µ–Ω–∏—è.
// –≠—Ç–æ —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∏: { readonly [P in keyof T]: T[P] }
type ImmutableUserProfile = {
    +readonly [P in keyof UserProfile]: UserProfile[P]; // +readonly —è–≤–Ω–æ –¥–æ–±–∞–≤–ª—è–µ—Ç –º–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä
};

const user1: ImmutableUserProfile = {
    id: "u123",
    name: "Alice",
    age: 30,
    isActive: true,
};
// user1.name = "Bob"; // –û—à–∏–±–∫–∞: –ù–µ–≤–æ–∑–º–æ–∂–Ω–æ –ø—Ä–∏—Å–≤–æ–∏—Ç—å "name", —Ç–∞–∫ –∫–∞–∫ —ç—Ç–æ —Å–≤–æ–π—Å—Ç–≤–æ —Ç–æ–ª—å–∫–æ –¥–ª—è —á—Ç–µ–Ω–∏—è.

// 2. –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –º–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä–∞ '?' (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å)
// –¢–∏–ø Partial<T> –¥–µ–ª–∞–µ—Ç –≤—Å–µ —Å–≤–æ–π—Å—Ç–≤–∞ T –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–º–∏.
// –≠—Ç–æ —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∏: { [P in keyof T]?: T[P] } –∏–ª–∏ { +? [P in keyof T]: T[P] }
type UpdatableUserProfile = {
    +? [P in keyof UserProfile]: UserProfile[P]; // +? —è–≤–Ω–æ –¥–æ–±–∞–≤–ª—è–µ—Ç –º–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä
};

const userUpdate: UpdatableUserProfile = {
    name: "Alicia", // id –∏ age –Ω–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã
};
const userUpdate2: UpdatableUserProfile = { // email –±—ã–ª –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–º, —Ç–∞–∫–∏–º –∏ –æ—Å—Ç–∞–ª—Å—è
    name: "Bob",
    email: undefined,
};

// 3. –£–¥–∞–ª–µ–Ω–∏–µ –º–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä–∞ 'readonly'
// –°–æ–∑–¥–∞–¥–∏–º —Ç–∏–ø, –∫–æ—Ç–æ—Ä—ã–π –¥–µ–ª–∞–µ—Ç –≤—Å–µ —Å–≤–æ–π—Å—Ç–≤–∞ –∏–∑–º–µ–Ω—è–µ–º—ã–º–∏, –¥–∞–∂–µ –µ—Å–ª–∏ –æ–Ω–∏ –±—ã–ª–∏ readonly.
type Mutable<T> = {
    -readonly [P in keyof T]: T[P]; // -readonly —É–¥–∞–ª—è–µ—Ç –º–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä readonly
};

interface ReadonlyConfig {
    readonly host: string;
    readonly port: number;
    debug: boolean;
}

type WritableConfig = Mutable<ReadonlyConfig>;

const config: WritableConfig = {
    host: "localhost",
    port: 8080,
    debug: true,
};
config.host = "127.0.0.1"; // –¢–µ–ø–µ—Ä—å —ç—Ç–æ —Ä–∞–∑—Ä–µ—à–µ–Ω–æ!
config.debug = false; // debug –∏ —Ç–∞–∫ –±—ã–ª –∏–∑–º–µ–Ω—è–µ–º—ã–º, –Ω–∏—á–µ–≥–æ –Ω–µ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å

// 4. –£–¥–∞–ª–µ–Ω–∏–µ –º–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä–∞ '?' (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å)
// –¢–∏–ø Required<T> –¥–µ–ª–∞–µ—Ç –≤—Å–µ —Å–≤–æ–π—Å—Ç–≤–∞ T –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–º–∏.
// –≠—Ç–æ —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∏: { [P in keyof T]-?: T[P] }
type CompleteUserProfile = {
    -? [P in keyof UserProfile]: UserProfile[P]; // -? —É–¥–∞–ª—è–µ—Ç –º–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏
};

const completeUser: CompleteUserProfile = {
    id: "u456",
    name: "Charlie",
    age: 25,
    isActive: false,
    email: "charlie@example.com", // email —Ç–µ–ø–µ—Ä—å –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω!
};
// const incompleteUser: CompleteUserProfile = { id: "u789", name: "Dave", age: 40, isActive: true };
// –û—à–∏–±–∫–∞: –°–≤–æ–π—Å—Ç–≤–æ "email" –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –≤ —Ç–∏–ø–µ "CompleteUserProfile".
```

### –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ —Ç–µ—Ö–Ω–∏–∫–∏: –ö–æ–º–±–∏–Ω–∞—Ü–∏–∏ –∏ —É—Å–ª–æ–≤–Ω—ã–µ —Ç–∏–ø—ã

–ú–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã —Å—Ç–∞–Ω–æ–≤—è—Ç—Å—è –ø–æ-–Ω–∞—Å—Ç–æ—è—â–µ–º—É –º–æ—â–Ω—ã–º–∏, –∫–æ–≥–¥–∞ –º—ã –∫–æ–º–±–∏–Ω–∏—Ä—É–µ–º –∏—Ö —Å –¥—Ä—É–≥–∏–º–∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—è–º–∏ TypeScript, —Ç–∞–∫–∏–º–∏ –∫–∞–∫ —É—Å–ª–æ–≤–Ω—ã–µ —Ç–∏–ø—ã (conditional types).

```typescript
// 5. –ö–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –º–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä–æ–≤
// –°–æ–∑–¥–∞–¥–∏–º —Ç–∏–ø, –≤ –∫–æ—Ç–æ—Ä–æ–º –≤—Å–µ —Å–≤–æ–π—Å—Ç–≤–∞ –±—É–¥—É—Ç Readonly –ò Optional.
type ReadonlyPartial<T> = {
    +readonly +? [P in keyof T]: T[P];
};

type PreviewUserProfile = ReadonlyPartial<UserProfile>;

const previewUser: PreviewUserProfile = {
    name: "Eve", // name –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ
};
// previewUser.name = "Fiona"; // –û—à–∏–±–∫–∞: –°–≤–æ–π—Å—Ç–≤–æ "name" –¥–æ—Å—Ç—É–ø–Ω–æ —Ç–æ–ª—å–∫–æ –¥–ª—è —á—Ç–µ–Ω–∏—è.

// 6. –í—ã–±–æ—Ä–æ—á–Ω–æ–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –º–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä–æ–≤ —Å –ø–æ–º–æ—â—å—é —É—Å–ª–æ–≤–Ω—ã—Ö —Ç–∏–ø–æ–≤
// –î–æ–ø—É—Å—Ç–∏–º, –º—ã —Ö–æ—Ç–∏–º —Å–¥–µ–ª–∞—Ç—å —Ç–æ–ª—å–∫–æ —Ç–µ —Å–≤–æ–π—Å—Ç–≤–∞ –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–º–∏, –∫–æ—Ç–æ—Ä—ã–µ –∏–º–µ—é—Ç —Ç–∏–ø string.
type OptionalStrings<T> = {
    [P in keyof T]: T[P] extends string ? T[P] | undefined : T[P]; // –≠—Ç–æ –ø—Ä–æ—Å—Ç–æ –¥–µ–ª–∞–µ—Ç string | undefined, –∞ –Ω–µ –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–º
};
// –ù–ï –¢–ê–ö! –¢–∞–∫ –º—ã –º–µ–Ω—è–µ–º —Ç–∏–ø –∑–Ω–∞—á–µ–Ω–∏—è, –∞ –Ω–µ —Å–≤–æ–π—Å—Ç–≤–æ.
// –í–æ—Ç –∫–∞–∫ –Ω–∞–¥–æ, –µ—Å–ª–∏ —Ö–æ—Ç–∏–º –∏–∑–º–µ–Ω–∏—Ç—å –º–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä:
type OptionalStringProperties<T> = {
    [P in keyof T as T[P] extends string ? P : never]?: T[P]; // –î–µ–ª–∞–µ–º –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–º–∏ —Ç–æ–ª—å–∫–æ —Å—Ç—Ä–æ–∫–æ–≤—ã–µ —Å–≤–æ–π—Å—Ç–≤–∞
    [P in keyof T as T[P] extends string ? never : P]: T[P]; // –û—Å—Ç–∞–ª—å–Ω—ã–µ —Å–≤–æ–π—Å—Ç–≤–∞ –æ—Å—Ç–∞–≤–ª—è–µ–º –∫–∞–∫ –µ—Å—Ç—å
};

type MixedUserProfile = OptionalStringProperties<UserProfile>;
/*
–†–µ–∑—É–ª—å—Ç–∞—Ç MixedUserProfile:
{
    id?: string | undefined; // string => optional
    name?: string | undefined; // string => optional
    email?: string | undefined; // string => optional (–±—ã–ª–æ)
    age: number; // number => mandatory
    isActive: boolean; // boolean => mandatory
}
*/
const mixedUser: MixedUserProfile = {
    age: 40,
    isActive: true,
};
// mixedUser.id = "new_id"; // –†–∞–∑—Ä–µ—à–µ–Ω–æ, —Ç–∞–∫ –∫–∞–∫ id –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ

// –î—Ä—É–≥–æ–π –ø—Ä–∏–º–µ—Ä: –¥–µ–ª–∞–µ–º —Ñ—É–Ω–∫—Ü–∏–∏ Readonly
interface Service {
    id: string;
    getName(): string;
    updateData(data: any): void;
    config: { version: string };
}

type ReadonlyMethods<T> = {
    [P in keyof T]: T[P] extends Function ? Readonly<T[P]> : T[P];
};
// –û–π, `Readonly<T[P]>` –Ω–µ —Å–æ–≤—Å–µ–º —Ç–æ, —á—Ç–æ –Ω–∞–º –Ω—É–∂–Ω–æ –¥–ª—è —Ñ—É–Ω–∫—Ü–∏–π,
// —Ç–∞–∫ –∫–∞–∫ —Ñ—É–Ω–∫—Ü–∏–∏ –Ω–µ –∏–º–µ—é—Ç –∏–∑–º–µ–Ω—è–µ–º—ã—Ö —Å–≤–æ–π—Å—Ç–≤ –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ Mapped Types.
// –¶–µ–ª—å: —Å–¥–µ–ª–∞—Ç—å —Å–∞–º –≤—ã–∑–æ–≤ —Ñ—É–Ω–∫—Ü–∏–∏ –Ω–µ–∏–∑–º–µ–Ω—è–µ–º—ã–º? –ù–µ—Ç, —ç—Ç–æ –Ω–µ –∏–º–µ–µ—Ç —Å–º—ã—Å–ª–∞.
// –¶–µ–ª—å: —á—Ç–æ–±—ã —Å–≤–æ–π—Å—Ç–≤–æ, –∫–æ—Ç–æ—Ä–æ–µ —è–≤–ª—è–µ—Ç—Å—è —Ñ—É–Ω–∫—Ü–∏–µ–π, –±—ã–ª–æ readonly.
// –≠—Ç–æ –¥–æ—Å—Ç–∏–≥–∞–µ—Ç—Å—è –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ–º readonly –∫ —Å–∞–º–æ–º—É —Å–≤–æ–π—Å—Ç–≤—É.
type ReadonlyFunctionProperties<T> = {
    [P in keyof T as T[P] extends Function ? P : never]: T[P]; // –§—É–Ω–∫—Ü–∏–∏ (–∫–∞–∫ readonly)
    -readonly [P in keyof T as T[P] extends Function ? never : P]: T[P]; // –ù–µ-—Ñ—É–Ω–∫—Ü–∏–∏ (–∫–∞–∫ –∏–∑–º–µ–Ω—è–µ–º—ã–µ)
};
// –° –º–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä–æ–º +readonly –ø–µ—Ä–µ–¥ –≤—Å–µ–º–∏ —Å–≤–æ–π—Å—Ç–≤–∞–º–∏, –∞ –ø–æ—Ç–æ–º —É–¥–∞–ª—è–µ–º –¥–ª—è –Ω–µ-—Ñ—É–Ω–∫—Ü–∏–π
type ReadonlyFunctionsOnly<T> = {
    +readonly [P in keyof T]: T[P]
};
// ...–Ω–æ —ç—Ç–æ —Å–¥–µ–ª–∞–µ—Ç –≤—Å–µ —Å–≤–æ–π—Å—Ç–≤–∞ readonly, –∞ –Ω–µ —Ç–æ–ª—å–∫–æ —Ñ—É–Ω–∫—Ü–∏–∏.
// –ë–æ–ª–µ–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø–æ–¥—Ö–æ–¥:

type MakeFunctionsReadonly<T> = {
    [P in keyof T]: T[P];
} & {
    +readonly [P in keyof T as T[P] extends Function ? P : never]: T[P];
};
// –≠—Ç–æ —Ç–æ–∂–µ –Ω–µ —Å–æ–≤—Å–µ–º —Ç–æ, —á—Ç–æ –Ω—É–∂–Ω–æ.
// –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –º–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä–∞ –Ω–∞ –æ—Å–Ω–æ–≤–µ —É—Å–ª–æ–≤–∏—è:
type ConditionalReadonly<T> = {
    [P in keyof T]: T[P]
}; // Base type, no modifiers yet

type FunctionPropsReadonly<T> = {
    [P in keyof T]: P extends keyof T ? (T[P] extends Function ? P : never) : never
};

// –í–æ—Ç —Ç–∞–∫:
type ReadonlyFunctions<T> = {
    [P in keyof T]: T[P]
} & {
    [P in keyof T as T[P] extends (...args: any[]) => any ? P : never]: Readonly<T[P]>;
}; // –≠—Ç–æ –¥–µ–ª–∞–µ—Ç —Ç–∏–ø T[P] readonly, –Ω–æ –Ω–µ —Å–∞–º–æ —Å–≤–æ–π—Å—Ç–≤–æ!

// –ù–∞–∫–æ–Ω–µ—Ü, –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Å–ø–æ—Å–æ–± –¥–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã —Å–¥–µ–ª–∞—Ç—å *—Å–≤–æ–π—Å—Ç–≤–∞-—Ñ—É–Ω–∫—Ü–∏–∏* —Ç–æ–ª—å–∫–æ –¥–ª—è —á—Ç–µ–Ω–∏—è:
type ServiceWithReadonlyMethods = {
    [P in keyof Service as Service[P] extends Function ? P : never]: Service[P]; // –û—Å—Ç–∞–≤–ª—è–µ–º —Ñ—É–Ω–∫—Ü–∏–∏
    [P in keyof Service as Service[P] extends Function ? never : P]: Service[P]; // –û—Å—Ç–∞–≤–ª—è–µ–º –Ω–µ-—Ñ—É–Ω–∫—Ü–∏–∏
} & {
    +readonly [P in keyof Service as Service[P] extends Function ? P : never]: Service[P]; // –î–µ–ª–∞–µ–º —Ñ—É–Ω–∫—Ü–∏–∏ readonly
};
// –≠—Ç–æ –¥–æ–≤–æ–ª—å–Ω–æ —Å–ª–æ–∂–Ω–æ –∏ –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç, —á—Ç–æ –¥–ª—è —Ç–∞–∫–æ–π —Ç–æ–Ω–∫–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∏–Ω–æ–≥–¥–∞ –ø—Ä–∏—Ö–æ–¥–∏—Ç—Å—è –∫–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞—Ç—å Mapped Types.
// –ü—Ä–æ—â–µ –≥–æ–≤–æ—Ä—è:
type ReadonlyMethodsExplicit<T> = {
    [P in keyof T as T[P] extends Function ? P : never]: T[P]
} & {
    [P in keyof T as T[P] extends Function ? never : P]-readonly?: T[P] // –í—Å–µ –æ—Å—Ç–∞–ª—å–Ω—ã–µ –¥–µ–ª–∞–µ–º –∏–∑–º–µ–Ω—è–µ–º—ã–º–∏ –∏ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–º–∏
};

// –ë–æ–ª–µ–µ –ø—Ä–æ—Å—Ç–æ –∏ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ:
type MakeMethodsReadonly<T> = {
    [P in keyof T]: T[P]
} & {
    +readonly [K in keyof T as T[K] extends (...args: any[]) => any ? K : never]: T[K];
};

type ReadonlyService = MakeMethodsReadonly<Service>;
const myService: ReadonlyService = {
    id: "srv1",
    getName: () => "My Service",
    updateData: (data) => console.log(data),
    config: { version: "1.0" },
};

// myService.getName = () => "New Name"; // –û—à–∏–±–∫–∞: –ù–µ–≤–æ–∑–º–æ–∂–Ω–æ –ø—Ä–∏—Å–≤–æ–∏—Ç—å "getName", —Ç–∞–∫ –∫–∞–∫ —ç—Ç–æ —Å–≤–æ–π—Å—Ç–≤–æ —Ç–æ–ª—å–∫–æ –¥–ª—è —á—Ç–µ–Ω–∏—è.
myService.config.version = "1.1"; // –†–∞–∑—Ä–µ—à–µ–Ω–æ, —Ç–∞–∫ –∫–∞–∫ config –Ω–µ —Ñ—É–Ω–∫—Ü–∏—è
```

### –¢–∏–ø–∏—á–Ω—ã–µ –æ—à–∏–±–∫–∏

1.  **–ó–∞–±—ã—Ç—å `keyof` –∏–ª–∏ `in`:** Mapped Types –≤—Å–µ–≥–¥–∞ –Ω–∞—á–∏–Ω–∞—é—Ç—Å—è —Å `[P in keyof T]`. –ë–µ–∑ —ç—Ç–æ–≥–æ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞ TypeScript –Ω–µ –ø–æ–π–º–µ—Ç, –ø–æ –∫–∞–∫–∏–º —Å–≤–æ–π—Å—Ç–≤–∞–º –Ω—É–∂–Ω–æ –∏—Ç–µ—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è.
2.  **–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `+` / `-`:** –ï—Å–ª–∏ –≤—ã —Ö–æ—Ç–∏—Ç–µ *–¥–æ–±–∞–≤–∏—Ç—å* –º–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä, –≤—ã –º–æ–∂–µ—Ç–µ –æ–ø—É—Å—Ç–∏—Ç—å `+` (–ø–æ—Å–∫–æ–ª—å–∫—É —ç—Ç–æ –ø–æ–≤–µ–¥–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é), –Ω–æ –¥–ª—è *—É–¥–∞–ª–µ–Ω–∏—è* ` - ` –≤—Å–µ–≥–¥–∞ –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω.
3.  **–ü–æ–ø—ã—Ç–∫–∞ –∏–∑–º–µ–Ω–∏—Ç—å —Ç–∏–ø —Å–≤–æ–π—Å—Ç–≤–∞ –≤–º–µ—Å—Ç–æ –º–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä–∞:** –ü–æ–º–Ω–∏—Ç–µ, —á—Ç–æ `T[P] extends string ? string | undefined : T[P]` –∏–∑–º–µ–Ω—è–µ—Ç *—Ç–∏–ø –∑–Ω–∞—á–µ–Ω–∏—è*, –∞ –Ω–µ –¥–µ–ª–∞–µ—Ç —Å–≤–æ–π—Å—Ç–≤–æ *–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–º*. –î–ª—è –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏ –Ω—É–∂–µ–Ω `?` –∏–ª–∏ `-?`.

### üéØ –ü—Ä–∞–∫—Ç–∏–∫–∞

–í–∞—à–∞ –∑–∞–¥–∞—á–∞, –º–æ–π –¥–æ—Ä–æ–≥–æ–π –∫–æ–¥–µ—Ä, –ø—Ä–∏–º–µ–Ω–∏—Ç—å –ø–æ–ª—É—á–µ–Ω–Ω—ã–µ –∑–Ω–∞–Ω–∏—è –Ω–∞ –ø—Ä–∞–∫—Ç–∏–∫–µ.

1.  **–°–æ–∑–¥–∞–π—Ç–µ —Ç–∏–ø `NullableProperties<T>`:** –≠—Ç–æ—Ç —Ç–∏–ø –¥–æ–ª–∂–µ–Ω —Å–¥–µ–ª–∞—Ç—å –≤—Å–µ —Å–≤–æ–π—Å—Ç–≤–∞ `T` –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–º–∏ (`?`) –∏ –¥–æ–±–∞–≤–∏—Ç—å –∏–º —Ç–∏–ø `null | undefined`. –ò—Å—Ö–æ–¥–Ω—ã–π `email` –≤ `UserProfile` –¥–æ–ª–∂–µ–Ω –æ—Å—Ç–∞—Ç—å—Å—è `string | null | undefined`.
    ```typescript
    // –ü—Ä–∏–º–µ—Ä –¥–ª—è UserProfile:
    // {
    //   id?: string | null | undefined;
    //   name?: string | null | undefined;
    //   email?: string | null | undefined;
    //   age?: number | null | undefined;
    //   isActive?: boolean | null | undefined;
    // }
    ```
2.  **–°–æ–∑–¥–∞–π—Ç–µ —Ç–∏–ø `DeepReadonly<T>`:** –≠—Ç–æ—Ç —Ç–∏–ø –¥–æ–ª–∂–µ–Ω —Ä–µ–∫—É—Ä—Å–∏–≤–Ω–æ —Å–¥–µ–ª–∞—Ç—å –≤—Å–µ —Å–≤–æ–π—Å—Ç–≤–∞ –≤ `T` –∏ –≤–æ –≤—Å–µ—Ö –≤–ª–æ–∂–µ–Ω–Ω—ã—Ö –æ–±—ä–µ–∫—Ç–∞—Ö –¥–æ—Å—Ç—É–ø–Ω—ã–º–∏ —Ç–æ–ª—å–∫–æ –¥–ª—è —á—Ç–µ–Ω–∏—è.
    ```typescript
    interface Settings {
        theme: {
            primaryColor: string;
            darkMode: boolean;
        };
        apiKeys: string[];
        debug: boolean;
    }
    // DeepReadonly<Settings> –¥–æ–ª–∂–µ–Ω —Å–¥–µ–ª–∞—Ç—å 'primaryColor', 'darkMode' –∏ 'apiKeys' readonly.
    ```
3.  **–°–æ–∑–¥–∞–π—Ç–µ —Ç–∏–ø `ExcludeProperties<T, K>`:** –≠—Ç–æ—Ç —Ç–∏–ø –¥–æ–ª–∂–µ–Ω —Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π —Ç–∏–ø –∏–∑ `T`, –∏—Å–∫–ª—é—á–∏–≤ –∏–∑ –Ω–µ–≥–æ —Å–≤–æ–π—Å—Ç–≤–∞, —á—å–∏ –∫–ª—é—á–∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç —Ç–∏–ø—É `K`.
    ```typescript
    // –ü—Ä–∏–º–µ—Ä: ExcludeProperties<UserProfile, 'email' | 'age'>
    // –î–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å: { id: string; name: string; isActive: boolean; }
    ```
4.  **–°–æ–∑–¥–∞–π—Ç–µ —Ç–∏–ø `ToggleReadonly<T>`:** –≠—Ç–æ—Ç —Ç–∏–ø –¥–æ–ª–∂–µ–Ω –ø—Ä–∏–Ω—è—Ç—å `T` –∏ —Å–¥–µ–ª–∞—Ç—å –≤—Å–µ –µ–≥–æ —Å–≤–æ–π—Å—Ç–≤–∞, –∫–æ—Ç–æ—Ä—ã–µ –∏–∑–Ω–∞—á–∞–ª—å–Ω–æ –±—ã–ª–∏ `readonly`, –∏–∑–º–µ–Ω—è–µ–º—ã–º–∏, –∞ —Ç–µ, —á—Ç–æ –±—ã–ª–∏ –∏–∑–º–µ–Ω—è–µ–º—ã–º–∏, —Å–¥–µ–ª–∞—Ç—å `readonly`.
    ```typescript
    interface MyImmutableData {
        readonly id: string;
        name: string;
        readonly createdAt: Date;
        updatedAt: Date;
    }
    // ToggleReadonly<MyImmutableData> –¥–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å:
    // {
    //   id: string; // —Ç–µ–ø–µ—Ä—å –∏–∑–º–µ–Ω—è–µ–º–æ
    //   readonly name: string; // —Ç–µ–ø–µ—Ä—å readonly
    //   createdAt: Date; // —Ç–µ–ø–µ—Ä—å –∏–∑–º–µ–Ω—è–µ–º–æ
    //   readonly updatedAt: Date; // —Ç–µ–ø–µ—Ä—å readonly
    // }
    ```

### üí° –°–æ–≤–µ—Ç

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Mapped Type Modifiers —Å —É–º–æ–º. –û–Ω–∏ –Ω–µ–≤–µ—Ä–æ—è—Ç–Ω–æ –º–æ—â–Ω—ã, –Ω–æ –º–æ–≥—É—Ç –±—ã—Å—Ç—Ä–æ —É—Å–ª–æ–∂–Ω–∏—Ç—å —Ç–∏–ø, –µ—Å–ª–∏ –∏—Ö –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –±–µ–∑ —á–µ—Ç–∫–æ–≥–æ –ø–æ–Ω–∏–º–∞–Ω–∏—è —Ü–µ–ª–∏. –°—Ç–∞—Ä–∞–π—Ç–µ—Å—å —Å–Ω–∞—á–∞–ª–∞ –ø–æ–Ω—è—Ç—å, –∫–∞–∫–æ–π *–∞—Ç—Ä–∏–±—É—Ç* —Å–≤–æ–π—Å—Ç–≤–∞ –≤—ã —Ö–æ—Ç–∏—Ç–µ –∏–∑–º–µ–Ω–∏—Ç—å (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å, –∏–∑–º–µ–Ω—è–µ–º–æ—Å—Ç—å), –∞ –∑–∞—Ç–µ–º —É–∂–µ –≤—ã–±–∏—Ä–∞–π—Ç–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π –º–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä (`?`, `readonly`) –∏ –ø—Ä–µ—Ñ–∏–∫—Å (`+`, `-`). –î–ª—è –±–æ–ª–µ–µ —Å–ª–æ–∂–Ω—ã—Ö —Å–ª—É—á–∞–µ–≤, –∫–æ–≥–¥–∞ –Ω—É–∂–Ω–æ –∏–∑–±–∏—Ä–∞—Ç–µ–ª—å–Ω–æ –ø—Ä–∏–º–µ–Ω—è—Ç—å –º–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã, –Ω–µ —Å—Ç–µ—Å–Ω—è–π—Ç–µ—Å—å –∫–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞—Ç—å –∏—Ö —Å `key remapping` –∏ —É—Å–ª–æ–≤–Ω—ã–º–∏ —Ç–∏–ø–∞–º–∏ (`extends`). –≠—Ç–æ –ø—É—Ç—å –∫ —Å–æ–∑–¥–∞–Ω–∏—é –ø–æ-–Ω–∞—Å—Ç–æ—è—â–µ–º—É –≥–∏–±–∫–∏—Ö –∏ –±–µ–∑–æ–ø–∞—Å–Ω—ã—Ö API!