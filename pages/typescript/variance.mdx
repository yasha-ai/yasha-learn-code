## TypeScript: –í–∞—Ä–∏–∞–Ω—Ç–Ω–æ—Å—Ç—å (Variance)

–ó–¥–∞—Ä–æ–≤–∞, –∫–æ–¥–µ—Ä—ã! –Ø—à–∞ —Å–Ω–æ–≤–∞ –Ω–∞ —Å–≤—è–∑–∏, –∏ —Å–µ–≥–æ–¥–Ω—è –º—ã –ø–æ–≥—Ä—É–∑–∏–º—Å—è –≤ –æ–¥–Ω—É –∏–∑ —Å–∞–º—ã—Ö –∑–∞–ø—É—Ç–∞–Ω–Ω—ã—Ö, –Ω–æ –≤ —Ç–æ –∂–µ –≤—Ä–µ–º—è —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–∞–ª—å–Ω—ã—Ö –∫–æ–Ω—Ü–µ–ø—Ü–∏–π –≤ –º–∏—Ä–µ —Ç–∏–ø–∏–∑–∞—Ü–∏–∏ ‚Äì **–≤–∞—Ä–∏–∞–Ω—Ç–Ω–æ—Å—Ç—å (variance)**. –ï—Å–ª–∏ –≤—ã –∫–æ–≥–¥–∞-–ª–∏–±–æ –∑–∞–¥–∞–≤–∞–ª–∏—Å—å –≤–æ–ø—Ä–æ—Å–æ–º, –ø–æ—á–µ–º—É `Array<Dog>` –∏–Ω–æ–≥–¥–∞ –º–æ–∂–Ω–æ –ø—Ä–∏—Å–≤–æ–∏—Ç—å `Array<Animal>`, –∞ –∏–Ω–æ–≥–¥–∞ –Ω–µ—Ç, –∏–ª–∏ –ø–æ—á–µ–º—É —Ñ—É–Ω–∫—Ü–∏–∏ —Å —Ä–∞–∑–Ω—ã–º–∏ —Ç–∏–ø–∞–º–∏ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤ –º–æ–≥—É—Ç –±—ã—Ç—å –≤–∑–∞–∏–º–æ–∑–∞–º–µ–Ω—è–µ–º—ã ‚Äì —ç—Ç–æ—Ç —É—Ä–æ–∫ –¥–ª—è –≤–∞—Å.

### –ß—Ç–æ —Ç–∞–∫–æ–µ –í–∞—Ä–∏–∞–Ω—Ç–Ω–æ—Å—Ç—å –∏ –ó–∞—á–µ–º –æ–Ω–∞ –ù—É–∂–Ω–∞?

–ü—Ä–µ–¥—Å—Ç–∞–≤—å—Ç–µ, —á—Ç–æ —É –≤–∞—Å –µ—Å—Ç—å "–≥–Ω–µ–∑–¥–æ" –¥–ª—è —Ç–∏–ø–∞ `T`. –í–∞—Ä–∏–∞–Ω—Ç–Ω–æ—Å—Ç—å –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç, –Ω–∞—Å–∫–æ–ª—å–∫–æ –≥–∏–±–∫–æ —ç—Ç–æ "–≥–Ω–µ–∑–¥–æ" –º–æ–∂–µ—Ç –ø—Ä–∏–Ω–∏–º–∞—Ç—å –¥—Ä—É–≥–∏–µ —Ç–∏–ø—ã, —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å `T` —á–µ—Ä–µ–∑ –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ (–ø–æ–¥—Ç–∏–ø—ã –∏–ª–∏ —Å—É–ø–µ—Ä—Ç–∏–ø—ã). –ü—Ä–æ—â–µ –≥–æ–≤–æ—Ä—è, —ç—Ç–æ –ø—Ä–∞–≤–∏–ª–∞, –ø–æ –∫–æ—Ç–æ—Ä—ã–º –æ–¥–∏–Ω —Ç–∏–ø –º–æ–∂–µ—Ç –±—ã—Ç—å –±–µ–∑–æ–ø–∞—Å–Ω–æ –∑–∞–º–µ–Ω—ë–Ω –¥—Ä—É–≥–∏–º –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ –±–æ–ª–µ–µ —Å–ª–æ–∂–Ω–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä, –º–∞—Å—Å–∏–≤–∞, –ø—Ä–æ–º–∏—Å–∞ –∏–ª–∏ —Ñ—É–Ω–∫—Ü–∏–∏).

–ú—ã —Ä–∞—Å—Å–º–æ—Ç—Ä–∏–º —Ç—Ä–∏ –æ—Å–Ω–æ–≤–Ω—ã—Ö –≤–∏–¥–∞ –≤–∞—Ä–∏–∞–Ω—Ç–Ω–æ—Å—Ç–∏:

1.  **–ö–æ–≤–∞—Ä–∏–∞–Ω—Ç–Ω–æ—Å—Ç—å (Covariance)**: "–ï—Å–ª–∏ –º–Ω–µ –Ω—É–∂–µ–Ω `Animal`, –∞ —Ç—ã –¥–∞–µ—à—å `Dog` (–∫–æ—Ç–æ—Ä—ã–π —è–≤–ª—è–µ—Ç—Å—è `Animal`), —ç—Ç–æ –û–ö." (–û—Ç –±–æ–ª–µ–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –∫ –±–æ–ª–µ–µ –æ–±—â–µ–º—É). –ë–µ–∑–æ–ø–∞—Å–Ω–æ –¥–ª—è *–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª–µ–π* (–∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ –¥–∞–Ω–Ω—ã—Ö).
2.  **–ö–æ–Ω—Ç—Ä–∞–≤–∞—Ä–∏–∞–Ω—Ç–Ω–æ—Å—Ç—å (Contravariance)**: "–ï—Å–ª–∏ –º–Ω–µ –Ω—É–∂–Ω–æ `Dog`, –∞ —Ç—ã –º–æ–∂–µ—à—å –ø—Ä–∏–Ω—è—Ç—å `Animal` (–∫–æ—Ç–æ—Ä—ã–π *—à–∏—Ä–µ* —á–µ–º `Dog`), —ç—Ç–æ —Ç–æ–∂–µ –û–ö." (–û—Ç –±–æ–ª–µ–µ –æ–±—â–µ–≥–æ –∫ –±–æ–ª–µ–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–º—É). –ë–µ–∑–æ–ø–∞—Å–Ω–æ –¥–ª—è *–ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª–µ–π* (–ø—Ä–∏—ë–º–Ω–∏–∫–æ–≤ –¥–∞–Ω–Ω—ã—Ö).
3.  **–ò–Ω–≤–∞—Ä–∏–∞–Ω—Ç–Ω–æ—Å—Ç—å (Invariance)**: "–ú–Ω–µ –Ω—É–∂–µ–Ω *—Ç–æ—á–Ω–æ* `Animal`. –ù–∏ `Dog`, –Ω–∏ `Cat`, –∞ —Ç–æ–ª—å–∫–æ `Animal`." (–¢—Ä–µ–±—É–µ—Ç —Ç–æ—á–Ω–æ–≥–æ —Å–æ–≤–ø–∞–¥–µ–Ω–∏—è). –ß–∞—Å—Ç–æ –≤—Å—Ç—Ä–µ—á–∞–µ—Ç—Å—è —Ç–∞–º, –≥–¥–µ —Ç–∏–ø –∏ *–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç*, –∏ *–ø–æ—Ç—Ä–µ–±–ª—è–µ—Ç* –¥–∞–Ω–Ω—ã–µ.
4.  **–ë–∏–≤–∞—Ä–∏–∞–Ω—Ç–Ω–æ—Å—Ç—å (Bivariance)**: –ò –∫–æ–≤–∞—Ä–∏–∞–Ω—Ç–Ω–æ—Å—Ç—å, –∏ –∫–æ–Ω—Ç—Ä–∞–≤–∞—Ä–∏–∞–Ω—Ç–Ω–æ—Å—Ç—å –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ. –û–±—ã—á–Ω–æ —ç—Ç–æ –ø–ª–æ—Ö–æ, –ø–æ—Ç–æ–º—É —á—Ç–æ –ª–æ–º–∞–µ—Ç –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å —Ç–∏–ø–æ–≤, –∏ –≤ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–º TypeScript –µ—ë —Å—Ç–∞—Ä–∞—é—Ç—Å—è –∏–∑–±–µ–≥–∞—Ç—å.

–ü–æ–Ω–∏–º–∞–Ω–∏–µ –≤–∞—Ä–∏–∞–Ω—Ç–Ω–æ—Å—Ç–∏ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω–æ –¥–ª—è –Ω–∞–ø–∏—Å–∞–Ω–∏—è –Ω–∞–¥—ë–∂–Ω–æ–≥–æ –∏ —Ç–∏–ø–æ–±–µ–∑–æ–ø–∞—Å–Ω–æ–≥–æ –∫–æ–¥–∞, –æ—Å–æ–±–µ–Ω–Ω–æ –ø—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å –æ–±–æ–±—â—ë–Ω–Ω—ã–º–∏ (generic) —Ç–∏–ø–∞–º–∏, –∫–æ–ª–ª–µ–∫—Ü–∏—è–º–∏ –∏ —Ñ—É–Ω–∫—Ü–∏—è–º–∏ –≤—ã—Å—à–µ–≥–æ –ø–æ—Ä—è–¥–∫–∞.

### üí° –ö–æ–≤–∞—Ä–∏–∞–Ω—Ç–Ω–æ—Å—Ç—å (Covariance): "–Ø –ø—Ä–æ–∏–∑–≤–æ–∂—É —á—Ç–æ-—Ç–æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–µ"

–ö–æ–≤–∞—Ä–∏–∞–Ω—Ç–Ω–æ—Å—Ç—å –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –µ—Å–ª–∏ —Ç–∏–ø `S` —è–≤–ª—è–µ—Ç—Å—è –ø–æ–¥—Ç–∏–ø–æ–º `T` (—Ç.–µ., `S extends T`), —Ç–æ `Generic<S>` —è–≤–ª—è–µ—Ç—Å—è –ø–æ–¥—Ç–∏–ø–æ–º `Generic<T>`. –≠—Ç–æ –∏–Ω—Ç—É–∏—Ç–∏–≤–Ω–æ –ø–æ–Ω—è—Ç–Ω–æ: –µ—Å–ª–∏ —è –æ–∂–∏–¥–∞—é `Promise<Animal>`, –∞ –º–Ω–µ –¥–∞—é—Ç `Promise<Dog>`, —ç—Ç–æ —Å–æ–≤–µ—Ä—à–µ–Ω–Ω–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ, –ø–æ—Ç–æ–º—É —á—Ç–æ `Dog` ‚Äî —ç—Ç–æ `Animal`.

–¢–∏–ø–∏—á–Ω—ã–µ –∫–æ–≤–∞—Ä–∏–∞–Ω—Ç–Ω—ã–µ –ø–æ–∑–∏—Ü–∏–∏:
*   –í–æ–∑–≤—Ä–∞—â–∞–µ–º—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–π.
*   –≠–ª–µ–º–µ–Ω—Ç—ã –º–∞—Å—Å–∏–≤–æ–≤ (–¥–ª—è —á—Ç–µ–Ω–∏—è, –æ—Å–æ–±–µ–Ω–Ω–æ `ReadonlyArray`).
*   –ü–∞—Ä–∞–º–µ—Ç—Ä—ã —Ç–∏–ø–∞ –≤ `Promise<T>`, `Observable<T>` –∏ —Ç.–¥.

```typescript
// –û–ø—Ä–µ–¥–µ–ª–∏–º –±–∞–∑–æ–≤—É—é –∏ –ø—Ä–æ–∏–∑–≤–æ–¥–Ω—ã–µ —Å—É—â–Ω–æ—Å—Ç–∏
class Animal {
    name: string;
    constructor(name: string) { this.name = name; }
    eat() { console.log(`${this.name} –µ—Å—Ç.`); }
}

class Dog extends Animal {
    breed: string;
    constructor(name: string, breed: string) {
        super(name);
        this.breed = breed;
    }
    bark() { console.log(`${this.name} –ª–∞–µ—Ç!`); }
}

class Cat extends Animal {
    meow() { console.log(`${this.name} –º—è—É–∫–∞–µ—Ç.`); }
}

// –ü—Ä–∏–º–µ—Ä 1: –ö–æ–≤–∞—Ä–∏–∞–Ω—Ç–Ω–æ—Å—Ç—å –≤–æ–∑–≤—Ä–∞—â–∞–µ–º–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–∏
// –§—É–Ω–∫—Ü–∏—è, –∫–æ—Ç–æ—Ä–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç Animal
type AnimalProducer = () => Animal;
// –§—É–Ω–∫—Ü–∏—è, –∫–æ—Ç–æ—Ä–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç Dog
type DogProducer = () => Dog;

let produceAnimal: AnimalProducer = () => new Animal("–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–æ–µ –∂–∏–≤–æ—Ç–Ω–æ–µ");
let produceDog: DogProducer = () => new Dog("–®–∞—Ä–∏–∫", "–û–≤—á–∞—Ä–∫–∞");

// –ú—ã –º–æ–∂–µ–º –ø—Ä–∏—Å–≤–æ–∏—Ç—å DogProducer —Ç–∏–ø—É AnimalProducer, –ø–æ—Ç–æ–º—É —á—Ç–æ Dog - —ç—Ç–æ Animal.
// –≠—Ç–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ: –µ—Å–ª–∏ –æ–∂–∏–¥–∞–µ—Ç—Å—è Animal, Dog –≤–ø–æ–ª–Ω–µ –ø–æ–¥—Ö–æ–¥–∏—Ç.
produceAnimal = produceDog;
produceAnimal().eat(); // –¢–µ–ø–µ—Ä—å produceAnimal –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç Dog, –∏ —ç—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ.

// –ü—Ä–∏–º–µ—Ä 2: ReadonlyArray<T> - –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π –∫–æ–≤–∞—Ä–∏–∞–Ω—Ç–Ω—ã–π —Ç–∏–ø
const dogs: ReadonlyArray<Dog> = [new Dog("–†–µ–∫—Å", "–ù–µ–º–µ—Ü–∫–∞—è –æ–≤—á–∞—Ä–∫–∞"), new Dog("–ú—É—Ö—Ç–∞—Ä", "–î–≤–æ—Ä–Ω—è–≥–∞")];
const animals: ReadonlyArray<Animal> = dogs; // –≠—Ç–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ –∏ —Ä–∞–∑—Ä–µ—à–µ–Ω–æ!
// animals.push(new Cat("–ú—É—Ä–∫–∞")); // –û—à–∏–±–∫–∞: ReadonlyArray –Ω–µ –ø–æ–∑–≤–æ–ª—è–µ—Ç –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å!

// –ü—Ä–∏–º–µ—Ä 3: Promise<T> - —Ç–∞–∫–∂–µ –∫–æ–≤–∞—Ä–∏–∞–Ω—Ç–µ–Ω
async function getDogPromise(): Promise<Dog> {
    return new Dog("–ë–∞—Ä–æ–Ω", "–ë—É–ª—å–¥–æ–≥");
}

async function processAnimalPromise(p: Promise<Animal>) {
    const animal = await p;
    animal.eat();
}

// –ú—ã –º–æ–∂–µ–º –ø–µ—Ä–µ–¥–∞—Ç—å Promise<Dog> —Ç—É–¥–∞, –≥–¥–µ –æ–∂–∏–¥–∞–µ—Ç—Å—è Promise<Animal>
processAnimalPromise(getDogPromise()); // –ë–µ–∑–æ–ø–∞—Å–Ω–æ, –ø–æ—Ç–æ–º—É —á—Ç–æ Dog - —ç—Ç–æ Animal.
```

### üí° –ö–æ–Ω—Ç—Ä–∞–≤–∞—Ä–∏–∞–Ω—Ç–Ω–æ—Å—Ç—å (Contravariance): "–Ø –ø—Ä–∏–Ω–∏–º–∞—é —á—Ç–æ-—Ç–æ –æ–±—â–µ–µ"

–ö–æ–Ω—Ç—Ä–∞–≤–∞—Ä–∏–∞–Ω—Ç–Ω–æ—Å—Ç—å ‚Äì —ç—Ç–æ –∫–æ–≥–¥–∞ –≤—Å—ë "–Ω–∞–æ–±–æ—Ä–æ—Ç". –ï—Å–ª–∏ `S` —è–≤–ª—è–µ—Ç—Å—è –ø–æ–¥—Ç–∏–ø–æ–º `T`, —Ç–æ `Generic<T>` —è–≤–ª—è–µ—Ç—Å—è –ø–æ–¥—Ç–∏–ø–æ–º `Generic<S>`. –≠—Ç–æ —Å–ª–æ–∂–Ω–µ–µ –¥–ª—è –ø–æ–Ω–∏–º–∞–Ω–∏—è, –Ω–æ –æ—á–µ–Ω—å –≤–∞–∂–Ω–æ –¥–ª—è —Ñ—É–Ω–∫—Ü–∏–π-–ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª–µ–π.

–ü—Ä–µ–¥—Å—Ç–∞–≤—å—Ç–µ: —É –≤–∞—Å –µ—Å—Ç—å —Ñ—É–Ω–∫—Ü–∏—è, –∫–æ—Ç–æ—Ä–∞—è *–æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç* `Dog` (–Ω–∞–ø—Ä–∏–º–µ—Ä, –æ–±—É—á–∞–µ—Ç –µ—ë). –ï—Å–ª–∏ –≤—ã –¥–∞–¥–∏—Ç–µ –º–Ω–µ —Ñ—É–Ω–∫—Ü–∏—é, –∫–æ—Ç–æ—Ä–∞—è *–æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç* –ª—é–±–æ–≥–æ `Animal` (—Ç.–µ., –±–æ–ª–µ–µ –æ–±—â–∞—è —Ñ—É–Ω–∫—Ü–∏—è), –æ–Ω–∞ *—Ç–æ—á–Ω–æ* —Å–ø—Ä–∞–≤–∏—Ç—Å—è —Å `Dog`, –ø–æ—Ç–æ–º—É —á—Ç–æ `Dog` ‚Äî —ç—Ç–æ `Animal`.

–¢–∏–ø–∏—á–Ω—ã–µ –∫–æ–Ω—Ç—Ä–∞–≤–∞—Ä–∏–∞–Ω—Ç–Ω—ã–µ –ø–æ–∑–∏—Ü–∏–∏:
*   –ü–∞—Ä–∞–º–µ—Ç—Ä—ã —Ñ—É–Ω–∫—Ü–∏–π (–ø—Ä–∏ –≤–∫–ª—é—á–µ–Ω–Ω–æ–º `strictFunctionTypes`).

```typescript
// –ü—Ä–∏–º–µ—Ä 4: –ö–æ–Ω—Ç—Ä–∞–≤–∞—Ä–∏–∞–Ω—Ç–Ω–æ—Å—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ —Ñ—É–Ω–∫—Ü–∏–∏
// –≠—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ —É –≤–∞—Å –≤–∫–ª—é—á–µ–Ω `strictFunctionTypes: true` –≤ tsconfig.json!
// (–ß—Ç–æ –Ø—à–∞ –Ω–∞—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç!)

type DogConsumer = (dog: Dog) => void;
type AnimalConsumer = (animal: Animal) => void;

function trainAnimal(animal: Animal) {
    console.log(`–î—Ä–µ—Å—Å–∏—Ä—É–µ–º –∂–∏–≤–æ—Ç–Ω–æ–µ –ø–æ –∏–º–µ–Ω–∏ ${animal.name}.`);
}

function trainDog(dog: Dog) {
    console.log(`–î—Ä–µ—Å—Å–∏—Ä—É–µ–º —Å–æ–±–∞–∫—É –ø–æ –∫–ª–∏—á–∫–µ ${dog.name}. –ü–æ—Ä–æ–¥–∞: ${dog.breed}.`);
    dog.bark();
}

let myDogConsumer: DogConsumer = trainDog;
let myAnimalConsumer: AnimalConsumer = trainAnimal;

// –ú–æ–∂–Ω–æ –ø—Ä–∏—Å–≤–æ–∏—Ç—å myAnimalConsumer —Ç–∏–ø—É DogConsumer!
// –≠—Ç–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ: –µ—Å–ª–∏ –æ–∂–∏–¥–∞–µ—Ç—Å—è —Ñ—É–Ω–∫—Ü–∏—è, –∫–æ—Ç–æ—Ä–∞—è —Ä–∞–±–æ—Ç–∞–µ—Ç —Å Dog,
// –∞ –º—ã –¥–∞—ë–º —Ñ—É–Ω–∫—Ü–∏—é, –∫–æ—Ç–æ—Ä–∞—è —Ä–∞–±–æ—Ç–∞–µ—Ç —Å –õ–Æ–ë–´–ú Animal (–≤–∫–ª—é—á–∞—è Dog),
// —Ç–æ —ç—Ç–∞ —Ñ—É–Ω–∫—Ü–∏—è AnimalConsumer —Å–ø—Ä–∞–≤–∏—Ç—Å—è —Å Dog.
myDogConsumer = myAnimalConsumer;
myDogConsumer(new Dog("–ë—É–±–ª–∏–∫", "–ö–æ—Ä–≥–∏")); // AnimalConsumer —É—Å–ø–µ—à–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç Dog.

// –û–±—Ä–∞—Ç–Ω–æ–µ –ø—Ä–∏—Å–≤–æ–µ–Ω–∏–µ –ù–ï–ë–ï–ó–û–ü–ê–°–ù–û –∏ –≤—ã–∑—ã–≤–∞–µ—Ç –æ—à–∏–±–∫—É (–µ—Å–ª–∏ strictFunctionTypes: true)
// myAnimalConsumer = myDogConsumer; // –û—à–∏–±–∫–∞: Type 'DogConsumer' is not assignable to type 'AnimalConsumer'.
// –ü–æ—á–µ–º—É –Ω–µ–±–µ–∑–æ–ø–∞—Å–Ω–æ? –ï—Å–ª–∏ AnimalConsumer —Ç–µ–ø–µ—Ä—å —Å—Å—ã–ª–∞–µ—Ç—Å—è –Ω–∞ trainDog,
// –∞ –º—ã –ø–æ–ø—Ä–æ–±—É–µ–º –ø–µ—Ä–µ–¥–∞—Ç—å –µ–π Cat:
// myAnimalConsumer(new Cat("–ë–∞–∑–∏–ª–∏–æ")); // trainDog –æ–∂–∏–¥–∞–µ—Ç dog.breed, –∫–æ—Ç–æ—Ä–æ–≥–æ —É Cat –Ω–µ—Ç! –û—à–∏–±–∫–∞ –≤ —Ä–∞–Ω—Ç–∞–π–º–µ.
```

### üí° –ò–Ω–≤–∞—Ä–∏–∞–Ω—Ç–Ω–æ—Å—Ç—å (Invariance): "–ú–Ω–µ –Ω—É–∂–Ω–æ —Ç–æ—á–Ω–æ–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ!"

–ò–Ω–≤–∞—Ä–∏–∞–Ω—Ç–Ω–æ—Å—Ç—å –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –µ—Å–ª–∏ `S` —è–≤–ª—è–µ—Ç—Å—è –ø–æ–¥—Ç–∏–ø–æ–º `T`, —Ç–æ `Generic<S>` *–Ω–µ* —è–≤–ª—è–µ—Ç—Å—è –ø–æ–¥—Ç–∏–ø–æ–º `Generic<T>`, –∏ –Ω–∞–æ–±–æ—Ä–æ—Ç. –¢–∏–ø—ã –¥–æ–ª–∂–Ω—ã —Å–æ–≤–ø–∞–¥–∞—Ç—å *—Ç–æ—á–Ω–æ*. –≠—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç, –∫–æ–≥–¥–∞ —Ç–∏–ø `T` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∏ –≤ –∫–æ–≤–∞—Ä–∏–∞–Ω—Ç–Ω–æ–π, –∏ –≤ –∫–æ–Ω—Ç—Ä–∞–≤–∞—Ä–∏–∞–Ω—Ç–Ω–æ–π –ø–æ–∑–∏—Ü–∏–∏ –≤–Ω—É—Ç—Ä–∏ –æ–¥–Ω–æ–π –æ–±–æ–±—â—ë–Ω–Ω–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã.

–¢–∏–ø–∏—á–Ω—ã–π –ø—Ä–∏–º–µ—Ä: –∏–∑–º–µ–Ω—è–µ–º—ã–µ (mutable) –∫–æ–ª–ª–µ–∫—Ü–∏–∏, —Ç–∞–∫–∏–µ –∫–∞–∫ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π `Array<T>`, –µ—Å–ª–∏ `strictFunctionTypes` –≤–∫–ª—é—á–µ–Ω.

```typescript
// –ü—Ä–∏–º–µ—Ä 5: –ò–Ω–≤–∞—Ä–∏–∞–Ω—Ç–Ω–æ—Å—Ç—å –∏–∑–º–µ–Ω—è–µ–º–æ–≥–æ –º–∞—Å—Å–∏–≤–∞ (Array<T>)
// –í TypeScript, Array<T> –Ω–µ —è–≤–ª—è–µ—Ç—Å—è —Å—Ç—Ä–æ–≥–æ –∏–Ω–≤–∞—Ä–∏–∞–Ω—Ç–Ω—ã–º, –Ω–æ –µ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
// –∫–∞–∫ –∏–Ω–≤–∞—Ä–∏–∞–Ω—Ç–Ω–æ–≥–æ —Ç–∏–ø–∞ —á–∞—Å—Ç–æ —è–≤–ª—è–µ—Ç—Å—è –±–µ–∑–æ–ø–∞—Å–Ω–æ–π –ø—Ä–∞–∫—Ç–∏–∫–æ–π, –æ—Å–æ–±–µ–Ω–Ω–æ –ø—Ä–∏ –º—É—Ç–∞—Ü–∏–∏.
// –§–∞–∫—Ç–∏—á–µ—Å–∫–∏, Array<T> —è–≤–ª—è–µ—Ç—Å—è –±–∏–≤–∞—Ä–∏–∞–Ω—Ç–Ω—ã–º (–∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏), –Ω–æ –¥–ª—è –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–∞
// –æ–ø–µ—Ä–∞—Ü–∏–π –º—É—Ç–∞—Ü–∏–∏ TypeScript –±—É–¥–µ—Ç –≤—ã–¥–∞–≤–∞—Ç—å –æ—à–∏–±–∫–∏, —á—Ç–æ–±—ã –æ–±–µ—Å–ø–µ—á–∏—Ç—å –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å.

const dogsArray: Array<Dog> = [new Dog("–ñ—É—á–∫–∞", "–ü—É–¥–µ–ª—å")];
const animalsArray: Array<Animal> = [new Animal("–û–±–µ–∑—å—è–Ω–∞")];

// animalsArray = dogsArray; // –û–®–ò–ë–ö–ê, –µ—Å–ª–∏ strictFunctionTypes: true
// –ü–æ—á–µ–º—É? –ï—Å–ª–∏ –±—ã —ç—Ç–æ –±—ã–ª–æ —Ä–∞–∑—Ä–µ—à–µ–Ω–æ, –º—ã –º–æ–≥–ª–∏ –±—ã —Å–¥–µ–ª–∞—Ç—å —Ç–∞–∫:
// animalsArray.push(new Cat("–¢–æ–º")); // –¢–µ–ø–µ—Ä—å dogsArray —Å–æ–¥–µ—Ä–∂–∏—Ç Cat! –≠—Ç–æ –Ω–µ–±–µ–∑–æ–ø–∞—Å–Ω–æ.

// dogsArray = animalsArray; // –û–®–ò–ë–ö–ê
// –ü–æ—á–µ–º—É? –ï—Å–ª–∏ –±—ã —ç—Ç–æ –±—ã–ª–æ —Ä–∞–∑—Ä–µ—à–µ–Ω–æ, dogsArray –º–æ–≥ –±—ã —Å–æ–¥–µ—Ä–∂–∞—Ç—å Animal, –∫–æ—Ç–æ—Ä—ã–π –Ω–µ Dog.
// –ù–∞–ø—Ä–∏–º–µ—Ä, animalsArray = [new Animal("–ó–º–µ—è")]. –ò –º—ã –±—ã –æ–∂–∏–¥–∞–ª–∏ Dog!

// –í TypeScript Array<T> –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é (–∏–∑-–∑–∞ legacy) –≤–µ–¥–µ—Ç —Å–µ–±—è –∫–∞–∫ –±–∏–≤–∞—Ä–∏–∞–Ω—Ç–Ω—ã–π
// –¥–ª—è –ø—Ä–∏—Å–≤–æ–µ–Ω–∏—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö, –Ω–æ –µ–≥–æ –º–µ—Ç–æ–¥—ã (push, pop –∏ —Ç.–¥.)
// —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∏ –¥–µ–ª–∞—é—Ç –µ–≥–æ –∏–Ω–≤–∞—Ä–∏–∞–Ω—Ç–Ω—ã–º –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π.
// –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å ReadonlyArray<T> –¥–ª—è –∫–æ–≤–∞—Ä–∏–∞–Ω—Ç–Ω—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤!

// –ö–∞–∫ —è–≤–Ω–æ —Å–æ–∑–¥–∞—Ç—å –∏–Ω–≤–∞—Ä–∏–∞–Ω—Ç–Ω—ã–π Generic-—Ç–∏–ø:
interface Box<T> {
    // get() - –∫–æ–≤–∞—Ä–∏–∞–Ω—Ç–Ω–∞—è –ø–æ–∑–∏—Ü–∏—è (–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç T)
    get(): T;
    // put(item: T) - –∫–æ–Ω—Ç—Ä–∞–≤–∞—Ä–∏–∞–Ω—Ç–Ω–∞—è –ø–æ–∑–∏—Ü–∏—è (–ø–æ—Ç—Ä–µ–±–ª—è–µ—Ç T)
    put(item: T): void;
}

class AnimalBox implements Box<Animal> {
    private content: Animal;
    constructor(item: Animal) { this.content = item; }
    get(): Animal { return this.content; }
    put(item: Animal): void { this.content = item; }
}

class DogBox implements Box<Dog> {
    private content: Dog;
    constructor(item: Dog) { this.content = item; }
    get(): Dog { return this.content; }
    put(item: Dog): void { this.content = item; }
}

let animalBox: Box<Animal> = new AnimalBox(new Animal("–ö–æ–∑–µ–ª"));
let dogBox: Box<Dog> = new DogBox(new Dog("–ë–æ–±–∏–∫", "–¢–∞–∫—Å–∞"));

// animalBox = dogBox; // –û–®–ò–ë–ö–ê: Type 'DogBox' is not assignable to type 'Box<Animal>'.
// –ü–æ—á–µ–º—É? –ï—Å–ª–∏ –±—ã animalBox —Ç–µ–ø–µ—Ä—å —Å–æ–¥–µ—Ä–∂–∞–ª DogBox, –º—ã –º–æ–≥–ª–∏ –±—ã:
// animalBox.put(new Cat("–ü—É—à–æ–∫")); // –û–∂–∏–¥–∞–µ–º Dog, –∞ –∫–ª–∞–¥–µ–º Cat! –ù–µ–±–µ–∑–æ–ø–∞—Å–Ω–æ.

// dogBox = animalBox; // –û–®–ò–ë–ö–ê: Type 'AnimalBox' is not assignable to type 'Box<Dog>'.
// –ü–æ—á–µ–º—É? –ï—Å–ª–∏ –±—ã dogBox —Å–æ–¥–µ—Ä–∂–∞–ª AnimalBox, –º—ã –º–æ–≥–ª–∏ –±—ã –≤—ã–∑–≤–∞—Ç—å:
// dogBox.get().breed; // –í–µ—Ä–Ω–µ—Ç Animal, —É –∫–æ—Ç–æ—Ä–æ–≥–æ –Ω–µ—Ç —Å–≤–æ–π—Å—Ç–≤–∞ 'breed'! –ù–µ–±–µ–∑–æ–ø–∞—Å–Ω–æ.
```

### üí° –ë–∏–≤–∞—Ä–∏–∞–Ω—Ç–Ω–æ—Å—Ç—å (Bivariance): –û–ø–∞—Å–Ω–æ–µ –ù–∞—Å–ª–µ–¥–∏–µ

–ë–∏–≤–∞—Ä–∏–∞–Ω—Ç–Ω–æ—Å—Ç—å –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ `Generic<S>` —è–≤–ª—è–µ—Ç—Å—è –ø–æ–¥—Ç–∏–ø–æ–º `Generic<T>`, –∏ `Generic<T>` —è–≤–ª—è–µ—Ç—Å—è –ø–æ–¥—Ç–∏–ø–æ–º `Generic<S>` –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ, –µ—Å–ª–∏ `S` —è–≤–ª—è–µ—Ç—Å—è –ø–æ–¥—Ç–∏–ø–æ–º `T`. –í –æ—Å–Ω–æ–≤–Ω–æ–º, —ç—Ç–æ —Å–≤—è–∑–∞–Ω–æ —Å –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–º –ø–æ–≤–µ–¥–µ–Ω–∏–µ–º –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ —Ñ—É–Ω–∫—Ü–∏–π –≤ TypeScript –¥–æ –ø–æ—è–≤–ª–µ–Ω–∏—è `strictFunctionTypes`.

–ö–æ–≥–¥–∞ `strictFunctionTypes` –æ—Ç–∫–ª—é—á–µ–Ω (—á—Ç–æ –∫—Ä–∞–π–Ω–µ –Ω–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è –Ω–æ–≤–æ–≥–æ –∫–æ–¥–∞), –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Ñ—É–Ω–∫—Ü–∏–π —Å—Ç–∞–Ω–æ–≤—è—Ç—Å—è –±–∏–≤–∞—Ä–∏–∞–Ω—Ç–Ω—ã–º–∏. –≠—Ç–æ –ø—Ä–∏–≤–æ–¥–∏—Ç –∫ –æ—Å–ª–∞–±–ª–µ–Ω–∏—é —Ç–∏–ø–æ–≤–æ–π –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏, –ø–æ–∑–≤–æ–ª—è—è –ø—Ä–∏—Å–≤–∞–∏–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏–∏ —Å "–Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏" –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏.

```typescript
// –ü—Ä–∏–º–µ—Ä 6: –ë–∏–≤–∞—Ä–∏–∞–Ω—Ç–Ω–æ—Å—Ç—å (–¢–û–õ–¨–ö–û –ø—Ä–∏ strictFunctionTypes: false!)
// –ï—Å–ª–∏ –≤ tsconfig.json —É –≤–∞—Å "strictFunctionTypes": false,
// —Ç–æ —ç—Ç–æ—Ç –∫–æ–¥ —Å—Ä–∞–±–æ—Ç–∞–µ—Ç, –Ω–æ –ø—Ä–∏–≤–µ–¥–µ—Ç –∫ –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–º –æ—à–∏–±–∫–∞–º –≤ —Ä–∞–Ω—Ç–∞–π–º–µ.

type AnimalProcessor = (animal: Animal) => void;
type DogProcessor = (dog: Dog) => void;

function processDogSpecific(dog: Dog) {
    console.log(`–û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–±–∞–∫–∏: ${dog.name}, –ø–æ—Ä–æ–¥–∞: ${dog.breed}`);
}

function processAnyAnimal(animal: Animal) {
    console.log(`–û–±—Ä–∞–±–æ—Ç–∫–∞ –∂–∏–≤–æ—Ç–Ω–æ–≥–æ: ${animal.name}`);
}

let processorA: AnimalProcessor = processAnyAnimal;
let processorD: DogProcessor = processDogSpecific;

// –ï—Å–ª–∏ strictFunctionTypes: false:
// processorA = processorD; // –û–ö! (–∫–æ–Ω—Ç—Ä–∞–≤–∞—Ä–∏–∞–Ω—Ç–Ω–æ—Å—Ç—å) - –ë–µ–∑–æ–ø–∞—Å–Ω–æ.
// processorD = processorA; // –û–ö! (–∫–æ–≤–∞—Ä–∏–∞–Ω—Ç–Ω–æ—Å—Ç—å) - –ù–ï–ë–ï–ó–û–ü–ê–°–ù–û!
// –ï—Å–ª–∏ processorD —Ç–µ–ø–µ—Ä—å —Å—Å—ã–ª–∞–µ—Ç—Å—è –Ω–∞ processAnyAnimal,
// –∏ –º—ã –≤—ã–∑—ã–≤–∞–µ–º processorD(new Cat("–ë–∞—Ä—Å–∏–∫")), —Ç–æ processAnyAnimal –ø—Ä–∏–º–µ—Ç Cat,
// –Ω–æ –µ—Å–ª–∏ –±—ã –º—ã –æ–∂–∏–¥–∞–ª–∏ Dog, —ç—Ç–æ –±—ã–ª–∞ –±—ã –ø—Ä–æ–±–ª–µ–º–∞.
```
**–í—ã–≤–æ–¥:** –í—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `strictFunctionTypes: true`! –≠—Ç–æ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç –±–∏–≤–∞—Ä–∏–∞–Ω—Ç–Ω–æ—Å—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ —Ñ—É–Ω–∫—Ü–∏–π, –∑–∞–º–µ–Ω—è—è –µ—ë –±–µ–∑–æ–ø–∞—Å–Ω–æ–π –∫–æ–Ω—Ç—Ä–∞–≤–∞—Ä–∏–∞–Ω—Ç–Ω–æ—Å—Ç—å—é.

### –¢–∏–ø–∏—á–Ω—ã–µ –û—à–∏–±–∫–∏ –∏ –ö–∞–∫ –ò—Ö –ò–∑–±–µ–∂–∞—Ç—å

1.  **–ù–µ–ø–æ–Ω–∏–º–∞–Ω–∏–µ –º—É—Ç–∞–±–µ–ª—å–Ω–æ—Å—Ç–∏ –∫–æ–ª–ª–µ–∫—Ü–∏–π:** –ü–æ–ø—ã—Ç–∫–∞ –ø—Ä–∏—Å–≤–æ–∏—Ç—å `Array<Dog>` –∫ `Array<Animal>` –∏ –∑–∞—Ç–µ–º –¥–æ–±–∞–≤–∏—Ç—å —Ç—É–¥–∞ `Cat`.
    *   **–†–µ—à–µ–Ω–∏–µ:** –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `ReadonlyArray<T>` –¥–ª—è –∫–æ–≤–∞—Ä–∏–∞–Ω—Ç–Ω—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤ —á—Ç–µ–Ω–∏—è –∏–ª–∏ —è–≤–Ω–æ –¥–µ–ª–∞–π—Ç–µ –∫–æ–ª–ª–µ–∫—Ü–∏–∏ –∏–Ω–≤–∞—Ä–∏–∞–Ω—Ç–Ω—ã–º–∏, –µ—Å–ª–∏ –æ–Ω–∏ –∏–∑–º–µ–Ω—è–µ–º—ã.
2.  **–û—Ç–∫–ª—é—á–µ–Ω–∏–µ `strictFunctionTypes`:** –≠—Ç–æ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç –¥–≤–µ—Ä–∏ –¥–ª—è –±–∏–≤–∞—Ä–∏–∞–Ω—Ç–Ω–æ—Å—Ç–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ —Ñ—É–Ω–∫—Ü–∏–π, —á—Ç–æ –º–æ–∂–µ—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ –æ—à–∏–±–∫–∞–º –≤ —Ä–∞–Ω—Ç–∞–π–º–µ, –∫–æ–≥–¥–∞ —Ñ—É–Ω–∫—Ü–∏—è –ø–æ–ª—É—á–∞–µ—Ç —Ç–∏–ø, –∫–æ—Ç–æ—Ä—ã–π –æ–Ω–∞ –Ω–µ –º–æ–∂–µ—Ç –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å.
    *   **–†–µ—à–µ–Ω–∏–µ:** –í—Å–µ–≥–¥–∞ –¥–µ—Ä–∂–∏—Ç–µ `strictFunctionTypes: true`. –≠—Ç–æ –¥–µ–ª–∞–µ—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Ñ—É–Ω–∫—Ü–∏–π –∫–æ–Ω—Ç—Ä–∞–≤–∞—Ä–∏–∞–Ω—Ç–Ω—ã–º–∏ –∏ –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ —É–ª—É—á—à–∞–µ—Ç —Ç–∏–ø–æ–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å.
3.  **–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –æ–±–æ–±—â–µ–Ω–∏–µ:** –°–æ–∑–¥–∞–Ω–∏–µ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã—Ö –æ–±–æ–±—â–µ–Ω–Ω—ã—Ö —Ç–∏–ø–æ–≤ –±–µ–∑ —É—á–µ—Ç–∞ —Ç–æ–≥–æ, –∫–∞–∫ –∏—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –±—É–¥—É—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è (–∫–∞–∫ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª–∏ –∏–ª–∏ –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª–∏).
    *   **–†–µ—à–µ–Ω–∏–µ:** –ê–Ω–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ª–∏ –≤–∞—à —Ç–∏–ø `T` –≤ –∫–æ–≤–∞—Ä–∏–∞–Ω—Ç–Ω–æ–π (—Ç–æ–ª—å–∫–æ –∫–∞–∫ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ/—á–∏—Ç–∞–µ–º–æ–µ —Å–≤–æ–π—Å—Ç–≤–æ), –∫–æ–Ω—Ç—Ä–∞–≤–∞—Ä–∏–∞–Ω—Ç–Ω–æ–π (—Ç–æ–ª—å–∫–æ –∫–∞–∫ –ø–∞—Ä–∞–º–µ—Ç—Ä —Ñ—É–Ω–∫—Ü–∏–∏/–∑–∞–ø–∏—Å—ã–≤–∞–µ–º–æ–µ —Å–≤–æ–π—Å—Ç–≤–æ) –∏–ª–∏ –∏–Ω–≤–∞—Ä–∏–∞–Ω—Ç–Ω–æ–π (–∏ —Ç–∞–º, –∏ —Ç–∞–º) –ø–æ–∑–∏—Ü–∏–∏.

### ### üéØ –ü—Ä–∞–∫—Ç–∏–∫–∞

–í–∞—à–µ –∑–∞–¥–∞–Ω–∏–µ, —é–Ω—ã–π (–∏ –Ω–µ –æ—á–µ–Ω—å) –∫–æ–¥–µ—Ä! –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–≤–æ–∏ –∑–Ω–∞–Ω–∏—è –≤–∞—Ä–∏–∞–Ω—Ç–Ω–æ—Å—Ç–∏.

1.  **–ó–∞–¥–∞—á–∞ 1: –ö–æ–≤–∞—Ä–∏–∞–Ω—Ç–Ω—ã–π —Ñ–∞–±—Ä–∏—á–Ω—ã–π –º–µ—Ç–æ–¥.**
    –°–æ–∑–¥–∞–π—Ç–µ –±–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å `Product` –∏ –¥–≤–∞ –µ–≥–æ –ø–æ–¥–∫–ª–∞—Å—Å–∞: `Book` –∏ `ElectronicDevice`. –ù–∞–ø–∏—à–∏—Ç–µ –æ–±–æ–±—â–µ–Ω–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å `Factory<T>` —Å –º–µ—Ç–æ–¥–æ–º `create(): T`. –ü—Ä–æ–¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–π—Ç–µ, –∫–∞–∫ `Factory<Book>` –º–æ–∂–µ—Ç –±—ã—Ç—å –ø—Ä–∏—Å–≤–æ–µ–Ω–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π —Ç–∏–ø–∞ `Factory<Product>`.

    ```typescript
    // –í–∞—à–∏ –∫–ª–∞—Å—Å—ã Product, Book, ElectronicDevice
    // –í–∞—à –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å Factory<T>
    // –í–∞—à –∫–æ–¥ –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏ –ø—Ä–∏—Å–≤–æ–µ–Ω–∏—è
    ```

2.  **–ó–∞–¥–∞—á–∞ 2: –ö–æ–Ω—Ç—Ä–∞–≤–∞—Ä–∏–∞–Ω—Ç–Ω—ã–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ —Å–æ–±—ã—Ç–∏–π.**
    –ü—Ä–µ–¥—Å—Ç–∞–≤—å—Ç–µ, —á—Ç–æ —É –≤–∞—Å –µ—Å—Ç—å —Å–∏—Å—Ç–µ–º–∞ —Å–æ–±—ã—Ç–∏–π. –û–ø—Ä–µ–¥–µ–ª–∏—Ç–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å `Event` –∏ –¥–≤–∞ –µ–≥–æ –ø–æ–¥—Ç–∏–ø–∞: `ClickEvent` –∏ `KeyboardEvent`. –°–æ–∑–¥–∞–π—Ç–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å `EventHandler<T extends Event>` —Å –º–µ—Ç–æ–¥–æ–º `handle(event: T): void`. –ü—Ä–æ–¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–π—Ç–µ, –∫–∞–∫ `EventHandler<Event>` –º–æ–∂–µ—Ç –±—ã—Ç—å –ø—Ä–∏—Å–≤–æ–µ–Ω –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π —Ç–∏–ø–∞ `EventHandler<ClickEvent>`.

    ```typescript
    // –í–∞—à–∏ –∫–ª–∞—Å—Å—ã Event, ClickEvent, KeyboardEvent
    // –í–∞—à –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å EventHandler<T>
    // –í–∞—à –∫–æ–¥ –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏ –ø—Ä–∏—Å–≤–æ–µ–Ω–∏—è
    ```

3.  **–ó–∞–¥–∞—á–∞ 3: –ò–Ω–≤–∞—Ä–∏–∞–Ω—Ç–Ω–∞—è –æ—á–µ—Ä–µ–¥—å —Å –º—É—Ç–∞—Ü–∏–µ–π.**
    –°–æ–∑–¥–∞–π—Ç–µ –æ–±–æ–±—â–µ–Ω–Ω—ã–π –∫–ª–∞—Å—Å `MutableQueue<T>`, –∫–æ—Ç–æ—Ä—ã–π –∏–º–µ–µ—Ç –º–µ—Ç–æ–¥—ã `enqueue(item: T): void` –∏ `dequeue(): T`. –ü–æ–∫–∞–∂–∏—Ç–µ, —á—Ç–æ `MutableQueue<Book>` –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø—Ä–∏—Å–≤–æ–µ–Ω `MutableQueue<Product>` (–∏ –Ω–∞–æ–±–æ—Ä–æ—Ç), –æ–±—ä—è—Å–Ω–∏–≤, –ø–æ—á–µ–º—É —ç—Ç–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤–∞—à `tsconfig.json` –∏–º–µ–µ—Ç `strictFunctionTypes: true`.

    ```typescript
    // –í–∞—à –∫–ª–∞—Å—Å MutableQueue<T>
    // –í–∞—à –∫–æ–¥ –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏ –∏–Ω–≤–∞—Ä–∏–∞–Ω—Ç–Ω–æ—Å—Ç–∏
    ```

### ### üí° –°–æ–≤–µ—Ç

–í—Å–µ–≥–¥–∞ –≤–∫–ª—é—á–∞–π—Ç–µ `strictFunctionTypes: true` –≤ –≤–∞—à–µ–º `tsconfig.json`. –≠—Ç–æ –æ–¥–Ω–∞ –∏–∑ —Å–∞–º—ã—Ö –≤–∞–∂–Ω—ã—Ö –æ–ø—Ü–∏–π –¥–ª—è –ø–æ–≤—ã—à–µ–Ω–∏—è —Ç–∏–ø–æ–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –≤ TypeScript, —Ç–∞–∫ –∫–∞–∫ –æ–Ω–∞ –∑–∞—Å—Ç–∞–≤–ª—è–µ—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Ñ—É–Ω–∫—Ü–∏–π –±—ã—Ç—å –∫–æ–Ω—Ç—Ä–∞–≤–∞—Ä–∏–∞–Ω—Ç–Ω—ã–º–∏, –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞—è –º–Ω–æ–∂–µ—Å—Ç–≤–æ –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã—Ö –æ—à–∏–±–æ–∫, —Å–≤—è–∑–∞–Ω–Ω—ã—Ö —Å –±–∏–≤–∞—Ä–∏–∞–Ω—Ç–Ω–æ—Å—Ç—å—é. –ü–æ–Ω–∏–º–∞–Ω–∏–µ –∏ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –ø—Ä–∞–≤–∏–ª –≤–∞—Ä–∏–∞–Ω—Ç–Ω–æ—Å—Ç–∏ ‚Äî —ç—Ç–æ –∫–ª—é—á –∫ —Å–æ–∑–¥–∞–Ω–∏—é —Ä–æ–±–∞—Å—Ç–Ω—ã—Ö –∏ –±–µ–∑–æ—à–∏–±–æ—á–Ω—ã—Ö —Å–∏—Å—Ç–µ–º —Ç–∏–ø–æ–≤ –≤ TypeScript.