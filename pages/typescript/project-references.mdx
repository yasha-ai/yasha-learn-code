## TypeScript: –ü—Ä–æ–µ–∫—Ç–Ω—ã–µ –°—Å—ã–ª–∫–∏ (Project References)

–ü—Ä–∏–≤–µ—Ç, –∫–æ–¥–µ—Ä! –°–µ–≥–æ–¥–Ω—è –º—ã –ø–æ–≥—Ä—É–∑–∏–º—Å—è –≤ –º–∏—Ä –±–æ–ª—å—à–∏—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤ –∏ —É–∑–Ω–∞–µ–º, –∫–∞–∫ TypeScript –ø–æ–º–æ–≥–∞–µ—Ç –Ω–∞–º —É–ø—Ä–∞–≤–ª—è—Ç—å –∏–º–∏, –∫–∞–∫ –Ω–∞—Å—Ç–æ—è—â–∏–π –¥–∏—Ä–∏–∂–µ—Ä –æ—Ä–∫–µ—Å—Ç—Ä–æ–º. –ú—ã –ø–æ–≥–æ–≤–æ—Ä–∏–º –æ "–ü—Ä–æ–µ–∫—Ç–Ω—ã—Ö –°—Å—ã–ª–∫–∞—Ö" (Project References) ‚Äî —Ñ–∏—á–µ, –∫–æ—Ç–æ—Ä–∞—è —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –Ω–µ–∑–∞–º–µ–Ω–∏–º–æ–π, –∫–æ–≥–¥–∞ —Ç–≤–æ–π –∫–æ–¥ —Ä–∞–∑—Ä–∞—Å—Ç–∞–µ—Ç—Å—è –¥–æ —Ä–∞–∑–º–µ—Ä–æ–≤ —Ü–µ–ª–æ–≥–æ –≥–æ—Ä–æ–¥–∞, –∞ –Ω–µ –ø—Ä–æ—Å—Ç–æ —É—é—Ç–Ω–æ–≥–æ –¥–æ–º–∏–∫–∞.

–ü—Ä–µ–¥—Å—Ç–∞–≤—å, —á—Ç–æ —É —Ç–µ–±—è –Ω–µ –æ–¥–∏–Ω, –∞ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–≤—è–∑–∞–Ω–Ω—ã—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤: –æ–±—â–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ UI, API-–∫–ª–∏–µ–Ω—Ç, –Ω–∞–ø–∏—Å–∞–Ω–Ω—ã–π –Ω–∞ TypeScript, –∏ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π, –∫–æ—Ç–æ—Ä—ã–µ –≤—Å–µ —ç—Ç–æ –∏—Å–ø–æ–ª—å–∑—É—é—Ç. –†–∞–Ω—å—à–µ, —á—Ç–æ–±—ã –≤—Å–µ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–ª–æ –≤–º–µ—Å—Ç–µ, –ø—Ä–∏—Ö–æ–¥–∏–ª–æ—Å—å –º—É–¥—Ä–∏—Ç—å —Å `npm link` –∏–ª–∏ –ø–æ—Å—Ç–æ—è–Ω–Ω–æ –ø–µ—Ä–µ—Å–æ–±–∏—Ä–∞—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –≤—Ä—É—á–Ω—É—é. TypeScript Project References ‚Äî —ç—Ç–æ —Ç–≤–æ–π –ª–∏—á–Ω—ã–π –º–µ–Ω–µ–¥–∂–µ—Ä –ø–æ —Å–±–æ—Ä–∫–µ –≤ —Ç–∞–∫–∏—Ö —Å—Ü–µ–Ω–∞—Ä–∏—è—Ö. –û–Ω –ø–æ–∑–≤–æ–ª—è–µ—Ç TypeScript-–∫–æ–º–ø–∏–ª—è—Ç–æ—Ä—É –ø–æ–Ω—è—Ç—å, –∫–∞–∫ —Ä–∞–∑–Ω—ã–µ —á–∞—Å—Ç–∏ —Ç–≤–æ–µ–≥–æ –º–æ–Ω–æ—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è —Å–≤—è–∑–∞–Ω—ã –º–µ–∂–¥—É —Å–æ–±–æ–π, –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ—Å–æ–±–∏—Ä–∞—Ç—å —Ç–æ–ª—å–∫–æ —Ç–æ, —á—Ç–æ –Ω—É–∂–Ω–æ.

### ‚ú® –ß—Ç–æ —Ç–∞–∫–æ–µ Project References –∏ –∑–∞—á–µ–º –æ–Ω–∏ –Ω—É–∂–Ω—ã?

Project References –ø–æ–∑–≤–æ–ª—è—é—Ç —Ä–∞–∑–±–∏—Ç—å –æ–¥–∏–Ω –±–æ–ª—å—à–æ–π TypeScript-–ø—Ä–æ–µ–∫—Ç –Ω–∞ –º–Ω–æ–∂–µ—Å—Ç–≤–æ –º–∞–ª–µ–Ω—å–∫–∏—Ö, –≤–∑–∞–∏–º–æ—Å–≤—è–∑–∞–Ω–Ω—ã—Ö –ø–æ–¥–ø—Ä–æ–µ–∫—Ç–æ–≤. –ö–∞–∂–¥—ã–π –ø–æ–¥–ø—Ä–æ–µ–∫—Ç –∏–º–µ–µ—Ç —Å–≤–æ–π —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π `tsconfig.json`. –ö–æ–≥–¥–∞ —Ç—ã —É–∫–∞–∑—ã–≤–∞–µ—à—å –æ–¥–∏–Ω –ø—Ä–æ–µ–∫—Ç –∫–∞–∫ "—Å—Å—ã–ª–∫—É" –¥–ª—è –¥—Ä—É–≥–æ–≥–æ, TypeScript –ø–æ–ª—É—á–∞–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è—Ö –º–µ–∂–¥—É –Ω–∏–º–∏.

**–û—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
*   **–£—Å–∫–æ—Ä–µ–Ω–∏–µ —Å–±–æ—Ä–∫–∏:** `tsc -b` (Build Mode) –ø–µ—Ä–µ—Å–æ–±–∏—Ä–∞–µ—Ç —Ç–æ–ª—å–∫–æ —Ç–µ –ø—Ä–æ–µ–∫—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ –∏–∑–º–µ–Ω–∏–ª–∏—Å—å –∏–ª–∏ –æ—Ç –∫–æ—Ç–æ—Ä—ã—Ö –∑–∞–≤–∏—Å—è—Ç –∏–∑–º–µ–Ω–∏–≤—à–∏–µ—Å—è –ø—Ä–æ–µ–∫—Ç—ã. –≠—Ç–æ –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ —Å–æ–∫—Ä–∞—â–∞–µ—Ç –≤—Ä–µ–º—è —Å–±–æ—Ä–∫–∏ –≤ –±–æ–ª—å—à–∏—Ö –∫–æ–¥–æ–≤—ã—Ö –±–∞–∑–∞—Ö.
*   **–£–ª—É—á—à–µ–Ω–Ω–∞—è –∏–∑–æ–ª—è—Ü–∏—è:** –ö–∞–∂–¥—ã–π –ø–æ–¥–ø—Ä–æ–µ–∫—Ç –∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç—Å—è –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ, —á—Ç–æ –ø–æ–º–æ–≥–∞–µ—Ç –∏–∑–±–µ–∂–∞—Ç—å –ø—Ä–æ–±–ª–µ–º —Å –≥–ª–æ–±–∞–ª—å–Ω—ã–º–∏ —Ç–∏–ø–∞–º–∏ –∏ —É–ª—É—á—à–∞–µ—Ç –∏–∑–æ–ª—è—Ü–∏—é –º–æ–¥—É–ª–µ–π.
*   **–ù–∞–≤–∏–≥–∞—Ü–∏—è –≤ IDE:** –†–µ–¥–∞–∫—Ç–æ—Ä—ã –∫–æ–¥–∞ (VS Code, WebStorm) –ª—É—á—à–µ –ø–æ–Ω–∏–º–∞—é—Ç —Å–≤—è–∑–∏ –º–µ–∂–¥—É –ø—Ä–æ–µ–∫—Ç–∞–º–∏, –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—è –±–æ–ª–µ–µ —Ç–æ—á–Ω—É—é –∞–≤—Ç–æ–¥–æ–ø–æ–ª–Ω–µ–Ω–∏–µ, –Ω–∞–≤–∏–≥–∞—Ü–∏—é –∏ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –º–µ–∂–¥—É –≥—Ä–∞–Ω–∏—Ü–∞–º–∏ –ø—Ä–æ–µ–∫—Ç–æ–≤.
*   **–ú–æ–Ω–æ—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏:** –ò–¥–µ–∞–ª—å–Ω–æ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –º–æ–Ω–æ—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–µ–≤, –≥–¥–µ –º–Ω–æ–∂–µ—Å—Ç–≤–æ –ø–∞–∫–µ—Ç–æ–≤ –∂–∏–≤—É—Ç –≤ –æ–¥–Ω–æ–º —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ –∏ –∑–∞–≤–∏—Å—è—Ç –¥—Ä—É–≥ –æ—Ç –¥—Ä—É–≥–∞.

–ß—Ç–æ–±—ã –ø—Ä–æ–µ–∫—Ç –º–æ–≥ –±—ã—Ç—å *—Ü–µ–ª—å—é* —Å—Å—ã–ª–∫–∏ (—Ç–æ –µ—Å—Ç—å, –Ω–∞ –Ω–µ–≥–æ —Å—Å—ã–ª–∞—é—Ç—Å—è –¥—Ä—É–≥–∏–µ), –æ–Ω –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å `composite`. –≠—Ç–æ –∫–∞–∫ —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç, –Ω–∞ –∫–æ—Ç–æ—Ä–æ–º –±—É–¥—É—Ç —Å—Ç—Ä–æ–∏—Ç—å—Å—è –¥—Ä—É–≥–∏–µ –∑–¥–∞–Ω–∏—è.

### üèóÔ∏è –û—Å–Ω–æ–≤—ã: `composite` –∏ `references`

–î–∞–≤–∞–π –ø—Ä–µ–¥—Å—Ç–∞–≤–∏–º, —á—Ç–æ —É –Ω–∞—Å –µ—Å—Ç—å –º–æ–Ω–æ—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π —Å–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π:

```
my-monorepo/
‚îú‚îÄ‚îÄ packages/
‚îÇ   ‚îú‚îÄ‚îÄ utils/          <-- –û–±—â–∏–µ —É—Ç–∏–ª–∏—Ç—ã (composite)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ index.ts
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ tsconfig.json
‚îÇ   ‚îú‚îÄ‚îÄ api-client/     <-- –ö–ª–∏–µ–Ω—Ç –¥–ª—è API, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç 'utils' (composite)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ index.ts
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ tsconfig.json
‚îÇ   ‚îî‚îÄ‚îÄ web-app/        <-- –§—Ä–æ–Ω—Ç–µ–Ω–¥-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç 'api-client'
‚îÇ       ‚îú‚îÄ‚îÄ src/
‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ main.ts
‚îÇ       ‚îî‚îÄ‚îÄ tsconfig.json
‚îî‚îÄ‚îÄ tsconfig.json       <-- –ö–æ—Ä–Ω–µ–≤–æ–π tsconfig –¥–ª—è —Å–±–æ—Ä–∫–∏ –≤—Å–µ—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤
```

#### `packages/utils/tsconfig.json`

–≠—Ç–æ –Ω–∞—à "—Ñ—É–Ω–¥–∞–º–µ–Ω—Ç". –û–Ω –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å `composite`.

```json
// packages/utils/tsconfig.json
{
  "compilerOptions": {
    "composite": true, // –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –¥–ª—è –ø—Ä–æ–µ–∫—Ç–∞, –Ω–∞ –∫–æ—Ç–æ—Ä—ã–π —Å—Å—ã–ª–∞—é—Ç—Å—è
    "outDir": "./dist",
    "rootDir": "./src",
    "declaration": true, // –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º .d.ts —Ñ–∞–π–ª—ã –¥–ª—è –ø—É–±–ª–∏—á–Ω–æ–≥–æ API
    "strict": true,
    "module": "esnext",
    "target": "es2019",
    "esModuleInterop": true,
    "moduleResolution": "node"
  },
  "include": ["src"]
}
```

```typescript
// packages/utils/src/index.ts
export function formatString(text: string): string {
  return text.toUpperCase(); // –ü—Ä–æ—Å—Ç–∞—è —É—Ç–∏–ª–∏—Ç–∞ –¥–ª—è —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Å—Ç—Ä–æ–∫–∏
}

export function generateId(): string {
  return Math.random().toString(36).substring(2, 9); // –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º —Å–ª—É—á–∞–π–Ω—ã–π ID
}
```

#### `packages/api-client/tsconfig.json`

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç —Å—Å—ã–ª–∞–µ—Ç—Å—è –Ω–∞ `utils`. –û–Ω —Ç–æ–∂–µ –±—É–¥–µ—Ç `composite`, —Ç–∞–∫ –∫–∞–∫ –Ω–∞ –Ω–µ–≥–æ –º–æ–∂–µ—Ç —Å—Å—ã–ª–∞—Ç—å—Å—è `web-app`.

```json
// packages/api-client/tsconfig.json
{
  "compilerOptions": {
    "composite": true,
    "outDir": "./dist",
    "rootDir": "./src",
    "declaration": true,
    "strict": true,
    "module": "esnext",
    "target": "es2019",
    "esModuleInterop": true,
    "moduleResolution": "node",
    // –û—á–µ–Ω—å –≤–∞–∂–Ω–æ: baseUrl –∏ paths –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–≥–æ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –º–æ–¥—É–ª–µ–π
    "baseUrl": ".",
    "paths": {
      "@my-monorepo/utils": ["../utils/src"] // –°—Å—ã–ª–∫–∞ –Ω–∞ –∏—Å—Ö–æ–¥–Ω–∏–∫–∏ utils
    }
  },
  "include": ["src"],
  "references": [
    // –£–∫–∞–∑—ã–≤–∞–µ–º, —á—Ç–æ —ç—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç –∑–∞–≤–∏—Å–∏—Ç –æ—Ç 'utils'
    { "path": "../utils" } 
  ]
}
```

```typescript
// packages/api-client/src/index.ts
import { formatString, generateId } from '@my-monorepo/utils'; // –ò–º–ø–æ—Ä—Ç –∏–∑ utils —á–µ—Ä–µ–∑ paths

export interface User {
  id: string;
  name: string;
  email: string;
}

export class ApiClient {
  private apiUrl: string;

  constructor(apiUrl: string) {
    this.apiUrl = apiUrl;
  }

  fetchUser(userId: string): User {
    console.log(`Fetching user ${formatString(userId)} from ${this.apiUrl}`);
    return {
      id: generateId(),
      name: `User ${userId}`,
      email: `${userId}@example.com`,
    };
  }
}
```

–û–±—Ä–∞—Ç–∏ –≤–Ω–∏–º–∞–Ω–∏–µ –Ω–∞ `paths` –≤ `api-client/tsconfig.json`. –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –Ω–∞–º –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –º–æ–¥—É–ª–∏ –∏–∑ `utils` —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –Ω–µ –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã—Ö –ø—É—Ç–µ–π, –∞ –∫—Ä–∞—Å–∏–≤—ã—Ö –∞–ª–∏–∞—Å–æ–≤, –∫–∞–∫ –µ—Å–ª–∏ –±—ã —ç—Ç–æ –±—ã–ª npm-–ø–∞–∫–µ—Ç.

#### `packages/web-app/tsconfig.json`

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `api-client` –∏ –Ω–µ —è–≤–ª—è–µ—Ç—Å—è `composite`, —Ç–∞–∫ –∫–∞–∫ –æ—Ç –Ω–µ–≥–æ –Ω–∏–∫—Ç–æ –Ω–µ –∑–∞–≤–∏—Å–∏—Ç.

```json
// packages/web-app/tsconfig.json
{
  "compilerOptions": {
    "outDir": "./dist",
    "rootDir": "./src",
    "strict": true,
    "module": "esnext",
    "target": "es2019",
    "esModuleInterop": true,
    "moduleResolution": "node",
    "jsx": "react-jsx", // –ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ–º React
    "baseUrl": ".",
    "paths": {
      "@my-monorepo/api-client": ["../api-client/src"], // –°—Å—ã–ª–∫–∞ –Ω–∞ –∏—Å—Ö–æ–¥–Ω–∏–∫–∏ api-client
      "@my-monorepo/utils": ["../utils/src"] // –¢–∞–∫–∂–µ –º–æ–∂–µ–º –Ω–∞–ø—Ä—è–º—É—é —Å–æ—Å–ª–∞—Ç—å—Å—è –Ω–∞ utils
    }
  },
  "include": ["src"],
  "references": [
    // –£–∫–∞–∑—ã–≤–∞–µ–º, —á—Ç–æ web-app –∑–∞–≤–∏—Å–∏—Ç –æ—Ç api-client
    { "path": "../api-client" }
    // –ú–æ–∂–Ω–æ —Ç–∞–∫–∂–µ –¥–æ–±–∞–≤–∏—Ç—å —Å—Å—ã–ª–∫—É –Ω–∞ utils, –µ—Å–ª–∏ –±—ã web-app –µ–≥–æ –Ω–∞–ø—Ä—è–º—É—é –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª
    // { "path": "../utils" }
  ]
}
```

```typescript
// packages/web-app/src/main.ts
import { ApiClient, User } from '@my-monorepo/api-client';
import { formatString } from '@my-monorepo/utils'; // –ü—Ä—è–º–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ utils

const client = new ApiClient("https://api.example.com");

function displayUser(user: User): void {
  console.log(`Displaying user: ${formatString(user.name)} (${user.email})`);
}

const fetchedUser = client.fetchUser("john-doe-123");
displayUser(fetchedUser);

// –ü—Ä–∏–º–µ—Ä, –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É—é—â–∏–π, —á—Ç–æ –º–æ–∂–Ω–æ –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –∏ –∏–∑ utils –Ω–∞–ø—Ä—è–º—É—é
console.log(`Formatted message: ${formatString("hello from web app")}`);
```

#### –ö–æ—Ä–Ω–µ–≤–æ–π `tsconfig.json`

–≠—Ç–æ—Ç —Ñ–∞–π–ª –Ω—É–∂–µ–Ω –¥–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã –∑–∞–ø—É—Å—Ç–∏—Ç—å —Å–±–æ—Ä–∫—É –≤—Å–µ—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤ –∏–∑ –∫–æ—Ä–Ω—è –º–æ–Ω–æ—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è —Å –ø–æ–º–æ—â—å—é `tsc -b`.

```json
// my-monorepo/tsconfig.json
{
  "files": [], // –ù–µ –∫–æ–º–ø–∏–ª–∏—Ä—É–µ–º —Ñ–∞–π–ª—ã –Ω–∞–ø—Ä—è–º—É—é
  "references": [
    // –£–∫–∞–∑—ã–≤–∞–µ–º –≤—Å–µ –ø—Ä–æ–µ–∫—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ –Ω—É–∂–Ω–æ —Å–æ–±—Ä–∞—Ç—å
    { "path": "packages/utils" },
    { "path": "packages/api-client" },
    { "path": "packages/web-app" }
  ]
}
```

### üöÄ –ó–∞–ø—É—Å–∫ —Å–±–æ—Ä–∫–∏

–¢–µ–ø–µ—Ä—å, —á—Ç–æ–±—ã —Å–æ–±—Ä–∞—Ç—å –≤–µ—Å—å –º–æ–Ω–æ—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π, –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –∑–∞–ø—É—Å—Ç–∏—Ç—å –æ–¥–Ω—É –∫–æ–º–∞–Ω–¥—É –∏–∑ –∫–æ—Ä–Ω—è:

```bash
tsc -b
```

TypeScript –ø—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç `my-monorepo/tsconfig.json`, –Ω–∞–π–¥–µ—Ç –≤—Å–µ —Å—Å—ã–ª–∫–∏, –æ–ø—Ä–µ–¥–µ–ª–∏—Ç –ø–æ—Ä—è–¥–æ–∫ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π (`utils` -> `api-client` -> `web-app`) –∏ —Å–æ–±–µ—Ä–µ—Ç –∏—Ö. –ï—Å–ª–∏ —Ç—ã –∏–∑–º–µ–Ω–∏—à—å —Ñ–∞–π–ª –≤ `packages/utils`, –∞ –∑–∞—Ç–µ–º —Å–Ω–æ–≤–∞ –∑–∞–ø—É—Å—Ç–∏—à—å `tsc -b`, TypeScript –ø–µ—Ä–µ—Å–æ–±–µ—Ä–µ—Ç —Ç–æ–ª—å–∫–æ `utils`, –∑–∞—Ç–µ–º `api-client` (–ø–æ—Ç–æ–º—É —á—Ç–æ `utils` –∏–∑–º–µ–Ω–∏–ª—Å—è) –∏, –Ω–∞–∫–æ–Ω–µ—Ü, `web-app` (–ø–æ—Ç–æ–º—É —á—Ç–æ `api-client` –∏–∑–º–µ–Ω–∏–ª—Å—è). –≠—Ç–æ –º–∞–≥–∏—è!

### ‚ùå –¢–∏–ø–∏—á–Ω—ã–µ –æ—à–∏–±–∫–∏ –∏ –∏—Ö —Ä–µ—à–µ–Ω–∏—è

1.  **–ó–∞–±—ã–ª–∏ `composite: true`**:
    *   **–û—à–∏–±–∫–∞**: `Error: Project 'path/to/project/tsconfig.json' cannot be referenced without setting 'composite: true'.`
    *   **–†–µ—à–µ–Ω–∏–µ**: –î–æ–±–∞–≤—å `"composite": true` –≤ `compilerOptions` *–∫–∞–∂–¥–æ–≥–æ* –ø—Ä–æ–µ–∫—Ç–∞, –Ω–∞ –∫–æ—Ç–æ—Ä—ã–π —Å—Å—ã–ª–∞—é—Ç—Å—è –¥—Ä—É–≥–∏–µ –ø—Ä–æ–µ–∫—Ç—ã.

2.  **–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ `paths` –∏–ª–∏ `baseUrl`**:
    *   **–û—à–∏–±–∫–∞**: `Module not found` –ø—Ä–∏ –∏–º–ø–æ—Ä—Ç–µ –∏–∑ —Å—Å—ã–ª–æ—á–Ω–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞.
    *   **–†–µ—à–µ–Ω–∏–µ**: –£–±–µ–¥–∏—Å—å, —á—Ç–æ `baseUrl` —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ (–æ–±—ã—á–Ω–æ `.` –¥–ª—è —Ç–µ–∫—É—â–µ–≥–æ `tsconfig.json`) –∏ `paths` —É–∫–∞–∑—ã–≤–∞—é—Ç –Ω–∞ *–∏—Å—Ö–æ–¥–Ω—ã–µ —Ñ–∞–π–ª—ã* (—á–∞—â–µ –≤—Å–µ–≥–æ `src`) —Å—Å—ã–ª–æ—á–Ω–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞, –∞ –Ω–µ –Ω–∞ –µ–≥–æ `dist`. –ü—É—Ç–∏ –≤ `paths` –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã `baseUrl`.

3.  **–ù–µ –∏—Å–ø–æ–ª—å–∑—É–µ—à—å `tsc -b`**:
    *   **–û—à–∏–±–∫–∞**: –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è—Ö –Ω–µ –æ—Ç—Ä–∞–∂–∞—é—Ç—Å—è –≤ –∫–æ–Ω–µ—á–Ω–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏, –∏–ª–∏ `tsc` –≤—ã–¥–∞–µ—Ç –æ—à–∏–±–∫–∏, —á—Ç–æ –Ω–µ –º–æ–∂–µ—Ç –Ω–∞–π—Ç–∏ –º–æ–¥—É–ª–∏.
    *   **–†–µ—à–µ–Ω–∏–µ**: –í—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–π `tsc -b` –¥–ª—è —Å–±–æ—Ä–∫–∏ –ø—Ä–æ–µ–∫—Ç–æ–≤ —Å Project References. –û–±—ã—á–Ω—ã–π `tsc` –Ω–µ –±—É–¥–µ—Ç —É—á–∏—Ç—ã–≤–∞—Ç—å —Å–≤—è–∑–∏ –º–µ–∂–¥—É –ø—Ä–æ–µ–∫—Ç–∞–º–∏.

4.  **–¶–∏–∫–ª–∏—á–µ—Å–∫–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏**:
    *   **–û—à–∏–±–∫–∞**: TypeScript –≤—ã–¥–∞—Å—Ç –æ—à–∏–±–∫—É, –µ—Å–ª–∏ –æ–±–Ω–∞—Ä—É–∂–∏—Ç —Ü–∏–∫–ª–∏—á–µ—Å–∫—É—é –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –º–µ–∂–¥—É –ø—Ä–æ–µ–∫—Ç–∞–º–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `A` —Å—Å—ã–ª–∞–µ—Ç—Å—è –Ω–∞ `B`, –∞ `B` —Å—Å—ã–ª–∞–µ—Ç—Å—è –Ω–∞ `A`).
    *   **–†–µ—à–µ–Ω–∏–µ**: –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥. –†–∞–∑–±–µ–π –ø—Ä–æ–µ–∫—Ç—ã —Ç–∞–∫, —á—Ç–æ–±—ã –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –±—ã–ª–∏ –æ–¥–Ω–æ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–º–∏. –í–æ–∑–º–æ–∂–Ω–æ, –≤—ã–¥–µ–ª–∏ –æ–±—â—É—é —á–∞—Å—Ç—å –≤ —Ç—Ä–µ—Ç–∏–π, –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã–π –ø—Ä–æ–µ–∫—Ç.

### ### üéØ –ü—Ä–∞–∫—Ç–∏–∫–∞

–°–æ–∑–¥–∞–π —Å–ª–µ–¥—É—é—â–∏–π –º–æ–Ω–æ—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –∏ –Ω–∞—Å—Ç—Ä–æ–π Project References:

```
my-advanced-project/
‚îú‚îÄ‚îÄ packages/
‚îÇ   ‚îú‚îÄ‚îÄ logger/         <-- –ü—Ä–æ–µ–∫—Ç –¥–ª—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è (composite)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ index.ts
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ tsconfig.json
‚îÇ   ‚îú‚îÄ‚îÄ data-validator/ <-- –ü—Ä–æ–µ–∫—Ç –¥–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö (composite), –∏—Å–ø–æ–ª—å–∑—É–µ—Ç 'logger'
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ index.ts
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ tsconfig.json
‚îÇ   ‚îî‚îÄ‚îÄ backend-service/ <-- –ë—ç–∫–µ–Ω–¥-—Å–µ—Ä–≤–∏—Å, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç 'logger' –∏ 'data-validator'
‚îÇ       ‚îú‚îÄ‚îÄ src/
‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ server.ts
‚îÇ       ‚îî‚îÄ‚îÄ tsconfig.json
‚îî‚îÄ‚îÄ tsconfig.json       <-- –ö–æ—Ä–Ω–µ–≤–æ–π tsconfig
```

**–ó–∞–¥–∞–Ω–∏—è:**

1.  **–ù–∞—Å—Ç—Ä–æ–π `tsconfig.json` –¥–ª—è `packages/logger`**:
    *   –°–¥–µ–ª–∞–π –µ–≥–æ `composite`.
    *   –í `src/index.ts` —Å–æ–∑–¥–∞–π –ø—Ä–æ—Å—Ç—É—é —Ñ—É–Ω–∫—Ü–∏—é `log(message: string, level: 'info' | 'warn' | 'error')`.

2.  **–ù–∞—Å—Ç—Ä–æ–π `tsconfig.json` –¥–ª—è `packages/data-validator`**:
    *   –°–¥–µ–ª–∞–π –µ–≥–æ `composite`.
    *   –î–æ–±–∞–≤—å —Å—Å—ã–ª–∫—É –Ω–∞ `packages/logger`.
    *   –ù–∞—Å—Ç—Ä–æ–π `paths`, —á—Ç–æ–±—ã –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å `log` –∏–∑ `logger` –∫–∞–∫ `@my-project/logger`.
    *   –í `src/index.ts` —Å–æ–∑–¥–∞–π —Ñ—É–Ω–∫—Ü–∏—é `isValidEmail(email: string): boolean`, –∫–æ—Ç–æ—Ä–∞—è –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `log` –¥–ª—è –≤—ã–≤–æ–¥–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –≤–∞–ª–∏–¥–∞—Ü–∏–∏.

3.  **–ù–∞—Å—Ç—Ä–æ–π `tsconfig.json` –¥–ª—è `packages/backend-service`**:
    *   –î–æ–±–∞–≤—å —Å—Å—ã–ª–∫–∏ –Ω–∞ `packages/logger` –∏ `packages/data-validator`.
    *   –ù–∞—Å—Ç—Ä–æ–π `paths` –¥–ª—è –æ–±–æ–∏—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `@my-project/logger` –∏ `@my-project/data-validator`).
    *   –í `src/server.ts` –∏—Å–ø–æ–ª—å–∑—É–π —Ñ—É–Ω–∫—Ü–∏–∏ `log` –∏ `isValidEmail` –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∫–∞–∫–æ–≥–æ-–ª–∏–±–æ "–∑–∞–ø—Ä–æ—Å–∞".

4.  **–°–æ–∑–¥–∞–π –∫–æ—Ä–Ω–µ–≤–æ–π `tsconfig.json`**:
    *   –í–∫–ª—é—á–∏ –≤ –Ω–µ–≥–æ —Å—Å—ã–ª–∫–∏ –Ω–∞ –≤—Å–µ —Ç—Ä–∏ –ø–∞–∫–µ—Ç–∞.

5.  **–ü—Ä–æ–≤–µ—Ä—å —Å–±–æ—Ä–∫—É**:
    *   –ó–∞–ø—É—Å—Ç–∏ `tsc -b` –∏–∑ –∫–æ—Ä–Ω—è –ø—Ä–æ–µ–∫—Ç–∞.
    *   –ò–∑–º–µ–Ω–∏ —á—Ç–æ-–Ω–∏–±—É–¥—å –≤ `packages/logger/src/index.ts` –∏ —Å–Ω–æ–≤–∞ –∑–∞–ø—É—Å—Ç–∏ `tsc -b`. –£–±–µ–¥–∏—Å—å, —á—Ç–æ –ø–µ—Ä–µ—Å–æ–±–∏—Ä–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –∏–∑–º–µ–Ω–∏–≤—à–∏–µ—Å—è –ø—Ä–æ–µ–∫—Ç—ã –∏ –∏—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏.

### üí° –°–æ–≤–µ—Ç

–í—Å–µ–≥–¥–∞ —Å—Ç—Ä–µ–º–∏—Å—å –∫ —Ç–æ–º—É, —á—Ç–æ–±—ã —Ç–≤–æ–∏ `composite` –ø—Ä–æ–µ–∫—Ç—ã —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–ª–∏ —Ç–æ–ª—å–∫–æ —Ç–æ—Ç –∫–æ–¥, –∫–æ—Ç–æ—Ä—ã–π –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ —è–≤–ª—è–µ—Ç—Å—è —á–∞—Å—Ç—å—é –∏—Ö –ø—É–±–ª–∏—á–Ω–æ–≥–æ API. –ò—Å–ø–æ–ª—å–∑—É–π `declaration: true` –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ `.d.ts` —Ñ–∞–π–ª–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –±—É–¥—É—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è —Å—Å—ã–ª–∞—é—â–∏–º–∏—Å—è –ø—Ä–æ–µ–∫—Ç–∞–º–∏. –≠—Ç–æ –ø–æ–º–æ–≥–∞–µ—Ç —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å —á–∏—Å—Ç–æ—Ç—É –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –∏ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—Ç–∏—Ç—å —Å–ª—É—á–∞–π–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏—Ö —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–π. –ò–º—è –∞–ª–∏–∞—Å–æ–≤ –≤ `paths` (–Ω–∞–ø—Ä–∏–º–µ—Ä, `@my-monorepo/utils`) –ª—É—á—à–µ –≤—Å–µ–≥–æ –¥–µ–ª–∞—Ç—å —É–Ω–∏–∫–∞–ª—å–Ω—ã–º–∏ –∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–º–∏ –∏–º–µ–Ω–∞–º –ø–∞–∫–µ—Ç–æ–≤, —á—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤ –∏ —É–ª—É—á—à–∏—Ç—å —á–∏—Ç–∞–µ–º–æ—Å—Ç—å.



## –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π –ø—Ä–∏–º–µ—Ä

<Playground
  template="vanilla-ts"
  files={{
    "/index.html": `
<!DOCTYPE html>
<html>
<head>
  <title>TypeScript Project References Demo</title>
  <style>
    body { background: #282c34; color: white; font-family: sans-serif; display: flex; flex-direction: column; align-items: center; }
    #output { margin-top: 20px; font-size: 1.2em; }
  </style>
</head>
<body>
  <h1>Project References Demo</h1>
  <button id="greetBtn">Greet!</button>
  <div id="output"></div>

  <script>
    const greetBtn = document.getElementById('greetBtn');
    const outputDiv = document.getElementById('output');

    greetBtn.addEventListener('click', async () => {
      const { greet } = await import('./utils');
      outputDiv.textContent = greet('User');
    });
  <\/script>
</body>
</html>
`,
    "/utils.ts": `
export function greet(name: string): string {
  return \`Hello, \${name}!\`;
}
`
  }}
/>
