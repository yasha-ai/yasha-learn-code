## HTML: Скелет. Урок: Datalist and Autocomplete


![Иллюстрация к уроку](/lessons/html-datalist-autocomplete.png)
В этом уроке мы рассмотрим, как использовать тег `<datalist>` для добавления функциональности автозаполнения к полям ввода HTML. Это позволяет пользователям быстрее и удобнее вводить данные в ваши формы.

### Что такое `<datalist>`?

Тег `<datalist>` представляет собой список предопределенных опций для элемента `<input>`. Он не отображается сам по себе, а используется для предоставления пользователю списка возможных значений при вводе текста в поле ввода.  `<datalist>` связывается с `<input>` через атрибут `list`.

### Пример кода: Базовое использование

Вот простой пример использования `<datalist>`:

```html
<label for="browser">Выберите браузер:</label>
<input list="browsers" name="browser" id="browser">

<datalist id="browsers">
  <option value="Chrome">
  <option value="Firefox">
  <option value="Safari">
  <option value="Opera">
  <option value="Edge">
</datalist>
```

В этом примере:

*   `list="browsers"` в теге `<input>` связывает его с `<datalist>` с `id="browsers"`.
*   `<datalist id="browsers">` содержит список `<option>`, представляющих возможные значения для поля ввода.  Когда пользователь начинает вводить текст в поле ввода, браузер покажет выпадающий список с подходящими вариантами.

### Атрибут `value` в `<option>`

Атрибут `value` в теге `<option>` определяет значение, которое будет установлено в поле ввода, когда пользователь выберет этот вариант.

### Дополнительные атрибуты

Хотя `<datalist>` сам по себе не имеет множества атрибутов,  важно понимать, что поведение автозаполнения также зависит от атрибутов, используемых в связном теге `<input>`. Например, `required`, `placeholder`, `pattern` и другие атрибуты будут влиять на валидацию и отображение поля ввода.

### Жизненный пример

`<datalist>` и автозаполнение широко используются на веб-сайтах и в веб-приложениях для улучшения пользовательского опыта.

*   **Поля поиска:**  Многие сайты используют `<datalist>` для предоставления предложений при вводе поискового запроса. Например, при вводе части слова в поисковую строку на сайте электронной коммерции, сайт может предлагать популярные продукты, начинающиеся с этих букв.

*   **Поля ввода адреса:** Сайты доставки или онлайн-магазины могут использовать `<datalist>` для автозаполнения полей ввода адреса, предлагая варианты на основе введенного почтового индекса или названия улицы.

*   **Фреймворки UI:** Многие UI библиотеки и фреймворки (например, React, Angular, Vue.js) предоставляют компоненты, которые оборачивают функциональность `<datalist>`, добавляя дополнительные возможности, такие как асинхронная подгрузка данных для автозаполнения.

### Ключевые моменты

*   `<datalist>` предоставляет список предопределенных опций для `<input>`.
*   Связь между `<input>` и `<datalist>` устанавливается через атрибут `list` в `<input>` и `id` в `<datalist>`.
*   `<option>` внутри `<datalist>` определяет возможные значения для поля ввода.
*   Автозаполнение улучшает пользовательский опыт, облегчая и ускоряя ввод данных.
*   `<datalist>` может быть использован в различных сценариях, таких как поля поиска и поля ввода адреса.



## Интерактивный пример

<Sandpack
  template="vanilla"
  files={{
    "/index.html": `<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Datalist Autocomplete Example</title>
  <link rel="stylesheet" href="/styles.css">
</head>
<body>
  <div class="container">
    <h1>Автозаполнение с Datalist</h1>

    <label for="programmingLanguage">Выберите язык программирования:</label>
    <input list="programmingLanguages" id="programmingLanguage" name="programmingLanguage">

    <datalist id="programmingLanguages">
      <option value="JavaScript">
      <option value="Python">
      <option value="Java">
      <option value="C++">
      <option value="C#">
      <option value="Go">
      <option value="TypeScript">
      <option value="PHP">
      <option value="Ruby">
      <option value="Kotlin">
    </datalist>

    <p id="selection">Вы выбрали: <span id="selectedLanguage"></span></p>

    <label for="country">Выберите страну:</label>
    <input list="countries" id="country" name="country">

    <datalist id="countries">
      <option value="Россия">
      <option value="США">
      <option value="Германия">
      <option value="Франция">
      <option value="Япония">
      <option value="Китай">
      <option value="Индия">
      <option value="Бразилия">
      <option value="Канада">
      <option value="Австралия">
    </datalist>

    <p id="countrySelection">Вы выбрали страну: <span id="selectedCountry"></span></p>

    <button id="resetButton">Сбросить</button>
  </div>

  <script src="/index.js"><\/script>
</body>
</html>`,
    "/styles.css": `body {
  font-family: sans-serif;
  background-color: #222;
  color: #eee;
  display: flex;
  justify-content: center;
  align-items: center;
  min-height: 100vh;
  margin: 0;
}

.container {
  background-color: #333;
  padding: 20px;
  border-radius: 8px;
  box-shadow: 0 0 10px rgba(0, 0, 0, 0.5);
  width: 500px;
  text-align: center;
}

label {
  display: block;
  margin-bottom: 5px;
  color: #ddd;
}

input[type="text"] {
  width: 100%;
  padding: 8px;
  margin-bottom: 10px;
  border: 1px solid #555;
  border-radius: 4px;
  background-color: #444;
  color: #eee;
}

input[type="text"]:focus {
  outline: none;
  border-color: #888;
}

button {
  background-color: #555;
  color: #fff;
  padding: 10px 15px;
  border: none;
  border-radius: 4px;
  cursor: pointer;
  transition: background-color 0.3s ease;
}

button:hover {
  background-color: #777;
}

#selection, #countrySelection {
  margin-top: 10px;
  font-style: italic;
  color: #ccc;
}

#selectedLanguage, #selectedCountry {
  font-weight: bold;
  color: #fff;
}`,
    "/index.js": `// Получаем элементы DOM
const programmingLanguageInput = document.getElementById('programmingLanguage');
const selectedLanguageSpan = document.getElementById('selectedLanguage');
const countryInput = document.getElementById('country');
const selectedCountrySpan = document.getElementById('selectedCountry');
const resetButton = document.getElementById('resetButton');

// Функция для обновления отображаемого выбора языка
function updateLanguageSelection() {
  selectedLanguageSpan.textContent = programmingLanguageInput.value;
}

// Функция для обновления отображаемого выбора страны
function updateCountrySelection() {
  selectedCountrySpan.textContent = countryInput.value;
}

// Обработчик события input для языка программирования
programmingLanguageInput.addEventListener('input', updateLanguageSelection);

// Обработчик события input для страны
countryInput.addEventListener('input', updateCountrySelection);

// Обработчик события для кнопки сброса
resetButton.addEventListener('click', () => {
  programmingLanguageInput.value = '';
  countryInput.value = '';
  updateLanguageSelection();
  updateCountrySelection();
});

// Инициализация отображения
updateLanguageSelection();
updateCountrySelection();
`
  }}
  options={{
    showNavigator: false,
    showLineNumbers: true,
    editorHeight: 400
  }}
/>
