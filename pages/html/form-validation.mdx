## Урок: HTML Form Validation


![Иллюстрация к уроку](/lessons/html-form-validation.png)
В этом уроке мы рассмотрим, как использовать встроенные возможности HTML для валидации форм. Валидация форм позволяет проверять данные, введенные пользователем, прямо в браузере, прежде чем они будут отправлены на сервер, что повышает удобство использования и снижает нагрузку на сервер.

### Что такое валидация форм?

Валидация форм – это процесс проверки данных, введенных пользователем в форму, на соответствие определенным критериям. Например, проверка, что поле "email" содержит корректный адрес электронной почты, или что поле "пароль" содержит не менее 8 символов.  HTML предоставляет несколько атрибутов, которые позволяют легко реализовать базовую валидацию на стороне клиента.

### Атрибуты валидации

HTML5 предоставляет ряд атрибутов, которые можно добавить к элементам формы для валидации:

*   `required`:  Поле обязательно для заполнения.
*   `minlength` и `maxlength`: Минимальная и максимальная длина текста.
*   `min` и `max`: Минимальное и максимальное числовое значение.
*   `type`: Определяет тип данных, которые должны быть введены (например, `email`, `number`, `url`).
*   `pattern`:  Регулярное выражение для проверки формата данных.

### Примеры кода

**1. Обязательное поле:**

```html
<form>
  <label for="name">Имя:</label><br>
  <input type="text" id="name" name="name" required><br><br>
  <input type="submit" value="Отправить">
</form>
```

В этом примере поле "Имя" помечено как обязательное с помощью атрибута `required`.  Если пользователь попытается отправить форму, не заполнив это поле, браузер отобразит сообщение об ошибке.

**2. Валидация email:**

```html
<form>
  <label for="email">Email:</label><br>
  <input type="email" id="email" name="email" required><br><br>
  <input type="submit" value="Отправить">
</form>
```

Здесь используется `type="email"`.  Браузер автоматически проверяет, что введенное значение соответствует формату электронной почты.

**3. Минимальная длина пароля:**

```html
<form>
  <label for="password">Пароль:</label><br>
  <input type="password" id="password" name="password" minlength="8" required><br><br>
  <input type="submit" value="Отправить">
</form>
```

Атрибут `minlength="8"` требует, чтобы пароль содержал не менее 8 символов.

**4. Валидация с использованием регулярного выражения:**

```html
<form>
  <label for="phone">Телефон (формат: 123-456-7890):</label><br>
  <input type="tel" id="phone" name="phone" pattern="[0-9]{3}-[0-9]{3}-[0-9]{4}" required><br><br>
  <input type="submit" value="Отправить">
</form>
```

Атрибут `pattern` позволяет задать регулярное выражение для проверки формата введенных данных. В данном случае проверяется, что телефонный номер соответствует формату "123-456-7890".

### Жизненный пример

Практически все веб-сайты используют валидацию форм. Например:

*   **Регистрация и авторизация:** Проверка email, пароля, подтверждения пароля.
*   **Оформление заказа в интернет-магазине:** Валидация адреса доставки, номера телефона, данных кредитной карты.
*   **Формы обратной связи:** Проверка корректности email и обязательности заполнения поля сообщения.

Многие JavaScript фреймворки, такие как React, Angular и Vue.js, предоставляют мощные инструменты для валидации форм, которые позволяют создавать более сложные и настраиваемые правила валидации.  Они часто используют HTML5 атрибуты валидации в качестве основы, но добавляют дополнительные возможности, такие как асинхронная валидация (например, проверка уникальности имени пользователя на сервере).

### Ключевые моменты

*   HTML5 предоставляет встроенные атрибуты для валидации форм на стороне клиента.
*   Атрибуты `required`, `minlength`, `maxlength`, `min`, `max`, `type` и `pattern` позволяют задавать простые правила валидации.
*   Регулярные выражения (`pattern`) обеспечивают гибкий способ проверки формата данных.
*   Валидация на стороне клиента улучшает пользовательский опыт и снижает нагрузку на сервер.
*   JavaScript фреймворки предоставляют более продвинутые инструменты для валидации форм.



## Интерактивный пример

<Sandpack
  template="vanilla"
  files={{
    "/index.html": `<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>HTML Form Validation</title>
  <link rel="stylesheet" href="/styles.css">
</head>
<body>
  <div class="container">
    <h1>Валидация Формы</h1>
    <form id="myForm">
      <div class="form-group">
        <label for="name">Имя (обязательно):</label>
        <input type="text" id="name" name="name" required>
      </div>

      <div class="form-group">
        <label for="email">Email (обязательно, формат email):</label>
        <input type="email" id="email" name="email" required>
      </div>

      <div class="form-group">
        <label for="password">Пароль (минимум 8 символов):</label>
        <input type="password" id="password" name="password" minlength="8" required>
      </div>

      <div class="form-group">
        <label for="phone">Телефон (формат: 123-456-7890):</label>
        <input type="tel" id="phone" name="phone" pattern="[0-9]{3}-[0-9]{3}-[0-9]{4}" placeholder="123-456-7890" required>
      </div>

      <div class="form-group">
        <label for="age">Возраст (от 18 до 99):</label>
        <input type="number" id="age" name="age" min="18" max="99">
      </div>

      <button type="submit">Отправить</button>
    </form>

    <div id="message" class="message"></div>
  </div>

  <script src="/index.js"></script>
</body>
</html>`,
    "/styles.css": `body {
  font-family: sans-serif;
  background-color: #222;
  color: #eee;
  display: flex;
  justify-content: center;
  align-items: center;
  min-height: 100vh;
  margin: 0;
}

.container {
  background-color: #333;
  padding: 20px;
  border-radius: 8px;
  width: 400px;
  box-shadow: 0 0 10px rgba(0, 0, 0, 0.5);
}

h1 {
  text-align: center;
  margin-bottom: 20px;
  color: #fff;
}

.form-group {
  margin-bottom: 15px;
}

label {
  display: block;
  margin-bottom: 5px;
  color: #ddd;
}

input[type="text"],
input[type="email"],
input[type="password"],
input[type="tel"],
input[type="number"] {
  width: 100%;
  padding: 8px;
  border: 1px solid #555;
  border-radius: 4px;
  background-color: #444;
  color: #eee;
}

button[type="submit"] {
  background-color: #5cb85c;
  color: white;
  padding: 10px 15px;
  border: none;
  border-radius: 4px;
  cursor: pointer;
  width: 100%;
}

button[type="submit"]:hover {
  background-color: #449d44;
}

.message {
  margin-top: 20px;
  padding: 10px;
  border-radius: 4px;
  text-align: center;
}

.success {
  background-color: #dff0d8;
  color: #3c763d;
  border: 1px solid #d6e9c6;
}

.error {
  background-color: #f2dede;
  color: #a94442;
  border: 1px solid #ebccd1;
}`,
    "/index.js": `// Получаем ссылку на форму и элемент сообщения
const form = document.getElementById('myForm');
const message = document.getElementById('message');

// Добавляем обработчик события отправки формы
form.addEventListener('submit', function(event) {
  // Предотвращаем отправку формы по умолчанию
  event.preventDefault();

  // Проверяем, прошла ли форма валидацию
  if (form.checkValidity()) {
    // Если валидация прошла успешно, показываем сообщение об успехе
    message.textContent = 'Форма отправлена успешно!';
    message.classList.remove('error');
    message.classList.add('success');

    // Очищаем форму (необязательно)
    form.reset();
  } else {
    // Если валидация не прошла, показываем сообщение об ошибке
    message.textContent = 'Пожалуйста, заполните все обязательные поля правильно.';
    message.classList.remove('success');
    message.classList.add('error');
  }
});
`
  }}
  options={{
    showNavigator: false,
    showLineNumbers: true,
    editorHeight: 400
  }}
/>
