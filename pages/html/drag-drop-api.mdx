# HTML: Drag and Drop API


![Иллюстрация к уроку](/lessons/html-drag-drop-api.png)
Drag and Drop (перетаскивание) — это мощный инструмент, который позволяет пользователям взаимодействовать с элементами страницы более естественно. С помощью этого API можно реализовать перетаскивание файлов, элементов списка или карточек задач.

### Основные события

Для работы перетаскивания нужно отслеживать несколько событий:

1. **На источнике (то, что тянем):**
   * `dragstart`: начало перетаскивания.
   * `dragend`: конец процесса.
2. **На цели (куда бросаем):**
   * `dragover`: срабатывает, когда элемент находится над зоной сброса.
   * `drop`: момент сброса элемента.

### Практический пример

Попробуйте перетащить синий квадрат в серую зону.

<Playground
  template="static"
  files={{
    "index.html": `<!DOCTYPE html>
<html>
<head>
  <style>
    .draggable {
      width: 80px;
      height: 80px;
      background-color: #3498db;
      color: white;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: move;
      border-radius: 8px;
    }

    .dropzone {
      width: 200px;
      height: 120px;
      border: 3px dashed #ccc;
      margin-top: 20px;
      display: flex;
      align-items: center;
      justify-content: center;
      color: #999;
    }
    
    .dropzone.drag-over {
      border-color: #2ecc71;
      background-color: #eafaf1;
    }
  </style>
</head>
<body>

  <div id="box" class="draggable" draggable="true">Тяни меня</div>
  <div id="target" class="dropzone">Зона сброса</div>

  <script>
    const box = document.getElementById('box');
    const target = document.getElementById('target');

    box.addEventListener('dragstart', (e) => {
      e.dataTransfer.setData('text/plain', e.target.id);
    });

    target.addEventListener('dragover', (e) => {
      e.preventDefault(); // Обязательно для разрешения сброса
      target.classList.add('drag-over');
    });

    target.addEventListener('dragleave', () => {
      target.classList.remove('drag-over');
    });

    target.addEventListener('drop', (e) => {
      e.preventDefault();
      target.classList.remove('drag-over');
      const id = e.dataTransfer.getData('text/plain');
      const draggableElement = document.getElementById(id);
      target.appendChild(draggableElement);
      target.textContent = 'Готово!';
    });
  </script>

</body>
</html>`
  }}
/>

### Ключевые моменты

* **`draggable="true"`**: Атрибут, без которого элемент не сдвинется с места.
* **`event.preventDefault()`**: Обязательно вызывайте его в событии `dragover`, иначе браузер запретит сброс элемента.
* **`dataTransfer`**: Объект, который "перевозит" данные (например, ID элемента или текст) от источника к цели.
* **Политика безопасности**: Браузеры ограничивают доступ к данным при перетаскивании извне (например, файлов с компьютера) до момента самого сброса (`drop`).
