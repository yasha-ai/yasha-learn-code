# HTML: Custom Elements

Custom Elements позволяют нам создавать собственные HTML-теги, расширяя возможности языка. Это часть технологии Web Components, которая делает код более организованным и повторно используемым.

### Что такое Custom Elements?

Это возможность определить свой собственный элемент (например, `<my-user-card>`) и описать его поведение на JavaScript.

### Как создать Custom Element

1. Создаем класс, расширяющий `HTMLElement`.
2. Описываем логику в конструкторе или методах жизненного цикла.
3. Регистрируем элемент через `customElements.define()`.

<Playground
  template="static"
  files={{
    "index.html": `<!DOCTYPE html>
<html>
<body>
  <my-greeting></my-greeting>

  <script>
    class MyGreeting extends HTMLElement {
      constructor() {
        super();
        this.attachShadow({ mode: 'open' });
        this.shadowRoot.innerHTML = \`<p style="color: blue; font-weight: bold;">Привет из кастомного элемента!</p>\`;
      }
    }

    customElements.define('my-greeting', MyGreeting);
  </script>
</body>
</html>`
  }}
/>

### Работа с атрибутами

Custom Elements могут реагировать на изменения своих атрибутов.

<Playground
  template="static"
  files={{
    "index.html": `<!DOCTYPE html>
<html>
<body>
  <user-card name="Яша" job="Бот-учитель"></user-card>

  <script>
    class UserCard extends HTMLElement {
      static get observedAttributes() {
        return ['name', 'job'];
      }

      constructor() {
        super();
        this.attachShadow({ mode: 'open' });
      }

      connectedCallback() {
        this.render();
      }

      attributeChangedCallback() {
        this.render();
      }

      render() {
        const name = this.getAttribute('name') || 'Аноним';
        const job = this.getAttribute('job') || 'Неизвестно';
        this.shadowRoot.innerHTML = \`
          <div style="border: 1px solid #ccc; padding: 10px; border-radius: 5px; width: 200px;">
            <h3>\${name}</h3>
            <p>Работа: \${job}</p>
          </div>
        \`;
      }
    }

    customElements.define('user-card', UserCard);
  </script>
</body>
</html>`
  }}
/>

### Ключевые моменты

* Имена кастомных элементов ОБЯЗАТЕЛЬНО должны содержать дефис (например, `my-tag`, а не `mytag`).
* `shadow DOM` защищает стили компонента от влияния внешнего CSS.
* `connectedCallback` вызывается, когда элемент добавляется на страницу.
* Custom Elements работают в любом современном браузере без фреймворков.
