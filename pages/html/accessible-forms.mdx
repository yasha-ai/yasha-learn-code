## HTML: Скелет. Урок: Accessible Forms


![Иллюстрация к уроку](/lessons/html-accessible-forms.png)
В этом уроке мы рассмотрим, как создавать доступные формы в HTML. Доступность форм критически важна для обеспечения удобства использования веб-сайта всеми пользователями, включая людей с ограниченными возможностями.

### Что такое Accessible Forms?

Accessible Forms – это формы, которые спроектированы и разработаны таким образом, чтобы быть понятными и удобными для использования всеми пользователями, независимо от их возможностей. Это включает в себя использование правильных HTML-элементов, добавление соответствующих атрибутов и предоставление четких и понятных инструкций.

### Основные принципы Accessible Forms

*   **Использование `<label>`:** Элемент `<label>` связывает текстовую метку с соответствующим полем ввода. Это позволяет пользователям, использующим скринридеры, понимать, какое значение должно быть введено в поле.

    ```html
    <label for="name">Имя:</label>
    <input type="text" id="name" name="name">
    ```

*   **Атрибут `aria-label` и `aria-labelledby`:**  Если текстовая метка не может быть напрямую связана с полем ввода, можно использовать атрибуты `aria-label` (для предоставления текстового описания) или `aria-labelledby` (для связывания с существующим элементом на странице).

    ```html
    <input type="text" aria-label="Поиск">
    ```

    ```html
    <h2 id="search-title">Поиск</h2>
    <input type="text" aria-labelledby="search-title">
    ```

*   **Атрибуты `placeholder` и `title`:** Атрибут `placeholder` может быть использован для предоставления примера значения, но не должен заменять `<label>`. Атрибут `title` предоставляет дополнительную информацию о поле ввода, которая отображается при наведении курсора.

    ```html
    <input type="text" name="email" placeholder="example@email.com" title="Введите ваш email">
    ```

*   **Обработка ошибок:** Предоставляйте четкие и понятные сообщения об ошибках, если пользователь вводит неверные данные. Используйте атрибуты `aria-invalid` и `aria-describedby` для связи поля ввода с сообщением об ошибке.

    ```html
    <label for="password">Пароль:</label>
    <input type="password" id="password" name="password" aria-invalid="true" aria-describedby="password-error">
    <p id="password-error">Пароль должен содержать не менее 8 символов.</p>
    ```

*   **Группировка полей с `<fieldset>` и `<legend>`:** Используйте `<fieldset>` для группировки связанных полей ввода и `<legend>` для предоставления заголовка для этой группы.

    ```html
    <fieldset>
        <legend>Персональная информация</legend>
        <label for="first_name">Имя:</label>
        <input type="text" id="first_name" name="first_name"><br><br>
        <label for="last_name">Фамилия:</label>
        <input type="text" id="last_name" name="last_name">
    </fieldset>
    ```

### Жизненный пример

Многие современные веб-сайты и фреймворки уделяют большое внимание доступности форм. Например:

*   **Bootstrap:** Bootstrap включает в себя стили и компоненты, которые помогают создавать более доступные формы, включая поддержку `<label>` и визуальное отображение состояний полей (например, фокус, ошибки).
*   **React Aria:** React Aria предоставляет набор React хуков для создания accessible UI компонентов, включая формы. Он автоматически управляет атрибутами ARIA и обрабатывает события клавиатуры для обеспечения максимальной доступности.
*   **Gov.uk:** Государственный сайт Великобритании (Gov.uk) является отличным примером веб-сайта, который уделяет большое внимание доступности, включая формы. Они предоставляют подробные руководства по созданию доступных форм и используют правильные HTML-элементы и атрибуты.

### Ключевые моменты

*   Всегда используйте `<label>` для связывания текстовой метки с полем ввода.
*   Используйте `aria-label` и `aria-labelledby`, когда `<label>` не подходит.
*   Предоставляйте четкие и понятные сообщения об ошибках.
*   Группируйте связанные поля ввода с помощью `<fieldset>` и `<legend>`.
*   Тестируйте ваши формы с помощью скринридеров, чтобы убедиться в их доступности.



## Интерактивный пример

<Sandpack
  template="vanilla"
  files={{
    "/index.html": `<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Accessible Forms Example</title>
  <link rel="stylesheet" href="/styles.css">
</head>
<body>
  <div class="container">
    <h1>Доступная форма</h1>

    <form id="myForm">
      <fieldset>
        <legend>Персональная информация</legend>

        <label for="firstName">Имя:</label>
        <input type="text" id="firstName" name="firstName" required><br><br>

        <label for="lastName">Фамилия:</label>
        <input type="text" id="lastName" name="lastName" required><br><br>

        <label for="email">Email:</label>
        <input type="email" id="email" name="email" placeholder="example@email.com" required><br><br>
      </fieldset>

      <fieldset>
        <legend>Пароль</legend>
        <label for="password">Пароль:</label>
        <input type="password" id="password" name="password" aria-invalid="false" aria-describedby="password-hint" required><br>
        <small id="password-hint">Пароль должен содержать не менее 8 символов.</small><br><br>
      </fieldset>

      <button type="submit">Отправить</button>
      <p id="form-message"></p>
    </form>

    <div id="search-container">
      <h2 id="search-title">Поиск</h2>
      <input type="text" aria-labelledby="search-title" placeholder="Что вы ищете?">
    </div>
  </div>

  <script src="/index.js"></script>
</body>
</html>`,
    "/styles.css": `body {
  font-family: sans-serif;
  background-color: #222;
  color: #eee;
  display: flex;
  justify-content: center;
  align-items: center;
  min-height: 100vh;
  margin: 0;
}

.container {
  background-color: #333;
  padding: 20px;
  border-radius: 8px;
  width: 500px;
  box-shadow: 0 0 10px rgba(0, 0, 0, 0.5);
}

h1, h2 {
  text-align: center;
  color: #fff;
}

label {
  display: inline-block;
  width: 100px;
  text-align: right;
  margin-right: 10px;
}

input[type="text"],
input[type="email"],
input[type="password"] {
  width: 300px;
  padding: 8px;
  border: 1px solid #555;
  border-radius: 4px;
  background-color: #444;
  color: #eee;
}

button[type="submit"] {
  background-color: #4CAF50;
  color: white;
  padding: 10px 20px;
  border: none;
  border-radius: 4px;
  cursor: pointer;
  display: block;
  margin: 20px auto;
}

button[type="submit"]:hover {
  background-color: #3e8e41;
}

fieldset {
  border: 1px solid #555;
  border-radius: 4px;
  padding: 10px;
  margin-bottom: 10px;
}

legend {
  color: #fff;
  padding: 0 10px;
}

#form-message {
  text-align: center;
  margin-top: 10px;
  font-weight: bold;
}

#search-container {
  margin-top: 20px;
  text-align: center;
}
`,
    "/index.js": `document.addEventListener('DOMContentLoaded', function() {
  const form = document.getElementById('myForm');
  const formMessage = document.getElementById('form-message');
  const passwordInput = document.getElementById('password');

  form.addEventListener('submit', function(event) {
    event.preventDefault(); // Предотвращаем отправку формы по умолчанию

    const passwordValue = passwordInput.value;

    if (passwordValue.length < 8) {
      passwordInput.setAttribute('aria-invalid', 'true');
      formMessage.textContent = 'Ошибка: Пароль должен содержать не менее 8 символов.';
      formMessage.style.color = 'red';
    } else {
      passwordInput.setAttribute('aria-invalid', 'false');
      formMessage.textContent = 'Форма успешно отправлена!';
      formMessage.style.color = 'green';
    }
  });
});
`
  }}
  options={{
    showNavigator: false,
    showLineNumbers: true,
    editorHeight: 400
  }}
/>
