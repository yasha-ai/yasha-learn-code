## HTML: Скелет - Templates and Slots


![Иллюстрация к уроку](/lessons/html-templates-slots.png)
В этом уроке мы рассмотрим концепцию шаблонов (`<template>`) и слотов (`<slot>`) в HTML. Они позволяют создавать многократно используемые блоки разметки с возможностью их кастомизации.

### Что такое Template?

Тег `<template>` позволяет хранить HTML-код, который не отображается на странице при ее загрузке. Этот код предназначен для использования в будущем, например, для динамического добавления контента с помощью JavaScript.  Это как черновик, который можно использовать много раз.

```html
<template id="my-template">
  <h2>Привет, мир!</h2>
  <p>Это шаблон.</p>
</template>

<script>
  // Получаем ссылку на шаблон
  const template = document.getElementById("my-template");

  // Клонируем содержимое шаблона
  const clone = template.content.cloneNode(true);

  // Добавляем клонированное содержимое в body
  document.body.appendChild(clone);
</script>
```

В этом примере, содержимое `<template>` с `id="my-template"` клонируется и добавляется в `<body>` страницы с помощью JavaScript.

### Что такое Slot?

`<slot>` – это элемент-заполнитель внутри шаблона. Он определяет место, куда можно вставлять свой контент при использовании этого шаблона. Slot делает шаблон более гибким и переиспользуемым.

```html
<template id="user-card">
  <div class="card">
    <h3><slot name="title">Заголовок по умолчанию</slot></h3>
    <p><slot name="description">Описание по умолчанию</slot></p>
  </div>
</template>

<div id="user-card-container"></div>

<script>
  const template = document.getElementById("user-card");
  const container = document.getElementById("user-card-container");

  const clone = template.content.cloneNode(true);

  // Создаем элементы, которые будут вставлены в слоты
  const title = document.createElement("h2");
  title.textContent = "Иван Иванов";
  title.setAttribute("slot", "title");

  const description = document.createElement("p");
  description.textContent = "Разработчик";
  description.setAttribute("slot", "description");

  // Добавляем слоты в клонированный шаблон
  clone.appendChild(title);
  clone.appendChild(description);

  container.appendChild(clone);

</script>
```

В этом примере, шаблон `user-card` имеет два слота: `title` и `description`.  JavaScript создает элементы `h2` и `p` и назначает им атрибуты `slot`, соответствующие именам слотов в шаблоне.  При клонировании шаблона, эти элементы автоматически вставляются в соответствующие слоты. Если слот остается пустым, отображается контент по умолчанию.

### Жизненный пример

Templates и slots широко используются во фреймворках для создания веб-компонентов (например, в Vue.js, React, Angular).  Например, компонент карточки товара может быть реализован с использованием шаблона и слотов для названия, описания и изображения товара. Это позволяет легко переиспользовать компонент карточки товара на разных страницах сайта, просто передавая разные данные через слоты.  Также, они используются в Shadow DOM для инкапсуляции стилей и разметки компонентов. Многие библиотеки UI (Material UI, Bootstrap) используют шаблоны и слоты для создания переиспользуемых компонентов.

### Ключевые моменты

*   `<template>` позволяет хранить HTML, который изначально не отображается.
*   `<slot>` определяет место для вставки контента в шаблоне.
*   Слоты могут иметь имена для более точного управления вставкой контента.
*   Templates и slots помогают создавать переиспользуемый и кастомизируемый код.
*   Они активно используются во фреймворках для веб-разработки и UI-библиотеках.



## Интерактивный пример

<Sandpack
  template="vanilla"
  files={{
    "/index.html": `<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width">
  <title>HTML Templates and Slots</title>
  <link rel="stylesheet" href="/styles.css">
</head>
<body>
  <h1>Templates и Slots в HTML</h1>

  <template id="user-card">
    <div class="card">
      <h3><slot name="title">Заголовок по умолчанию</slot></h3>
      <p><slot name="description">Описание по умолчанию</slot></p>
      <button id="change-button">Изменить описание</button>
    </div>
  </template>

  <div id="user-card-container"></div>

  <template id="input-template">
    <input type="text" id="new-description" placeholder="Новое описание">
    <button id="submit-button">Подтвердить</button>
  </template>

  <script src="/index.js"><\/script>
</body>
</html>`,
    "/styles.css": `body {
  font-family: sans-serif;
  background-color: #222;
  color: #eee;
  padding: 20px;
}

.card {
  border: 1px solid #555;
  padding: 20px;
  margin-bottom: 20px;
  background-color: #333;
  border-radius: 5px;
}

input[type="text"] {
  padding: 8px;
  border: 1px solid #777;
  border-radius: 4px;
  background-color: #444;
  color: #eee;
  margin-right: 10px;
}

button {
  padding: 8px 12px;
  border: none;
  border-radius: 4px;
  background-color: #666;
  color: #eee;
  cursor: pointer;
}

button:hover {
  background-color: #777;
}`,
    "/index.js": `// Получаем ссылки на шаблоны и контейнер
const userCardTemplate = document.getElementById("user-card");
const inputTemplate = document.getElementById("input-template");
const container = document.getElementById("user-card-container");

// Клонируем содержимое шаблона карточки пользователя
const clone = userCardTemplate.content.cloneNode(true);

// Создаем элементы, которые будут вставлены в слоты
const title = document.createElement("h2");
title.textContent = "Иван Иванов";
title.setAttribute("slot", "title");

const description = document.createElement("p");
description.textContent = "Разработчик";
description.setAttribute("slot", "description");

// Добавляем слоты в клонированный шаблон
clone.appendChild(title);
clone.appendChild(description);

// Добавляем клонированный шаблон в контейнер
container.appendChild(clone);

// Получаем ссылку на кнопку "Изменить описание"
const changeButton = container.querySelector("#change-button");

// Обработчик события для кнопки "Изменить описание"
changeButton.addEventListener("click", () => {
  // Клонируем шаблон ввода
  const inputClone = inputTemplate.content.cloneNode(true);

  // Заменяем описание на форму ввода
  const descriptionSlot = container.querySelector('slot[name="description"]');
  descriptionSlot.replaceWith(inputClone);

  // Получаем ссылки на элементы ввода и кнопку "Подтвердить"
  const newDescriptionInput = container.querySelector("#new-description");
  const submitButton = container.querySelector("#submit-button");

  // Обработчик события для кнопки "Подтвердить"
  submitButton.addEventListener("click", () => {
    // Получаем новое описание из поля ввода
    const newDescriptionText = newDescriptionInput.value;

    // Создаем новый элемент <p> с новым описанием
    const newDescription = document.createElement("p");
    newDescription.textContent = newDescriptionText;
    newDescription.setAttribute("slot", "description");

    // Заменяем форму ввода на новое описание
    container.querySelector('input[type="text"]').replaceWith(newDescription);
    container.querySelector("#submit-button").remove();
  });
});`
  }}
  options={{
    showNavigator: false,
    showLineNumbers: true,
    editorHeight: 400
  }}
/>
