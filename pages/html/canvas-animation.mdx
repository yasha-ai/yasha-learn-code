# HTML: Анимация на Canvas

В этом уроке мы научимся создавать анимацию с помощью элемента `<canvas>`. Canvas позволяет рисовать графику прямо в браузере, используя JavaScript.

### Как работает анимация?

Сам по себе `<canvas>` — это просто пустой холст. Вся магия происходит в JavaScript. Чтобы создать анимацию, мы рисуем кадр, затем очищаем холст и рисуем новый кадр с небольшими изменениями. Это происходит очень быстро, создавая иллюзию движения.

### Пример: Движущийся круг

Посмотрите, как работает простая анимация. Мы используем `requestAnimationFrame` для плавности.

<Playground
  template="static"
  files={{
    "index.html": `<!DOCTYPE html>
<html>
<body>
  <canvas id="myCanvas" width="400" height="200" style="border:1px solid #ddd; background: #f9f9f9;"></canvas>

  <script>
    const canvas = document.getElementById("myCanvas");
    const ctx = canvas.getContext("2d");

    let x = 0;
    let radius = 30;

    function draw() {
      // 1. Очищаем холст
      ctx.clearRect(0, 0, canvas.width, canvas.height);
      
      // 2. Рисуем круг
      ctx.beginPath();
      ctx.arc(x, canvas.height/2, radius, 0, 2 * Math.PI);
      ctx.fillStyle = "#3498db";
      ctx.fill();
      ctx.closePath();
      
      // 3. Изменяем координату
      x += 2;
      if (x > canvas.width + radius) {
        x = -radius;
      }
      
      // 4. Запрашиваем следующий кадр
      requestAnimationFrame(draw);
    }

    draw();
  </script>
</body>
</html>`
  }}
/>

### Основные функции

* `getContext("2d")`: Получает инструмент для рисования.
* `clearRect(x, y, width, height)`: Стирает всё на указанном участке.
* `requestAnimationFrame(callback)`: Подсказывает браузеру, когда пора рисовать следующий кадр. Это эффективнее, чем обычный таймер.

### Где это применяется?

* **Игры:** Веб-игры часто рисуются на Canvas.
* **Графики:** Библиотеки вроде Chart.js используют его для отрисовки данных.
* **Эффекты:** Анимированные фоны, частицы и сложные интерфейсы.

### Ключевые моменты

* Всегда очищайте холст перед рисованием нового кадра.
* Используйте `requestAnimationFrame` для плавной анимации (60 кадров в секунду).
* Помните, что координаты (0, 0) находятся в верхнем левом углу.
