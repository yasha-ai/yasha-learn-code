import { Sandpack } from '@codesandbox/sandpack-react'
## JavaScript: –ú–æ–∑–≥–∏. –£—Ä–æ–∫: Promise Combinators

Promise Combinators ‚Äì —ç—Ç–æ –º–æ—â–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã JavaScript, –ø–æ–∑–≤–æ–ª—è—é—â–∏–µ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ —É–ø—Ä–∞–≤–ª—è—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ –ø—Ä–æ–º–∏—Å–∞–º–∏ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ. –û–Ω–∏ –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ —É–ø—Ä–æ—â–∞—é—Ç –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –∫–æ–¥, –¥–µ–ª–∞—è –µ–≥–æ –±–æ–ª–µ–µ —á–∏—Ç–∞–µ–º—ã–º –∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–º.

### –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è —Å—Ç—Ä–∞—Ç–µ–≥–∏–π —Å–ª–∏—è–Ω–∏—è

```mermaid
flowchart TD
    Start[–ú–∞—Å—Å–∏–≤ –ü—Ä–æ–º–∏—Å–æ–≤] --> All{Promise.all}
    Start --> Settled{Promise.allSettled}
    Start --> Race{Promise.race}
    Start --> Any{Promise.any}

    All -->|–í—Å–µ OK| AllOk[–ú–∞—Å—Å–∏–≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤]
    All -->|–•–æ—Ç—å –æ–¥–∏–Ω FAIL| AllFail[–û—à–∏–±–∫–∞ –ø–µ—Ä–≤–æ–≥–æ]

    Settled -->|–í—Å–µ–≥–¥–∞| SettledOk[–ú–∞—Å—Å–∏–≤ —Å—Ç–∞—Ç—É—Å–æ–≤ –∏ –∑–Ω–∞—á–µ–Ω–∏–π]

    Race -->|–ü–µ—Ä–≤—ã–π –≥–æ—Ç–æ–≤| RaceResult[–†–µ–∑—É–ª—å—Ç–∞—Ç –ø–µ—Ä–≤–æ–≥–æ]

    Any -->|–ü–µ—Ä–≤—ã–π OK| AnyOk[–ó–Ω–∞—á–µ–Ω–∏–µ –ø–µ—Ä–≤–æ–≥–æ OK]
    Any -->|–í—Å–µ FAIL| AnyFail[AggregateError]

    style All fill:#e1f5fe,stroke:#01579b
    style Settled fill:#e8f5e9,stroke:#1b5e20
    style Race fill:#fffde7,stroke:#fbc02d
    style Any fill:#f3e5f5,stroke:#4a148c
```
*–†–∞–∑–ª–∏—á–Ω—ã–µ —Å–ø–æ—Å–æ–±—ã –æ–±—Ä–∞–±–æ—Ç–∫–∏ –≥—Ä—É–ø–ø—ã –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π.*

### –ß—Ç–æ —Ç–∞–∫–æ–µ Promise Combinators?

Promise Combinators ‚Äì —ç—Ç–æ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ –º–µ—Ç–æ–¥—ã –∫–ª–∞—Å—Å–∞ `Promise`, –∫–æ—Ç–æ—Ä—ã–µ –ø—Ä–∏–Ω–∏–º–∞—é—Ç –º–∞—Å—Å–∏–≤ –ø—Ä–æ–º–∏—Å–æ–≤ –∏ –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç –æ–¥–∏–Ω –ø—Ä–æ–º–∏—Å, –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—é—â–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç –æ–±—Ä–∞–±–æ—Ç–∫–∏ —ç—Ç–æ–≥–æ –º–∞—Å—Å–∏–≤–∞.  –û–Ω–∏ –ø–æ–∑–≤–æ–ª—è—é—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å –æ–ø–µ—Ä–∞—Ü–∏–∏ –Ω–∞–¥ –º–Ω–æ–∂–µ—Å—Ç–≤–æ–º –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö –∑–∞–¥–∞—á –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ –∏–ª–∏ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ, –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ –∫–æ–º–±–∏–Ω–∞—Ç–æ—Ä–∞.

#### –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–±–∏–Ω–∞—Ç–æ—Ä—ã:

*   **`Promise.all(promises)`**: –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø—Ä–æ–º–∏—Å, –∫–æ—Ç–æ—Ä—ã–π —Ä–∞–∑—Ä–µ—à–∞–µ—Ç—Å—è, –∫–æ–≥–¥–∞ *–≤—Å–µ* –ø—Ä–æ–º–∏—Å—ã –∏–∑ –º–∞—Å—Å–∏–≤–∞ `promises` —É—Å–ø–µ—à–Ω–æ —Ä–∞–∑—Ä–µ—à–∏–ª–∏—Å—å. –í —Å–ª—É—á–∞–µ, –µ—Å–ª–∏ —Ö–æ—Ç—è –±—ã –æ–¥–∏–Ω –ø—Ä–æ–º–∏—Å –æ—Ç–∫–ª–æ–Ω—è–µ—Ç—Å—è, –≤–æ–∑–≤—Ä–∞—â–∞–µ–º—ã–π –ø—Ä–æ–º–∏—Å —Ç–∞–∫–∂–µ –æ—Ç–∫–ª–æ–Ω—è–µ—Ç—Å—è —Å –ø—Ä–∏—á–∏–Ω–æ–π –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏—è —ç—Ç–æ–≥–æ –ø—Ä–æ–º–∏—Å–∞.

    ```javascript
    const promise1 = Promise.resolve(1);
    const promise2 = new Promise((resolve) => setTimeout(() => resolve(2), 100));
    const promise3 = Promise.resolve(3);

    Promise.all([promise1, promise2, promise3])
      .then((values) => {
        console.log(values); // [1, 2, 3]
      })
      .catch((error) => {
        console.error(error);
      });
    ```

*   **`Promise.allSettled(promises)`**: –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø—Ä–æ–º–∏—Å, –∫–æ—Ç–æ—Ä—ã–π —Ä–∞–∑—Ä–µ—à–∞–µ—Ç—Å—è, –∫–æ–≥–¥–∞ *–≤—Å–µ* –ø—Ä–æ–º–∏—Å—ã –∏–∑ –º–∞—Å—Å–∏–≤–∞ `promises` –ª–∏–±–æ —Ä–∞–∑—Ä–µ—à–∏–ª–∏—Å—å, –ª–∏–±–æ –æ—Ç–∫–ª–æ–Ω–∏–ª–∏—Å—å. –†–µ–∑—É–ª—å—Ç–∞—Ç–æ–º —è–≤–ª—è–µ—Ç—Å—è –º–∞—Å—Å–∏–≤ –æ–±—ä–µ–∫—Ç–æ–≤, –∫–∞–∂–¥—ã–π –∏–∑ –∫–æ—Ç–æ—Ä—ã—Ö –æ–ø–∏—Å—ã–≤–∞–µ—Ç —Å—Ç–∞—Ç—É—Å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–≥–æ –ø—Ä–æ–º–∏—Å–∞ (`status: 'fulfilled'` –∏–ª–∏ `status: 'rejected'`) –∏ –µ–≥–æ –∑–Ω–∞—á–µ–Ω–∏–µ (`value`) –∏–ª–∏ –ø—Ä–∏—á–∏–Ω—É –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏—è (`reason`).

    ```javascript
    const promise1 = Promise.resolve(1);
    const promise2 = Promise.reject('–û—à–∏–±–∫–∞!');
    const promise3 = new Promise((resolve) => setTimeout(() => resolve(3), 100));

    Promise.allSettled([promise1, promise2, promise3])
      .then((results) => {
        console.log(results);
        // [
        //   { status: 'fulfilled', value: 1 },
        //   { status: 'rejected', reason: '–û—à–∏–±–∫–∞!' },
        //   { status: 'fulfilled', value: 3 }
        // ]
      });
    ```

*   **`Promise.race(promises)`**: –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø—Ä–æ–º–∏—Å, –∫–æ—Ç–æ—Ä—ã–π —Ä–∞–∑—Ä–µ—à–∞–µ—Ç—Å—è –∏–ª–∏ –æ—Ç–∫–ª–æ–Ω—è–µ—Ç—Å—è –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ç–æ–≥–æ, –∫–∞–∫–æ–π –∏–∑ –ø—Ä–æ–º–∏—Å–æ–≤ –≤ –º–∞—Å—Å–∏–≤–µ `promises` —Ä–∞–∑—Ä–µ—à–∏—Ç—Å—è –∏–ª–∏ –æ—Ç–∫–ª–æ–Ω–∏—Ç—Å—è *–ø–µ—Ä–≤—ã–º*.

    ```javascript
    const promise1 = new Promise((resolve) => setTimeout(() => resolve(1), 500));
    const promise2 = new Promise((resolve) => setTimeout(() => resolve(2), 100));

    Promise.race([promise1, promise2])
      .then((value) => {
        console.log(value); // 2 (–ø–æ—Ç–æ–º—É —á—Ç–æ promise2 —Ä–∞–∑—Ä–µ—à–∏–ª—Å—è –ø–µ—Ä–≤—ã–º)
      });
    ```

*   **`Promise.any(promises)`**: –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø—Ä–æ–º–∏—Å, –∫–æ—Ç–æ—Ä—ã–π —Ä–∞–∑—Ä–µ—à–∞–µ—Ç—Å—è, –∫–∞–∫ —Ç–æ–ª—å–∫–æ *–æ–¥–∏–Ω* –∏–∑ –ø—Ä–æ–º–∏—Å–æ–≤ –≤ –º–∞—Å—Å–∏–≤–µ `promises` —É—Å–ø–µ—à–Ω–æ —Ä–∞–∑—Ä–µ—à–∏—Ç—Å—è. –ï—Å–ª–∏ –≤—Å–µ –ø—Ä–æ–º–∏—Å—ã –æ—Ç–∫–ª–æ–Ω—è—é—Ç—Å—è, –≤–æ–∑–≤—Ä–∞—â–∞–µ–º—ã–π –ø—Ä–æ–º–∏—Å –æ—Ç–∫–ª–æ–Ω—è–µ—Ç—Å—è —Å –æ—à–∏–±–∫–æ–π `AggregateError`, —Å–æ–¥–µ—Ä–∂–∞—â–µ–π –ø—Ä–∏—á–∏–Ω—ã –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏—è –≤—Å–µ—Ö –ø—Ä–æ–º–∏—Å–æ–≤.

    ```javascript
    const promise1 = Promise.reject('–û—à–∏–±–∫–∞ 1');
    const promise2 = new Promise((resolve, reject) => setTimeout(() => reject('–û—à–∏–±–∫–∞ 2'), 100));
    const promise3 = Promise.resolve(3);

    Promise.any([promise1, promise2, promise3])
      .then((value) => {
        console.log(value); // 3 (–ø–æ—Ç–æ–º—É —á—Ç–æ promise3 —Ä–∞–∑—Ä–µ—à–∏–ª—Å—è)
      })
      .catch((error) => {
          console.log(error);
      });
    ```

### –ñ–∏–∑–Ω–µ–Ω–Ω—ã–π –ø—Ä–∏–º–µ—Ä

–ü—Ä–µ–¥—Å—Ç–∞–≤—å—Ç–µ —Å–µ–±–µ, —á—Ç–æ –≤–∞–º –Ω—É–∂–Ω–æ –∑–∞–≥—Ä—É–∑–∏—Ç—å –¥–∞–Ω–Ω—ã–µ —Å –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö API –∏ –æ—Ç–æ–±—Ä–∞–∑–∏—Ç—å –∏—Ö –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ.

```javascript
async function fetchData() {
  const urls = [
    '/api/users',
    '/api/posts',
    '/api/comments'
  ];

  try {
    const responses = await Promise.all(urls.map(url => fetch(url).then(res => res.json())));
    const users = responses[0];
    const posts = responses[1];
    const comments = responses[2];

    // –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ...
    console.log('–î–∞–Ω–Ω—ã–µ –∑–∞–≥—Ä—É–∂–µ–Ω—ã:', { users, posts, comments });

  } catch (error) {
    console.error('–û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –¥–∞–Ω–Ω—ã—Ö:', error);
  }
}

fetchData();
```

–í —ç—Ç–æ–º –ø—Ä–∏–º–µ—Ä–µ `Promise.all` –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç, —á—Ç–æ –≤—Å–µ –∑–∞–ø—Ä–æ—Å—ã –∫ API –±—É–¥—É—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω—ã –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ, –∏ —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ —ç—Ç–æ–≥–æ –¥–∞–Ω–Ω—ã–µ –±—É–¥—É—Ç –æ–±—Ä–∞–±–æ—Ç–∞–Ω—ã –∏ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω—ã. –ï—Å–ª–∏ —Ö–æ—Ç—è –±—ã –æ–¥–∏–Ω –∑–∞–ø—Ä–æ—Å –∑–∞–≤–µ—Ä—à–∏—Ç—Å—è –Ω–µ—É–¥–∞—á–µ–π, –≤—Å—è –æ–ø–µ—Ä–∞—Ü–∏—è –±—É–¥–µ—Ç –ø—Ä–µ—Ä–≤–∞–Ω–∞, –∏ –±—É–¥–µ—Ç –≤—ã–≤–µ–¥–µ–Ω–æ —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ.  –¢–∞–∫–æ–π –ø–æ–¥—Ö–æ–¥ —á–∞—Å—Ç–æ –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –≤ –≤–µ–±-—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ –¥–ª—è –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–π –∑–∞–≥—Ä—É–∑–∫–∏ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Ä–µ—Å—É—Ä—Å–æ–≤, —á—Ç–æ –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ —É—Å–∫–æ—Ä—è–µ—Ç –∑–∞–≥—Ä—É–∑–∫—É —Å—Ç—Ä–∞–Ω–∏—Ü—ã. –§—Ä–µ–π–º–≤–æ—Ä–∫–∏ –∏ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏, —Ç–∞–∫–∏–µ –∫–∞–∫ React, Angular –∏ Vue.js, –∞–∫—Ç–∏–≤–Ω–æ –∏—Å–ø–æ–ª—å–∑—É—é—Ç Promise Combinators –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–º–∏ –æ–ø–µ—Ä–∞—Ü–∏—è–º–∏, —Ç–∞–∫–∏–º–∏ –∫–∞–∫ –∑–∞–ø—Ä–æ—Å—ã –∫ —Å–µ—Ä–≤–µ—Ä—É –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞.

### –ö–ª—é—á–µ–≤—ã–µ –º–æ–º–µ–Ω—Ç—ã

*   Promise Combinators –ø–æ–∑–≤–æ–ª—è—é—Ç —É–ø—Ä–∞–≤–ª—è—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ –ø—Ä–æ–º–∏—Å–∞–º–∏ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ.
*   `Promise.all` –æ–∂–∏–¥–∞–µ—Ç —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –≤—Å–µ—Ö –ø—Ä–æ–º–∏—Å–æ–≤.
*   `Promise.allSettled` –æ–∂–∏–¥–∞–µ—Ç –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –≤—Å–µ—Ö –ø—Ä–æ–º–∏—Å–æ–≤ (–Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç —Å—Ç–∞—Ç—É—Å–∞).
*   `Promise.race` —Ä–∞–∑—Ä–µ—à–∞–µ—Ç—Å—è –∏–ª–∏ –æ—Ç–∫–ª–æ–Ω—è–µ—Ç—Å—è –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –ø–µ—Ä–≤–æ–≥–æ —Ä–∞–∑—Ä–µ—à–µ–Ω–Ω–æ–≥–æ –∏–ª–∏ –æ—Ç–∫–ª–æ–Ω–µ–Ω–Ω–æ–≥–æ –ø—Ä–æ–º–∏—Å–∞.
*   `Promise.any` —Ä–∞–∑—Ä–µ—à–∞–µ—Ç—Å—è –ø—Ä–∏ –ø–µ—Ä–≤–æ–º —É—Å–ø–µ—à–Ω–æ —Ä–∞–∑—Ä–µ—à–µ–Ω–Ω–æ–º –ø—Ä–æ–º–∏—Å–µ.
*   –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Promise Combinators –¥–µ–ª–∞–µ—Ç –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –∫–æ–¥ –±–æ–ª–µ–µ —á–∏—Ç–∞–µ–º—ã–º –∏ —É–ø—Ä–∞–≤–ª—è–µ–º—ã–º.

### –ü—Ä–∞–∫—Ç–∏–∫–∞

–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø—Ä–∏–º–µ—Ä—ã –≤ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–º —Ä–µ–¥–∞–∫—Ç–æ—Ä–µ:

<Sandpack template="vanilla">

```js index.js
const app = document.getElementById('app');

app.innerHTML = `
  <div class="controls">
    <h2>‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø—Ä–æ–º–∏—Å—ã</h2>
    <div class="promise-config">
      <div class="promise-item">
        <label>Promise 1:</label>
        <select id="p1-status">
          <option value="resolve">‚úÖ Resolve</option>
          <option value="reject">‚ùå Reject</option>
        </select>
        <input type="number" id="p1-delay" value="1000" min="100" max="5000" step="100">
        <span>ms</span>
      </div>
      
      <div class="promise-item">
        <label>Promise 2:</label>
        <select id="p2-status">
          <option value="resolve">‚úÖ Resolve</option>
          <option value="reject" selected>‚ùå Reject</option>
        </select>
        <input type="number" id="p2-delay" value="1500" min="100" max="5000" step="100">
        <span>ms</span>
      </div>
      
      <div class="promise-item">
        <label>Promise 3:</label>
        <select id="p3-status">
          <option value="resolve">‚úÖ Resolve</option>
          <option value="reject">‚ùå Reject</option>
        </select>
        <input type="number" id="p3-delay" value="800" min="100" max="5000" step="100">
        <span>ms</span>
      </div>
    </div>
  </div>
  
  <div class="combinators">
    <button onclick="testAll()" class="btn-all">Promise.all()</button>
    <button onclick="testAllSettled()" class="btn-allsettled">Promise.allSettled()</button>
    <button onclick="testRace()" class="btn-race">Promise.race()</button>
    <button onclick="testAny()" class="btn-any">Promise.any()</button>
  </div>
  
  <div id="result"></div>
`;

// –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ–º–∏—Å–∞ —Å –∑–∞–¥–µ—Ä–∂–∫–æ–π
function createPromise(id, shouldResolve, delay) {
  return new Promise((resolve, reject) => {
    setTimeout(() => {
      if (shouldResolve) {
        resolve(`Data ${id}`);
      } else {
        reject(`Error ${id}`);
      }
    }, delay);
  });
}

// –ü–æ–ª—É—á–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫ –ø—Ä–æ–º–∏—Å–æ–≤
function getPromises() {
  return [
    createPromise(
      1, 
      document.getElementById('p1-status').value === 'resolve',
      parseInt(document.getElementById('p1-delay').value)
    ),
    createPromise(
      2, 
      document.getElementById('p2-status').value === 'resolve',
      parseInt(document.getElementById('p2-delay').value)
    ),
    createPromise(
      3, 
      document.getElementById('p3-status').value === 'resolve',
      parseInt(document.getElementById('p3-delay').value)
    )
  ];
}

// –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞
function showResult(title, result, isError = false) {
  const resultDiv = document.getElementById('result');
  const className = isError ? 'error' : 'success';
  
  resultDiv.innerHTML = `
    <h3>${title}</h3>
    <div class="${className}">
      <pre>${JSON.stringify(result, null, 2)}</pre>
    </div>
  `;
  
  console.log(title, result);
}

// Promise.all
window.testAll = async () => {
  const start = Date.now();
  showResult('‚è≥ Promise.all() –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è...', '–û–∂–∏–¥–∞–Ω–∏–µ...');
  
  try {
    const results = await Promise.all(getPromises());
    showResult(
      `‚úÖ Promise.all() —É—Å–ø–µ—à–Ω–æ (${Date.now() - start}ms)`,
      results
    );
  } catch (error) {
    showResult(
      `‚ùå Promise.all() –æ—Ç–∫–ª–æ–Ω–µ–Ω (${Date.now() - start}ms)`,
      { error: error.toString() },
      true
    );
  }
};

// Promise.allSettled
window.testAllSettled = async () => {
  const start = Date.now();
  showResult('‚è≥ Promise.allSettled() –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è...', '–û–∂–∏–¥–∞–Ω–∏–µ...');
  
  const results = await Promise.allSettled(getPromises());
  showResult(
    `‚úÖ Promise.allSettled() –∑–∞–≤–µ—Ä—à–µ–Ω (${Date.now() - start}ms)`,
    results
  );
};

// Promise.race
window.testRace = async () => {
  const start = Date.now();
  showResult('‚è≥ Promise.race() –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è...', '–û–∂–∏–¥–∞–Ω–∏–µ...');
  
  try {
    const result = await Promise.race(getPromises());
    showResult(
      `üèÅ Promise.race() —É—Å–ø–µ—à–Ω–æ (${Date.now() - start}ms)`,
      { winner: result }
    );
  } catch (error) {
    showResult(
      `üèÅ Promise.race() –æ—Ç–∫–ª–æ–Ω–µ–Ω (${Date.now() - start}ms)`,
      { error: error.toString() },
      true
    );
  }
};

// Promise.any
window.testAny = async () => {
  const start = Date.now();
  showResult('‚è≥ Promise.any() –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è...', '–û–∂–∏–¥–∞–Ω–∏–µ...');
  
  try {
    const result = await Promise.any(getPromises());
    showResult(
      `‚ú® Promise.any() —É—Å–ø–µ—à–Ω–æ (${Date.now() - start}ms)`,
      { firstSuccess: result }
    );
  } catch (error) {
    showResult(
      `‚ùå Promise.any() –æ—Ç–∫–ª–æ–Ω–µ–Ω (${Date.now() - start}ms)`,
      { error: error.toString(), errors: error.errors },
      true
    );
  }
};

console.log('üí° –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø—Ä–æ–º–∏—Å—ã –∏ –Ω–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É –∫–æ–º–±–∏–Ω–∞—Ç–æ—Ä–∞!');
```

```css styles.css
body {
  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
  padding: 20px;
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  margin: 0;
}

#app {
  max-width: 800px;
  margin: 0 auto;
}

.controls {
  background: white;
  border-radius: 12px;
  padding: 24px;
  margin-bottom: 20px;
  box-shadow: 0 4px 8px rgba(0,0,0,0.1);
}

.controls h2 {
  margin: 0 0 20px 0;
  color: #333;
}

.promise-config {
  display: flex;
  flex-direction: column;
  gap: 12px;
}

.promise-item {
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 12px;
  background: #f8f9fa;
  border-radius: 8px;
}

.promise-item label {
  min-width: 90px;
  font-weight: bold;
  color: #555;
}

select, input {
  padding: 8px 12px;
  border: 2px solid #e0e0e0;
  border-radius: 6px;
  font-size: 14px;
}

input[type="number"] {
  width: 80px;
}

.combinators {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 12px;
  margin-bottom: 20px;
}

button {
  padding: 16px 24px;
  border: none;
  border-radius: 10px;
  font-size: 16px;
  font-weight: bold;
  color: white;
  cursor: pointer;
  transition: transform 0.2s, box-shadow 0.2s;
}

button:hover {
  transform: translateY(-2px);
  box-shadow: 0 6px 12px rgba(0,0,0,0.2);
}

button:active {
  transform: translateY(0);
}

.btn-all {
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
}

.btn-allsettled {
  background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
}

.btn-race {
  background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
}

.btn-any {
  background: linear-gradient(135deg, #43e97b 0%, #38f9d7 100%);
}

#result {
  background: white;
  border-radius: 12px;
  padding: 24px;
  min-height: 200px;
  box-shadow: 0 4px 8px rgba(0,0,0,0.1);
}

#result h3 {
  margin: 0 0 16px 0;
  color: #333;
}

.success {
  background: #e8f5e9;
  border-left: 4px solid #4caf50;
  padding: 16px;
  border-radius: 8px;
}

.error {
  background: #ffebee;
  border-left: 4px solid #f44336;
  padding: 16px;
  border-radius: 8px;
}

pre {
  margin: 0;
  font-family: 'Courier New', monospace;
  font-size: 14px;
  overflow-x: auto;
}
```

</Sandpack>
