## JavaScript: –ú–æ–∑–≥–∏. –£—Ä–æ–∫: Geolocation

Geolocation API –ø–æ–∑–≤–æ–ª—è–µ—Ç –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è–º –ø–æ–ª—É—á–∞—Ç—å –≥–µ–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–æ–µ –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è. –≠—Ç–æ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç –¥–≤–µ—Ä–∏ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã—Ö –∫–∞—Ä—Ç, —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π –±–ª–∏–∂–∞–π—à–∏—Ö –∑–∞–≤–µ–¥–µ–Ω–∏–π –∏ –º–Ω–æ–≥–æ–≥–æ –¥—Ä—É–≥–æ–≥–æ.

### –ß—Ç–æ —Ç–∞–∫–æ–µ Geolocation API?

Geolocation API ‚Äì —ç—Ç–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –≤ JavaScript, –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—é—â–∏–π –¥–æ—Å—Ç—É–ø –∫ –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏—é –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è. –û–Ω —Ä–∞–±–æ—Ç–∞–µ—Ç —á–µ—Ä–µ–∑ –æ–±—ä–µ–∫—Ç `navigator.geolocation`. –í–∞–∂–Ω–æ –ø–æ–º–Ω–∏—Ç—å, —á—Ç–æ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏—è —Ç—Ä–µ–±—É–µ—Ç—Å—è —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.

#### –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç?

–û—Å–Ω–æ–≤–Ω–æ–π –º–µ—Ç–æ–¥, –∫–æ—Ç–æ—Ä—ã–π –º—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º ‚Äì —ç—Ç–æ `getCurrentPosition()`. –û–Ω –ø—Ä–∏–Ω–∏–º–∞–µ—Ç —Ç—Ä–∏ –∞—Ä–≥—É–º–µ–Ω—Ç–∞:

1.  **successCallback:** –§—É–Ω–∫—Ü–∏—è, –∫–æ—Ç–æ—Ä–∞—è –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∏ —É—Å–ø–µ—à–Ω–æ–º –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–∏ –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏—è. –ü–æ–ª—É—á–∞–µ—Ç –æ–±—ä–µ–∫—Ç `GeolocationPosition`.
2.  **errorCallback (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π):** –§—É–Ω–∫—Ü–∏—è, –∫–æ—Ç–æ—Ä–∞—è –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∏ –æ—à–∏–±–∫–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏—è. –ü–æ–ª—É—á–∞–µ—Ç –æ–±—ä–µ–∫—Ç `GeolocationPositionError`.
3.  **options (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π):** –û–±—ä–µ–∫—Ç —Å –æ–ø—Ü–∏—è–º–∏ –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∑–∞–ø—Ä–æ—Å–∞ –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏—è.

#### –ü—Ä–∏–º–µ—Ä –∫–æ–¥–∞: –ü–æ–ª—É—á–µ–Ω–∏–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç

```javascript
if (navigator.geolocation) {
  navigator.geolocation.getCurrentPosition(
    function(position) {
      // –§—É–Ω–∫—Ü–∏—è, –≤—ã–∑—ã–≤–∞–µ–º–∞—è –ø—Ä–∏ —É—Å–ø–µ—à–Ω–æ–º –ø–æ–ª—É—á–µ–Ω–∏–∏ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç
      const latitude = position.coords.latitude;
      const longitude = position.coords.longitude;
      console.log("–®–∏—Ä–æ—Ç–∞: " + latitude + ", –î–æ–ª–≥–æ—Ç–∞: " + longitude);

      // –ó–¥–µ—Å—å –º–æ–∂–Ω–æ –æ–±–Ω–æ–≤–∏—Ç—å —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã, –Ω–∞–ø—Ä–∏–º–µ—Ä, –ø–æ–∫–∞–∑–∞—Ç—å –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã
      document.getElementById("latitude").textContent = latitude;
      document.getElementById("longitude").textContent = longitude;
    },
    function(error) {
      // –§—É–Ω–∫—Ü–∏—è, –≤—ã–∑—ã–≤–∞–µ–º–∞—è –ø—Ä–∏ –æ—à–∏–±–∫–µ
      switch(error.code) {
        case error.PERMISSION_DENIED:
          console.error("–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–∫–ª–æ–Ω–∏–ª –∑–∞–ø—Ä–æ—Å –Ω–∞ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏—è.");
          break;
        case error.POSITION_UNAVAILABLE:
          console.error("–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞.");
          break;
        case error.TIMEOUT:
          console.error("–í—Ä–µ–º—è –æ–∂–∏–¥–∞–Ω–∏—è –∑–∞–ø—Ä–æ—Å–∞ –∏—Å—Ç–µ–∫–ª–æ.");
          break;
        case error.UNKNOWN_ERROR:
          console.error("–ü—Ä–æ–∏–∑–æ—à–ª–∞ –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω–∞—è –æ—à–∏–±–∫–∞.");
          break;
      }
    }
  );
} else {
  console.error("Geolocation –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è —ç—Ç–∏–º –±—Ä–∞—É–∑–µ—Ä–æ–º.");
}
```

#### –ü—Ä–∏–º–µ—Ä HTML –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç

```html
<!DOCTYPE html>
<html>
<head>
  <title>Geolocation Example</title>
</head>
<body>
  <h1>–í–∞—à–∏ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã:</h1>
  <p>–®–∏—Ä–æ—Ç–∞: <span id="latitude"></span></p>
  <p>–î–æ–ª–≥–æ—Ç–∞: <span id="longitude"></span></p>

  <script src="script.js"></script> <!-- –ü–æ–¥–∫–ª—é—á–∏—Ç–µ –≤–∞—à JavaScript —Ñ–∞–π–ª -->
</body>
</html>
```

### –ñ–∏–∑–Ω–µ–Ω–Ω—ã–π –ø—Ä–∏–º–µ—Ä

Geolocation API –∞–∫—Ç–∏–≤–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è—Ö –∏ —Å–µ—Ä–≤–∏—Å–∞—Ö:

*   **–ö–∞—Ä—Ç—ã –∏ –Ω–∞–≤–∏–≥–∞—Ü–∏—è:** Google Maps, –Ø–Ω–¥–µ–∫—Å.–ö–∞—Ä—Ç—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç Geolocation –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –≤–∞—à–µ–≥–æ –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏—è –∏ –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è –º–∞—Ä—à—Ä—É—Ç–æ–≤.
*   **–õ–æ–∫–∞–ª—å–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã:** –ü—Ä–∏–ª–æ–∂–µ–Ω–∏—è –¥–ª—è –∑–∞–∫–∞–∑–∞ –µ–¥—ã, —Ç–∞–∫—Å–∏, –ø–æ–∏—Å–∫–∞ –±–ª–∏–∂–∞–π—à–∏—Ö —Ä–µ—Å—Ç–æ—Ä–∞–Ω–æ–≤ –∏ –º–∞–≥–∞–∑–∏–Ω–æ–≤.
*   **–°–æ—Ü–∏–∞–ª—å–Ω—ã–µ —Å–µ—Ç–∏:** –û—Ç–º–µ—Ç–∫–∞ –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏—è –≤ –ø–æ—Å—Ç–∞—Ö –∏ Stories.
*   **–†–µ–∫–ª–∞–º–∞:** –¢–∞—Ä–≥–µ—Ç–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Ä–µ–∫–ª–∞–º–∞, –æ—Å–Ω–æ–≤–∞–Ω–Ω–∞—è –Ω–∞ –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.
*   **–§—Ä–µ–π–º–≤–æ—Ä–∫–∏:** –ú–Ω–æ–≥–∏–µ [JavaScript](/javascript/index) —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∏ ([React](/react), Angular, Vue) –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—é—Ç –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ –∏–ª–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –¥–ª—è —É–ø—Ä–æ—â–µ–Ω–∏—è —Ä–∞–±–æ—Ç—ã —Å Geolocation API.

### –ö–ª—é—á–µ–≤—ã–µ –º–æ–º–µ–Ω—Ç—ã

*   **–†–∞–∑—Ä–µ—à–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:** –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –∑–∞–ø—Ä–∞—à–∏–≤–∞–π—Ç–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–µ—Ä–µ–¥ –ø–æ–ª—É—á–µ–Ω–∏–µ–º –µ–≥–æ –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏—è.
*   **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫:** –ü—Ä–µ–¥—É—Å–º–æ—Ç—Ä–∏—Ç–µ –æ–±—Ä–∞–±–æ—Ç–∫—É –≤–æ–∑–º–æ–∂–Ω—ã—Ö –æ—à–∏–±–æ–∫, —Ç–∞–∫–∏—Ö –∫–∞–∫ –æ—Ç–∫–∞–∑ –≤ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–∏, –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–∏ –∏–ª–∏ –∏—Å—Ç–µ—á–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏ –æ–∂–∏–¥–∞–Ω–∏—è.
*   **–ö–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç—å:** –£–≤–∞–∂–∞–π—Ç–µ –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –¥–∞–Ω–Ω—ã–µ –æ –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–∏ —Ç–æ–ª—å–∫–æ –≤ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã—Ö —Å–ª—É—á–∞—è—Ö.
*   **–¢–æ—á–Ω–æ—Å—Ç—å:** –¢–æ—á–Ω–æ—Å—Ç—å –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏—è –º–æ–∂–µ—Ç –≤–∞—Ä—å–∏—Ä–æ–≤–∞—Ç—å—Å—è –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ –∏ —É—Å–ª–æ–≤–∏–π –æ–∫—Ä—É–∂–∞—é—â–µ–π —Å—Ä–µ–¥—ã.
*   **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:** –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ HTTPS –¥–ª—è –∑–∞—â–∏—Ç—ã –¥–∞–Ω–Ω—ã—Ö –æ –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–∏.

## üîó Connected Topics

- [Events](/javascript/events)
- [DOM](/javascript/dom)
- [React](/react)
- [HTML](/html)
### –ü—Ä–∞–∫—Ç–∏–∫–∞

–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø—Ä–∏–º–µ—Ä—ã –≤ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–º —Ä–µ–¥–∞–∫—Ç–æ—Ä–µ:

<Playground 
  template="vanilla"
  code={{
    'index.html': `<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Geolocation API</title>
  <style>
    .container {
      border: 2px solid #333;
      padding: 15px;
      margin: 10px 0;
    }
    button {
      margin: 5px;
      padding: 10px 20px;
      cursor: pointer;
      background: #28a745;
      color: white;
      border: none;
      border-radius: 4px;
      font-size: 16px;
    }
    button:hover {
      background: #218838;
    }
    #output {
      margin-top: 15px;
      padding: 15px;
      background: #f8f9fa;
      min-height: 80px;
      border-radius: 4px;
    }
    .info {
      margin: 5px 0;
      padding: 8px;
      background: white;
      border-left: 3px solid #007bff;
    }
    .error {
      color: red;
      padding: 10px;
      background: #ffebee;
      border-left: 3px solid red;
    }
    .success {
      color: green;
      padding: 10px;
      background: #e8f5e9;
      border-left: 3px solid green;
    }
  </style>
</head>
<body>
  <h2>Geolocation API Examples</h2>
  
  <div class="container">
    <button onclick="getLocation()">üìç –ü–æ–ª—É—á–∏—Ç—å –º–æ–µ –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ</button>
    <button onclick="watchLocation()">üëÅÔ∏è –û—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ</button>
    <button onclick="stopWatching()">‚èπÔ∏è –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ</button>
    <div id="output">
      <p>–ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏—è</p>
    </div>
  </div>

  <script src="script.js"></script>
</body>
</html>`,
    'script.js': `let watchId = null;

// –ü–æ–ª—É—á–∏—Ç—å —Ç–µ–∫—É—â–µ–µ –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ
window.getLocation = function() {
  const output = document.getElementById('output');
  
  if (!navigator.geolocation) {
    output.innerHTML = '<p class="error">‚ùå Geolocation –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è –≤–∞—à–∏–º –±—Ä–∞—É–∑–µ—Ä–æ–º</p>';
    return;
  }
  
  output.innerHTML = '<p>‚è≥ –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏—è...</p>';
  
  navigator.geolocation.getCurrentPosition(
    function(position) {
      const latitude = position.coords.latitude;
      const longitude = position.coords.longitude;
      const accuracy = position.coords.accuracy;
      
      output.innerHTML = \`
        <div class="success">‚úì –ú–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–æ!</div>
        <div class="info"><strong>–®–∏—Ä–æ—Ç–∞:</strong> \${latitude.toFixed(6)}</div>
        <div class="info"><strong>–î–æ–ª–≥–æ—Ç–∞:</strong> \${longitude.toFixed(6)}</div>
        <div class="info"><strong>–¢–æ—á–Ω–æ—Å—Ç—å:</strong> ¬±\${accuracy.toFixed(0)} –º–µ—Ç—Ä–æ–≤</div>
        <div class="info">
          <a href="https://www.google.com/maps?q=\${latitude},\${longitude}" target="_blank">
            üó∫Ô∏è –û—Ç–∫—Ä—ã—Ç—å –Ω–∞ Google Maps
          </a>
        </div>
      \`;
      
      console.log(\`–ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã: \${latitude}, \${longitude}\`);
    },
    function(error) {
      let errorMessage = '';
      switch(error.code) {
        case error.PERMISSION_DENIED:
          errorMessage = "–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–∫–ª–æ–Ω–∏–ª –∑–∞–ø—Ä–æ—Å –Ω–∞ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏—è.";
          break;
        case error.POSITION_UNAVAILABLE:
          errorMessage = "–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞.";
          break;
        case error.TIMEOUT:
          errorMessage = "–í—Ä–µ–º—è –æ–∂–∏–¥–∞–Ω–∏—è –∑–∞–ø—Ä–æ—Å–∞ –∏—Å—Ç–µ–∫–ª–æ.";
          break;
        default:
          errorMessage = "–ü—Ä–æ–∏–∑–æ—à–ª–∞ –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω–∞—è –æ—à–∏–±–∫–∞.";
      }
      output.innerHTML = \`<p class="error">‚ùå \${errorMessage}</p>\`;
      console.error('Geolocation error:', errorMessage);
    },
    {
      enableHighAccuracy: true,
      timeout: 5000,
      maximumAge: 0
    }
  );
};

// –û—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ
window.watchLocation = function() {
  const output = document.getElementById('output');
  
  if (!navigator.geolocation) {
    output.innerHTML = '<p class="error">‚ùå Geolocation –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è</p>';
    return;
  }
  
  if (watchId !== null) {
    output.innerHTML = '<p class="error">‚ö†Ô∏è –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ —É–∂–µ –∞–∫—Ç–∏–≤–Ω–æ!</p>';
    return;
  }
  
  output.innerHTML = '<p>üëÅÔ∏è –ù–∞—á–∏–Ω–∞—é –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ...</p>';
  let updateCount = 0;
  
  watchId = navigator.geolocation.watchPosition(
    function(position) {
      updateCount++;
      const latitude = position.coords.latitude;
      const longitude = position.coords.longitude;
      const time = new Date(position.timestamp).toLocaleTimeString();
      
      output.innerHTML = \`
        <div class="success">‚úì –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –∞–∫—Ç–∏–≤–Ω–æ (–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ #\${updateCount})</div>
        <div class="info"><strong>–í—Ä–µ–º—è:</strong> \${time}</div>
        <div class="info"><strong>–®–∏—Ä–æ—Ç–∞:</strong> \${latitude.toFixed(6)}</div>
        <div class="info"><strong>–î–æ–ª–≥–æ—Ç–∞:</strong> \${longitude.toFixed(6)}</div>
        <div class="info"><strong>–¢–æ—á–Ω–æ—Å—Ç—å:</strong> ¬±\${position.coords.accuracy.toFixed(0)} –º</div>
      \`;
    },
    function(error) {
      output.innerHTML = \`<p class="error">‚ùå –û—à–∏–±–∫–∞ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è</p>\`;
      watchId = null;
    }
  );
};

// –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ
window.stopWatching = function() {
  const output = document.getElementById('output');
  
  if (watchId === null) {
    output.innerHTML = '<p class="error">‚ö†Ô∏è –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –Ω–µ –∞–∫—Ç–∏–≤–Ω–æ</p>';
    return;
  }
  
  navigator.geolocation.clearWatch(watchId);
  watchId = null;
  output.innerHTML = '<p class="success">‚èπÔ∏è –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ</p>';
};

console.log('Geolocation API –≥–æ—Ç–æ–≤ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é');`,
  }}
/>
