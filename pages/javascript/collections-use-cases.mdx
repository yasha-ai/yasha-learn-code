## JavaScript: Мозги. Урок: Коллекции: Практические кейсы


![Иллюстрация к уроку](/lessons/javascript-collections-use-cases.png)
В этом уроке мы углубимся в практическое использование коллекций в JavaScript. Мы рассмотрим, как эффективно применять массивы и объекты для решения реальных задач.

### Что такое коллекции и зачем они нужны?

Коллекции в JavaScript - это структуры данных, которые позволяют хранить и управлять набором элементов. Наиболее распространенные типы коллекций - это массивы (для упорядоченных списков) и объекты (для хранения данных в формате ключ-значение). Они необходимы для организации и манипулирования данными, особенно при работе с DOM и логикой приложения.

#### Массивы

Массивы - это упорядоченные списки элементов.

```javascript
// Пример массива с именами
const names = ["Alice", "Bob", "Charlie"];

// Доступ к элементу по индексу
console.log(names[0]); // Выводит "Alice"

// Добавление элемента в конец массива
names.push("David");
console.log(names); // Выводит ["Alice", "Bob", "Charlie", "David"]

// Перебор массива
names.forEach(name => {
  console.log(`Привет, ${name}!`);
});
```

#### Объекты

Объекты - это коллекции пар ключ-значение.

```javascript
// Пример объекта, представляющего пользователя
const user = {
  name: "Eva",
  age: 30,
  city: "New York"
};

// Доступ к значению по ключу
console.log(user.name); // Выводит "Eva"

// Добавление нового свойства
user.email = "eva@example.com";
console.log(user); // Выводит объект с добавленным email

// Перебор ключей объекта
for (let key in user) {
  console.log(`${key}: ${user[key]}`);
}
```

### Практические примеры кода

#### Пример 1: Фильтрация массива объектов

Предположим, у нас есть массив объектов, представляющих товары, и мы хотим отфильтровать только те, у которых цена больше 50.

```javascript
const products = [
  { name: "Laptop", price: 1200 },
  { name: "Keyboard", price: 75 },
  { name: "Mouse", price: 25 },
  { name: "Monitor", price: 300 }
];

const expensiveProducts = products.filter(product => product.price > 50);

console.log(expensiveProducts);
// Выводит:
// [
//   { name: "Laptop", price: 1200 },
//   { name: "Keyboard", price: 75 },
//   { name: "Monitor", price: 300 }
// ]
```

#### Пример 2: Создание списка элементов DOM на основе массива

Допустим, у нас есть массив строк, и мы хотим создать список `<li>` элементов и добавить их в `<ul>` элемент на странице.

```html
<ul id="myList"></ul>

<script>
  const items = ["Item 1", "Item 2", "Item 3"];
  const list = document.getElementById("myList");

  items.forEach(item => {
    const li = document.createElement("li");
    li.textContent = item;
    list.appendChild(li);
  });
</script>
```

### Жизненный пример

В React, Vue и Angular коллекции (массивы и объекты) используются повсеместно для управления состоянием компонентов, рендеринга списков данных и обработки пользовательского ввода. Например, в React массив объектов может представлять список задач, и изменение этого массива приводит к перерисовке списка на экране. Объекты часто используются для хранения конфигурационных данных или состояния отдельного компонента. Фреймворки предоставляют удобные методы для работы с коллекциями, такие как `map`, `filter`, `reduce` и другие, упрощая разработку сложных интерфейсов.

### Ключевые моменты

*   Массивы - упорядоченные списки, полезны для хранения последовательностей данных.
*   Объекты - коллекции пар ключ-значение, идеально подходят для представления структурированных данных.
*   Методы массивов (forEach, map, filter, reduce) позволяют эффективно манипулировать данными.
*   Коллекции широко используются во фреймворках для управления состоянием и рендеринга UI.
*   Понимание коллекций - важный навык для любого JavaScript разработчика.



## Интерактивный пример

<Sandpack
  template="vanilla"
  files={{
    "/index.html": `<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Коллекции: Практические кейсы</title>
  <link rel="stylesheet" href="/styles.css">
</head>
<body>
  <div class="container">
    <h1>Фильтрация товаров</h1>
    <div id="products">
      <!-- Товары будут добавлены сюда -->
    </div>

    <h2>Добавить товар</h2>
    <input type="text" id="newProductName" placeholder="Название товара">
    <input type="number" id="newProductPrice" placeholder="Цена товара">
    <button id="addProductBtn">Добавить</button>

    <h2>Список элементов</h2>
    <ul id="myList"></ul>
    <input type="text" id="newItemText" placeholder="Текст элемента">
    <button id="addItemBtn">Добавить элемент</button>
  </div>

  <script src="/index.js"><\/script>
</body>
</html>`,
    "/styles.css": `body {
  font-family: sans-serif;
  background-color: #222;
  color: #eee;
  padding: 20px;
}

.container {
  max-width: 800px;
  margin: 0 auto;
}

#products {
  display: flex;
  flex-wrap: wrap;
  gap: 10px;
  margin-bottom: 20px;
}

.product {
  border: 1px solid #555;
  padding: 10px;
  background-color: #333;
  border-radius: 5px;
}

input[type="text"], input[type="number"] {
  padding: 5px;
  margin-right: 10px;
  background-color: #444;
  color: #eee;
  border: none;
  border-radius: 3px;
}

button {
  padding: 5px 10px;
  background-color: #007bff;
  color: white;
  border: none;
  border-radius: 3px;
  cursor: pointer;
}

button:hover {
  background-color: #0056b3;
}

#myList {
  list-style-type: none;
  padding: 0;
}

#myList li {
  padding: 5px;
  border-bottom: 1px solid #555;
}
`,
    "/index.js": `// Исходный массив товаров
const products = [
  { name: "Laptop", price: 1200 },
  { name: "Keyboard", price: 75 },
  { name: "Mouse", price: 25 },
  { name: "Monitor", price: 300 }
];

const productsDiv = document.getElementById("products");
const newProductNameInput = document.getElementById("newProductName");
const newProductPriceInput = document.getElementById("newProductPrice");
const addProductBtn = document.getElementById("addProductBtn");

const myList = document.getElementById("myList");
const newItemTextInput = document.getElementById("newItemText");
const addItemBtn = document.getElementById("addItemBtn");

// Функция для отображения товаров
function displayProducts(productList) {
  productsDiv.innerHTML = ""; // Очищаем текущее содержимое

  productList.forEach(product => {
    const productDiv = document.createElement("div");
    productDiv.classList.add("product");
    productDiv.textContent = \`\${'product.name'} - $\${'product.price'}\`;
    productsDiv.appendChild(productDiv);
  });
}

// Изначально отображаем все товары
displayProducts(products);

// Обработчик добавления товара
addProductBtn.addEventListener("click", () => {
  const name = newProductNameInput.value;
  const price = parseFloat(newProductPriceInput.value);

  if (name && !isNaN(price)) {
    products.push({ name, price });
    displayProducts(products);

    // Очищаем поля ввода
    newProductNameInput.value = "";
    newProductPriceInput.value = "";
  } else {
    alert("Пожалуйста, введите корректные данные для товара.");
  }
});

// Обработчик добавления элемента списка
addItemBtn.addEventListener("click", () => {
  const itemText = newItemTextInput.value;

  if (itemText) {
    const li = document.createElement("li");
    li.textContent = itemText;
    myList.appendChild(li);

    newItemTextInput.value = ""; // Очищаем поле ввода
  } else {
    alert("Пожалуйста, введите текст для элемента списка.");
  }
});
`
  }}
  options={{
    showNavigator: false,
    showLineNumbers: true,
    editorHeight: 400
  }}
/>
