## JavaScript: –ú–æ–∑–≥–∏. –£—Ä–æ–∫: –ó–∞–º—ã–∫–∞–Ω–∏—è (closures) –¥–µ—Ç–∞–ª—å–Ω–æ

–ó–∞–º—ã–∫–∞–Ω–∏—è ‚Äì —ç—Ç–æ –º–æ—â–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç JavaScript, –ø–æ–∑–≤–æ–ª—è—é—â–∏–π —Ñ—É–Ω–∫—Ü–∏—è–º "–∑–∞–ø–æ–º–∏–Ω–∞—Ç—å" –∏ –ø–æ–ª—É—á–∞—Ç—å –¥–æ—Å—Ç—É–ø –∫ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º –∏–∑ –ª–µ–∫—Å–∏—á–µ—Å–∫–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è, –≤ –∫–æ—Ç–æ—Ä–æ–º –æ–Ω–∏ –±—ã–ª–∏ —Å–æ–∑–¥–∞–Ω—ã, –¥–∞–∂–µ –ø–æ—Å–ª–µ —Ç–æ–≥–æ, –∫–∞–∫ —ç—Ç–æ –æ–∫—Ä—É–∂–µ–Ω–∏–µ –ø–µ—Ä–µ—Å—Ç–∞–ª–æ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞—Ç—å. –ü–æ–Ω–∏–º–∞–Ω–∏–µ –∑–∞–º—ã–∫–∞–Ω–∏–π ‚Äì –∫–ª—é—á –∫ –Ω–∞–ø–∏—Å–∞–Ω–∏—é –±–æ–ª–µ–µ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–≥–æ –∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º–æ–≥–æ –∫–æ–¥–∞.

### –°—Ö–µ–º–∞ Scope Chain

```mermaid
flowchart LR
    subgraph Global_Scope [Global Scope]
        G[Global Variables]
        subgraph Outer_Scope [Outer Function Scope]
            OV[Outer Variables]
            subgraph Inner_Scope [Inner Function Scope / Closure]
                IV[Inner Variables]
                IV -.-> OV
                OV -.-> G
            end
        end
    end
    
    style Inner_Scope fill:#fff4dd,stroke:#d4a017
    style Outer_Scope fill:#e1f5fe,stroke:#01579b
```
*–¶–µ–ø–æ—á–∫–∞ –æ–±–ª–∞—Å—Ç–µ–π –≤–∏–¥–∏–º–æ—Å—Ç–∏: —Ñ—É–Ω–∫—Ü–∏—è –∏—â–µ—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é —Å–Ω–∞—á–∞–ª–∞ —É —Å–µ–±—è, –∑–∞—Ç–µ–º –≤–æ –≤–Ω–µ—à–Ω–µ–º –æ–∫—Ä—É–∂–µ–Ω–∏–∏.*

### –ß—Ç–æ —Ç–∞–∫–æ–µ –∑–∞–º—ã–∫–∞–Ω–∏–µ?

–ü—Ä–æ—Å—Ç—ã–º–∏ —Å–ª–æ–≤–∞–º–∏, –∑–∞–º—ã–∫–∞–Ω–∏–µ ‚Äì —ç—Ç–æ —Ñ—É–Ω–∫—Ü–∏—è, –∫–æ—Ç–æ—Ä–∞—è "–ø–æ–º–Ω–∏—Ç" –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ, –æ–±—ä—è–≤–ª–µ–Ω–Ω—ã–µ –≤–Ω–µ –µ–µ —Ç–µ–ª–∞.  –ü—Ä–µ–¥—Å—Ç–∞–≤—å—Ç–µ, —á—Ç–æ —Ñ—É–Ω–∫—Ü–∏—è –∑–∞–±–∏—Ä–∞–µ—Ç —Å —Å–æ–±–æ–π –º–∞–ª–µ–Ω—å–∫–∏–π "—Ä—é–∫–∑–∞–∫" —Å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –∏–∑ —Ç–æ–≥–æ –º–µ—Å—Ç–∞, –≥–¥–µ –æ–Ω–∞ –±—ã–ª–∞ —Å–æ–∑–¥–∞–Ω–∞.

–†–∞—Å—Å–º–æ—Ç—Ä–∏–º –ø—Ä–∏–º–µ—Ä:

```javascript
function outerFunction(outerVar) {
  function innerFunction(innerVar) {
    console.log("outerVar:", outerVar);
    console.log("innerVar:", innerVar);
  }
  return innerFunction;
}

const myInnerFunction = outerFunction("–ü—Ä–∏–≤–µ—Ç –∏–∑ outer!");
myInnerFunction("–ü—Ä–∏–≤–µ—Ç –∏–∑ inner!"); // –í—ã–≤–æ–¥: outerVar: –ü—Ä–∏–≤–µ—Ç –∏–∑ outer! , innerVar: –ü—Ä–∏–≤–µ—Ç –∏–∑ inner!
```

–í —ç—Ç–æ–º –ø—Ä–∏–º–µ—Ä–µ `innerFunction` —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç –∑–∞–º—ã–∫–∞–Ω–∏–µ –≤–æ–∫—Ä—É–≥ `outerVar`. –î–∞–∂–µ –ø–æ—Å–ª–µ —Ç–æ–≥–æ, –∫–∞–∫ `outerFunction` –∑–∞–≤–µ—Ä—à–∏–ª–∞ —Å–≤–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ, `innerFunction` –≤—Å–µ –µ—â–µ –∏–º–µ–µ—Ç –¥–æ—Å—Ç—É–ø –∫ `outerVar`.

### –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–∏–º–µ—Ä—ã

**1. –°—á–µ—Ç—á–∏–∫:**

```javascript
function createCounter() {
  let count = 0;

  return {
    increment: function() {
      count++;
      console.log(count);
    },
    decrement: function() {
      count--;
      console.log(count);
    }
  };
}

const counter = createCounter();
counter.increment(); // –í—ã–≤–æ–¥: 1
counter.increment(); // –í—ã–≤–æ–¥: 2
counter.decrement(); // –í—ã–≤–æ–¥: 1
```

–ó–¥–µ—Å—å `count` —è–≤–ª—è–µ—Ç—Å—è –ø—Ä–∏–≤–∞—Ç–Ω–æ–π –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π, –¥–æ—Å—Ç—É–ø–Ω–æ–π —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ –º–µ—Ç–æ–¥—ã `increment` –∏ `decrement`, –≤–æ–∑–≤—Ä–∞—â–∞–µ–º—ã–µ —Ñ—É–Ω–∫—Ü–∏–µ–π `createCounter`. –≠—Ç–æ –¥–æ—Å—Ç–∏–≥–∞–µ—Ç—Å—è –±–ª–∞–≥–æ–¥–∞—Ä—è –∑–∞–º—ã–∫–∞–Ω–∏—é.

**2. –§—É–Ω–∫—Ü–∏—è —Å –∑–∞–¥–µ—Ä–∂–∫–æ–π:**

```javascript
function delayedLog(value, delay) {
  return function() {
    setTimeout(() => console.log(value), delay);
  };
}

const logHello = delayedLog("–ü—Ä–∏–≤–µ—Ç!", 2000);
logHello(); // –í—ã–≤–æ–¥ "–ü—Ä–∏–≤–µ—Ç!" —á–µ—Ä–µ–∑ 2 —Å–µ–∫—É–Ω–¥—ã
```

–§—É–Ω–∫—Ü–∏—è, –≤–æ–∑–≤—Ä–∞—â–∞–µ–º–∞—è `delayedLog`, "–ø–æ–º–Ω–∏—Ç" `value` –±–ª–∞–≥–æ–¥–∞—Ä—è –∑–∞–º—ã–∫–∞–Ω–∏—é –∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –µ–≥–æ –ø—Ä–∏ –≤—ã–∑–æ–≤–µ `console.log` –≤–Ω—É—Ç—Ä–∏ `setTimeout`.

### –ñ–∏–∑–Ω–µ–Ω–Ω—ã–π –ø—Ä–∏–º–µ—Ä

–ó–∞–º—ã–∫–∞–Ω–∏—è –∞–∫—Ç–∏–≤–Ω–æ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤ JavaScript-–±–∏–±–ª–∏–æ—Ç–µ–∫–∞—Ö –∏ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∞—Ö –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –º–æ–¥—É–ª–µ–π, –∏–Ω–∫–∞–ø—Å—É–ª—è—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö –∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤ –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è.

*   **React Hooks:**  –•—É–∫–∏, —Ç–∞–∫–∏–µ –∫–∞–∫ `useState` –∏ `useEffect`, –∏—Å–ø–æ–ª—å–∑—É—é—Ç –∑–∞–º—ã–∫–∞–Ω–∏—è –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –º–µ–∂–¥—É —Ä–µ–Ω–¥–µ—Ä–∞–º–∏.  –°–æ—Å—Ç–æ—è–Ω–∏–µ, –∫–æ—Ç–æ—Ä–æ–µ –Ω—É–∂–Ω–æ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å, –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ –∑–∞–º—ã–∫–∞–Ω–∏–∏, –¥–æ—Å—Ç—É–ø–Ω–æ–º —Ç–æ–ª—å–∫–æ –¥–ª—è —Ö—É–∫–∞.

*   **Event Listeners:** –ö–æ–≥–¥–∞ –º—ã –¥–æ–±–∞–≤–ª—è–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ —Å–æ–±—ã—Ç–∏—è, —Ñ—É–Ω–∫—Ü–∏—è-–æ–±—Ä–∞–±–æ—Ç—á–∏–∫ —á–∞—Å—Ç–æ –Ω—É–∂–¥–∞–µ—Ç—Å—è –≤ –¥–æ—Å—Ç—É–ø–µ –∫ –¥–∞–Ω–Ω—ã–º, –∫–æ—Ç–æ—Ä—ã–µ –±—ã–ª–∏ –¥–æ—Å—Ç—É–ø–Ω—ã –≤ –º–æ–º–µ–Ω—Ç –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞. –ó–∞–º—ã–∫–∞–Ω–∏—è –ø–æ–∑–≤–æ–ª—è—é—Ç —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å —ç—Ç–∏ –¥–∞–Ω–Ω—ã–µ.

*   **Module Pattern:** –ó–∞–º—ã–∫–∞–Ω–∏—è —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –ø—Ä–∏–≤–∞—Ç–Ω—ã—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –∏ –º–µ—Ç–æ–¥–æ–≤ –≤ –º–æ–¥—É–ª—è—Ö. –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç —Å–∫—Ä—ã–≤–∞—Ç—å –≤–Ω—É—Ç—Ä–µ–Ω–Ω—é—é —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é –º–æ–¥—É–ª—è –∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—Ç—å —Ç–æ–ª—å–∫–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å.

### –ö–ª—é—á–µ–≤—ã–µ –º–æ–º–µ–Ω—Ç—ã

*   –ó–∞–º—ã–∫–∞–Ω–∏–µ ‚Äì —ç—Ç–æ —Ñ—É–Ω–∫—Ü–∏—è –≤–º–µ—Å—Ç–µ —Å –ª–µ–∫—Å–∏—á–µ—Å–∫–∏–º –æ–∫—Ä—É–∂–µ–Ω–∏–µ–º, –≤ –∫–æ—Ç–æ—Ä–æ–º –æ–Ω–∞ –±—ã–ª–∞ —Å–æ–∑–¥–∞–Ω–∞.
*   –ó–∞–º—ã–∫–∞–Ω–∏—è –ø–æ–∑–≤–æ–ª—è—é—Ç —Ñ—É–Ω–∫—Ü–∏—è–º "–∑–∞–ø–æ–º–∏–Ω–∞—Ç—å" –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∏–∑ –≤–Ω–µ—à–Ω–∏—Ö –æ–±–ª–∞—Å—Ç–µ–π –≤–∏–¥–∏–º–æ—Å—Ç–∏.
*   –ó–∞–º—ã–∫–∞–Ω–∏—è –æ–±–µ—Å–ø–µ—á–∏–≤–∞—é—Ç –∏–Ω–∫–∞–ø—Å—É–ª—è—Ü–∏—é –¥–∞–Ω–Ω—ã—Ö –∏ –ø–æ–º–æ–≥–∞—é—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å –ø—Ä–∏–≤–∞—Ç–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ.
*   –ó–∞–º—ã–∫–∞–Ω–∏—è —à–∏—Ä–æ–∫–æ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤ JavaScript-–±–∏–±–ª–∏–æ—Ç–µ–∫–∞—Ö –∏ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∞—Ö –¥–ª—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤ –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è.
*   –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∑–∞–º—ã–∫–∞–Ω–∏–π –º–æ–∂–µ—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ —É—Ç–µ—á–∫–∞–º –ø–∞–º—è—Ç–∏, –ø–æ—ç—Ç–æ–º—É –≤–∞–∂–Ω–æ –ø–æ–Ω–∏–º–∞—Ç—å, –∫–∞–∫ –æ–Ω–∏ —Ä–∞–±–æ—Ç–∞—é—Ç.

### –ü—Ä–∞–∫—Ç–∏–∫–∞

–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø—Ä–∏–º–µ—Ä—ã –≤ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–º —Ä–µ–¥–∞–∫—Ç–æ—Ä–µ:

import { Sandpack } from "@codesandbox/sandpack-react";

<Sandpack
  template="vanilla"
  files={{
    "/index.js": `// –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è –∑–∞–º—ã–∫–∞–Ω–∏–π (closures)

const output = document.getElementById('output');

// –ü—Ä–∏–º–µ—Ä 1: –°—á–µ—Ç—á–∏–∫ —Å –ø—Ä–∏–≤–∞—Ç–Ω—ã–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º
function createCounter(name) {
  let count = 0; // –ü—Ä–∏–≤–∞—Ç–Ω–∞—è –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è
  
  return {
    increment() {
      count++;
      return count;
    },
    decrement() {
      count--;
      return count;
    },
    getCount() {
      return count;
    },
    getName() {
      return name;
    }
  };
}

const counter1 = createCounter('–°—á–µ—Ç—á–∏–∫ 1');
const counter2 = createCounter('–°—á–µ—Ç—á–∏–∫ 2');

function showCounter() {
  output.innerHTML = \`
    <div class="demo">
      <h3>üî¢ –°—á–µ—Ç—á–∏–∫ —Å –ø—Ä–∏–≤–∞—Ç–Ω—ã–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º</h3>
      <div class="counters">
        <div class="counter-box">
          <h4>\${counter1.getName()}</h4>
          <div class="count">\${counter1.getCount()}</div>
          <button onclick="counter1.increment(); showCounter()">‚ûï</button>
          <button onclick="counter1.decrement(); showCounter()">‚ûñ</button>
        </div>
        <div class="counter-box">
          <h4>\${counter2.getName()}</h4>
          <div class="count">\${counter2.getCount()}</div>
          <button onclick="counter2.increment(); showCounter()">‚ûï</button>
          <button onclick="counter2.decrement(); showCounter()">‚ûñ</button>
        </div>
      </div>
      <p class="note">‚ú® –ö–∞–∂–¥—ã–π —Å—á–µ—Ç—á–∏–∫ "–∑–∞–ø–æ–º–∏–Ω–∞–µ—Ç" —Å–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ —á–µ—Ä–µ–∑ –∑–∞–º—ã–∫–∞–Ω–∏–µ!</p>
    </div>
  \`;
}

// –ü—Ä–∏–º–µ—Ä 2: –§–∞–±—Ä–∏–∫–∞ —Ñ—É–Ω–∫—Ü–∏–π
function createMultiplier(multiplier) {
  return function(number) {
    return number * multiplier;
  };
}

const double = createMultiplier(2);
const triple = createMultiplier(3);
const quadruple = createMultiplier(4);

function showMultiplier() {
  const num = 5;
  output.innerHTML = \`
    <div class="demo">
      <h3>‚úñÔ∏è –§–∞–±—Ä–∏–∫–∞ —Ñ—É–Ω–∫—Ü–∏–π</h3>
      <div class="result-box">
        <p>–ß–∏—Å–ª–æ: <strong>\${num}</strong></p>
        <p>double(\${num}) = <strong>\${double(num)}</strong></p>
        <p>triple(\${num}) = <strong>\${triple(num)}</strong></p>
        <p>quadruple(\${num}) = <strong>\${quadruple(num)}</strong></p>
      </div>
      <p class="note">‚ú® –ö–∞–∂–¥–∞—è —Ñ—É–Ω–∫—Ü–∏—è "–ø–æ–º–Ω–∏—Ç" —Å–≤–æ–π –º–Ω–æ–∂–∏—Ç–µ–ª—å!</p>
    </div>
  \`;
}

// –ü—Ä–∏–º–µ—Ä 3: –ü—Ä–∏–≤–∞—Ç–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
function createUser(name, balance) {
  // –ü—Ä–∏–≤–∞—Ç–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
  let _name = name;
  let _balance = balance;
  const _transactions = [];
  
  return {
    getName() {
      return _name;
    },
    getBalance() {
      return _balance;
    },
    deposit(amount) {
      _balance += amount;
      _transactions.push({ type: 'deposit', amount, date: new Date() });
      return \`‚úÖ –ü–æ–ø–æ–ª–Ω–µ–Ω–∏–µ –Ω–∞ \${amount}‚ÇΩ\`;
    },
    withdraw(amount) {
      if (amount > _balance) {
        return \`‚ùå –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Å—Ä–µ–¥—Å—Ç–≤!\`;
      }
      _balance -= amount;
      _transactions.push({ type: 'withdraw', amount, date: new Date() });
      return \`‚úÖ –°–Ω—è—Ç–∏–µ \${amount}‚ÇΩ\`;
    },
    getTransactions() {
      return _transactions;
    }
  };
}

const user = createUser('–ò–≤–∞–Ω', 1000);

function showUser() {
  const transactions = user.getTransactions();
  output.innerHTML = \`
    <div class="demo">
      <h3>üë§ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å –ø—Ä–∏–≤–∞—Ç–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏</h3>
      <div class="user-card">
        <h4>\${user.getName()}</h4>
        <div class="balance">–ë–∞–ª–∞–Ω—Å: <strong>\${user.getBalance()}‚ÇΩ</strong></div>
        <div class="controls">
          <button onclick="showMessage(user.deposit(100)); showUser()">üí∞ +100‚ÇΩ</button>
          <button onclick="showMessage(user.withdraw(50)); showUser()">üí∏ -50‚ÇΩ</button>
          <button onclick="showMessage(user.withdraw(2000)); showUser()">üí∏ -2000‚ÇΩ</button>
        </div>
        <div class="transactions">
          <h5>–¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏:</h5>
          \${transactions.length > 0 ? 
            transactions.slice(-5).reverse().map(t => 
              \`<p>\${t.type === 'deposit' ? '‚ûï' : '‚ûñ'} \${t.amount}‚ÇΩ</p>\`
            ).join('') : 
            '<p class="empty">–ù–µ—Ç —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π</p>'
          }
        </div>
      </div>
      <p class="note">‚ú® –ë–∞–ª–∞–Ω—Å –∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã –Ω–∞–ø—Ä—è–º—É—é - —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ –º–µ—Ç–æ–¥—ã!</p>
    </div>
  \`;
}

function showMessage(msg) {
  const toast = document.createElement('div');
  toast.className = 'toast';
  toast.textContent = msg;
  document.body.appendChild(toast);
  setTimeout(() => toast.remove(), 2000);
}

// –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∫–Ω–æ–ø–æ–∫
document.getElementById('counterBtn').addEventListener('click', showCounter);
document.getElementById('multiplierBtn').addEventListener('click', showMultiplier);
document.getElementById('userBtn').addEventListener('click', showUser);

// –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –ø–µ—Ä–≤—ã–π –ø—Ä–∏–º–µ—Ä
showCounter();`,
    "/index.html": `<!DOCTYPE html>
<html>
<head>
  <style>
    body {
      font-family: system-ui, -apple-system, sans-serif;
      padding: 20px;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      min-height: 100vh;
    }
    .container {
      max-width: 800px;
      margin: 0 auto;
      background: white;
      padding: 30px;
      border-radius: 12px;
      box-shadow: 0 10px 40px rgba(0,0,0,0.3);
    }
    h2 {
      color: #667eea;
      margin-top: 0;
    }
    .tabs {
      display: flex;
      gap: 10px;
      margin: 20px 0;
    }
    .tabs button {
      flex: 1;
      padding: 12px;
      background: #e0e0e0;
      color: #333;
      border: none;
      border-radius: 6px;
      cursor: pointer;
      transition: all 0.3s;
    }
    .tabs button:hover {
      background: #667eea;
      color: white;
      transform: translateY(-2px);
    }
    .demo {
      padding: 20px;
      background: #f8f9fa;
      border-radius: 8px;
      margin: 20px 0;
    }
    .demo h3 {
      margin-top: 0;
      color: #667eea;
    }
    .counters {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 15px;
    }
    .counter-box {
      background: white;
      padding: 20px;
      border-radius: 8px;
      text-align: center;
    }
    .count {
      font-size: 48px;
      font-weight: bold;
      color: #667eea;
      margin: 15px 0;
    }
    button {
      padding: 10px 15px;
      background: #667eea;
      color: white;
      border: none;
      border-radius: 6px;
      cursor: pointer;
      margin: 5px;
      transition: all 0.3s;
    }
    button:hover {
      background: #764ba2;
    }
    .result-box {
      background: white;
      padding: 20px;
      border-radius: 8px;
      margin: 15px 0;
    }
    .result-box p {
      font-size: 18px;
      margin: 10px 0;
    }
    .user-card {
      background: white;
      padding: 20px;
      border-radius: 8px;
    }
    .balance {
      font-size: 24px;
      margin: 15px 0;
      color: #667eea;
    }
    .transactions {
      margin-top: 15px;
      background: #f8f9fa;
      padding: 15px;
      border-radius: 6px;
    }
    .transactions p {
      margin: 5px 0;
    }
    .note {
      background: rgba(102, 126, 234, 0.1);
      padding: 10px;
      border-radius: 6px;
      border-left: 4px solid #667eea;
      margin-top: 15px;
      font-style: italic;
    }
    .empty {
      color: #999;
      font-style: italic;
    }
    .toast {
      position: fixed;
      top: 20px;
      right: 20px;
      background: #333;
      color: white;
      padding: 15px 20px;
      border-radius: 6px;
      animation: slideIn 0.3s ease;
      z-index: 1000;
    }
    @keyframes slideIn {
      from {
        transform: translateX(400px);
      }
      to {
        transform: translateX(0);
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <h2>üîê Closures Deep Dive</h2>
    <div class="tabs">
      <button id="counterBtn">üî¢ –°—á–µ—Ç—á–∏–∫–∏</button>
      <button id="multiplierBtn">‚úñÔ∏è –ú–Ω–æ–∂–∏—Ç–µ–ª–∏</button>
      <button id="userBtn">üë§ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å</button>
    </div>
    <div id="output"></div>
  </div>
  <script src="/index.js"></script>
</body>
</html>`
  }}
  options={{
    showNavigator: false,
    showLineNumbers: true,
    editorHeight: 550
  }}
/>
