## JavaScript: –ú–æ–∑–≥–∏. –£—Ä–æ–∫: call, apply, bind

–§—É–Ω–∫—Ü–∏–∏ –≤ JavaScript ‚Äì —ç—Ç–æ –æ–±—ä–µ–∫—Ç—ã –ø–µ—Ä–≤–æ–≥–æ –∫–ª–∞—Å—Å–∞, —á—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –æ–Ω–∏ –º–æ–≥—É—Ç –±—ã—Ç—å –ø–µ—Ä–µ–¥–∞–Ω—ã –∫–∞–∫ –∞—Ä–≥—É–º–µ–Ω—Ç—ã, –≤–æ–∑–≤—Ä–∞—â–µ–Ω—ã –∏–∑ –¥—Ä—É–≥–∏—Ö —Ñ—É–Ω–∫—Ü–∏–π –∏, —Å–∞–º–æ–µ –≥–ª–∞–≤–Ω–æ–µ, –∏–º–µ—Ç—å –∫–æ–Ω—Ç–µ–∫—Å—Ç (`this`). –ú–µ—Ç–æ–¥—ã `call`, `apply` –∏ `bind` –ø–æ–∑–≤–æ–ª—è—é—Ç –Ω–∞–º —É–ø—Ä–∞–≤–ª—è—Ç—å —ç—Ç–∏–º –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º –∏, —Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ, –≤—ã–ø–æ–ª–Ω—è—Ç—å —Ñ—É–Ω–∫—Ü–∏–∏ –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ –¥—Ä—É–≥–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞.

### –ß—Ç–æ —Ç–∞–∫–æ–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç (this) –∏ –∑–∞—á–µ–º –æ–Ω –Ω—É–∂–µ–Ω?

–ö–æ–Ω—Ç–µ–∫—Å—Ç (`this`) –≤ JavaScript ‚Äì —ç—Ç–æ –∑–Ω–∞—á–µ–Ω–∏–µ, –∫–æ—Ç–æ—Ä–æ–µ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è —Ç–µ–º, –∫–∞–∫ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è —Ñ—É–Ω–∫—Ü–∏—è. –û–Ω —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ –æ–±—ä–µ–∫—Ç, –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ –∫–æ—Ç–æ—Ä–æ–≥–æ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –∫–æ–¥.  `call`, `apply` –∏ `bind` –¥–∞—é—Ç –Ω–∞–º –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —è–≤–Ω–æ —É–∫–∞–∑–∞—Ç—å, –∫–∞–∫–∏–º –±—É–¥–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ `this` –ø—Ä–∏ –≤—ã–∑–æ–≤–µ —Ñ—É–Ω–∫—Ü–∏–∏.

### call

–ú–µ—Ç–æ–¥ `call` –ø–æ–∑–≤–æ–ª—è–µ—Ç –≤—ã–∑–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—é, —è–≤–Ω–æ —É–∫–∞–∑–∞–≤ –∑–Ω–∞—á–µ–Ω–∏–µ `this` –∏ –ø–µ—Ä–µ–¥–∞–≤ –∞—Ä–≥—É–º–µ–Ω—Ç—ã —Ñ—É–Ω–∫—Ü–∏–∏ –ø–æ –æ—Ç–¥–µ–ª—å–Ω–æ—Å—Ç–∏.

```javascript
const person = {
  name: '–ò–≤–∞–Ω',
  sayHello: function(greeting) {
    console.log(greeting + ', –º–µ–Ω—è –∑–æ–≤—É—Ç ' + this.name);
  }
};

const anotherPerson = {
  name: '–ü–µ—Ç—Ä'
};

person.sayHello.call(anotherPerson, '–ü—Ä–∏–≤–µ—Ç'); // –í—ã–≤–æ–¥: –ü—Ä–∏–≤–µ—Ç, –º–µ–Ω—è –∑–æ–≤—É—Ç –ü–µ—Ç—Ä
```

–í —ç—Ç–æ–º –ø—Ä–∏–º–µ—Ä–µ –º—ã –≤—ã–∑—ã–≤–∞–µ–º —Ñ—É–Ω–∫—Ü–∏—é `sayHello`, –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∞—â—É—é –æ–±—ä–µ–∫—Ç—É `person`, –Ω–æ –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ –æ–±—ä–µ–∫—Ç–∞ `anotherPerson`.  –ü–µ—Ä–≤—ã–π –∞—Ä–≥—É–º–µ–Ω—Ç `call` ‚Äì —ç—Ç–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç (`this`), –∞ –æ—Å—Ç–∞–ª—å–Ω—ã–µ –∞—Ä–≥—É–º–µ–Ω—Ç—ã ‚Äì —ç—Ç–æ –∞—Ä–≥—É–º–µ–Ω—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è –≤ —Ñ—É–Ω–∫—Ü–∏—é `sayHello`.

### apply

–ú–µ—Ç–æ–¥ `apply` –ø–æ—Ö–æ–∂ –Ω–∞ `call`, –Ω–æ –æ–Ω –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –∞—Ä–≥—É–º–µ–Ω—Ç—ã —Ñ—É–Ω–∫—Ü–∏–∏ –≤ –≤–∏–¥–µ –º–∞—Å—Å–∏–≤–∞.

```javascript
const person = {
  name: '–ò–≤–∞–Ω',
  sayHello: function(greeting, age) {
    console.log(greeting + ', –º–µ–Ω—è –∑–æ–≤—É—Ç ' + this.name + ', –º–Ω–µ ' + age + ' –ª–µ—Ç.');
  }
};

const anotherPerson = {
  name: '–ü–µ—Ç—Ä'
};

person.sayHello.apply(anotherPerson, ['–ü—Ä–∏–≤–µ—Ç', 30]); // –í—ã–≤–æ–¥: –ü—Ä–∏–≤–µ—Ç, –º–µ–Ω—è –∑–æ–≤—É—Ç –ü–µ—Ç—Ä, –º–Ω–µ 30 –ª–µ—Ç.
```

–í —ç—Ç–æ–º –ø—Ä–∏–º–µ—Ä–µ –∞—Ä–≥—É–º–µ–Ω—Ç—ã `sayHello` –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è –≤ –≤–∏–¥–µ –º–∞—Å—Å–∏–≤–∞ `['–ü—Ä–∏–≤–µ—Ç', 30]` –≤ `apply`.

### bind

–ú–µ—Ç–æ–¥ `bind` —Å–æ–∑–¥–∞–µ—Ç –Ω–æ–≤—É—é —Ñ—É–Ω–∫—Ü–∏—é, –∫–æ—Ç–æ—Ä–∞—è –ø—Ä–∏ –≤—ã–∑–æ–≤–µ –≤—Å–µ–≥–¥–∞ –±—É–¥–µ—Ç –∏–º–µ—Ç—å –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ `this`. –í –æ—Ç–ª–∏—á–∏–µ –æ—Ç `call` –∏ `apply`, `bind` –Ω–µ –≤—ã–∑—ã–≤–∞–µ—Ç —Ñ—É–Ω–∫—Ü–∏—é —Å—Ä–∞–∑—É, –∞ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –Ω–æ–≤—É—é —Ñ—É–Ω–∫—Ü–∏—é —Å –∑–∞–¥–∞–Ω–Ω—ã–º –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º.

```javascript
const person = {
  name: '–ò–≤–∞–Ω',
  sayHello: function(greeting) {
    console.log(greeting + ', –º–µ–Ω—è –∑–æ–≤—É—Ç ' + this.name);
  }
};

const anotherPerson = {
  name: '–ü–µ—Ç—Ä'
};

const sayHelloToPetr = person.sayHello.bind(anotherPerson);

sayHelloToPetr('–ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ'); // –í—ã–≤–æ–¥: –ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ, –º–µ–Ω—è –∑–æ–≤—É—Ç –ü–µ—Ç—Ä
```

–ó–¥–µ—Å—å `bind` —Å–æ–∑–¥–∞–µ—Ç –Ω–æ–≤—É—é —Ñ—É–Ω–∫—Ü–∏—é `sayHelloToPetr`, —É –∫–æ—Ç–æ—Ä–æ–π `this` –≤—Å–µ–≥–¥–∞ –±—É–¥–µ—Ç —É–∫–∞–∑—ã–≤–∞—Ç—å –Ω–∞ `anotherPerson`.

### –ñ–∏–∑–Ω–µ–Ω–Ω—ã–π –ø—Ä–∏–º–µ—Ä

–í React `bind` —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –ø—Ä–∏–≤—è–∑–∫–∏ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ (`this`) –∫ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞–º —Å–æ–±—ã—Ç–∏–π. –ù–∞–ø—Ä–∏–º–µ—Ä:

```javascript
class MyComponent extends React.Component {
  constructor(props) {
    super(props);
    this.handleClick = this.handleClick.bind(this); // –ü—Ä–∏–≤—è–∑—ã–≤–∞–µ–º –∫–æ–Ω—Ç–µ–∫—Å—Ç
  }

  handleClick() {
    console.log('–ö–Ω–æ–ø–∫–∞ –Ω–∞–∂–∞—Ç–∞, –∫–æ–Ω—Ç–µ–∫—Å—Ç:', this);
  }

  render() {
    return (
      <button onClick={this.handleClick}>–ù–∞–∂–º–∏ –º–µ–Ω—è</button>
    );
  }
}
```

–ë–µ–∑ `bind` –≤ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–µ, `this` –≤ `handleClick` –±—É–¥–µ—Ç `undefined` –∏–ª–∏ —É–∫–∞–∑—ã–≤–∞—Ç—å –Ω–∞ –¥—Ä—É–≥–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ (–≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ React). `bind` –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç, —á—Ç–æ `this` –±—É–¥–µ—Ç —É–∫–∞–∑—ã–≤–∞—Ç—å –Ω–∞ —ç–∫–∑–µ–º–ø–ª—è—Ä –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ `MyComponent`.

–¢–∞–∫–∂–µ, `call` –∏ `apply` –º–æ–≥—É—Ç –±—ã—Ç—å –ø–æ–ª–µ–∑–Ω—ã –¥–ª—è –∑–∞–∏–º—Å—Ç–≤–æ–≤–∞–Ω–∏—è –º–µ—Ç–æ–¥–æ–≤ —É –¥—Ä—É–≥–∏—Ö –æ–±—ä–µ–∫—Ç–æ–≤. –ù–∞–ø—Ä–∏–º–µ—Ä, —á—Ç–æ–±—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `slice` –¥–ª—è –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è `arguments` (–∫–æ—Ç–æ—Ä—ã–π –Ω–µ —è–≤–ª—è–µ—Ç—Å—è –Ω–∞—Å—Ç–æ—è—â–∏–º –º–∞—Å—Å–∏–≤–æ–º) –≤ –º–∞—Å—Å–∏–≤:

```javascript
function myFunction() {
  const args = Array.prototype.slice.call(arguments); // –ü—Ä–µ–æ–±—Ä–∞–∑—É–µ–º arguments –≤ –º–∞—Å—Å–∏–≤
  console.log(args);
}

myFunction(1, 2, 3); // –í—ã–≤–æ–¥: [1, 2, 3]
```

### –ö–ª—é—á–µ–≤—ã–µ –º–æ–º–µ–Ω—Ç—ã

*   `call` –≤—ã–∑—ã–≤–∞–µ—Ç —Ñ—É–Ω–∫—Ü–∏—é —Å –∑–∞–¥–∞–Ω–Ω—ã–º –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º –∏ –∞—Ä–≥—É–º–µ–Ω—Ç–∞–º–∏, –ø–µ—Ä–µ–¥–∞–Ω–Ω—ã–º–∏ –ø–æ –æ—Ç–¥–µ–ª—å–Ω–æ—Å—Ç–∏.
*   `apply` –≤—ã–∑—ã–≤–∞–µ—Ç —Ñ—É–Ω–∫—Ü–∏—é —Å –∑–∞–¥–∞–Ω–Ω—ã–º –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º –∏ –∞—Ä–≥—É–º–µ–Ω—Ç–∞–º–∏, –ø–µ—Ä–µ–¥–∞–Ω–Ω—ã–º–∏ –≤ –≤–∏–¥–µ –º–∞—Å—Å–∏–≤–∞.
*   `bind` —Å–æ–∑–¥–∞–µ—Ç –Ω–æ–≤—É—é —Ñ—É–Ω–∫—Ü–∏—é —Å –∑–∞–¥–∞–Ω–Ω—ã–º –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º, –Ω–æ –Ω–µ –≤—ã–∑—ã–≤–∞–µ—Ç –µ–µ —Å—Ä–∞–∑—É.
*   –≠—Ç–∏ –º–µ—Ç–æ–¥—ã –ø–æ–∑–≤–æ–ª—è—é—Ç –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä–æ–≤–∞—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ `this` –≤–Ω—É—Ç—Ä–∏ —Ñ—É–Ω–∫—Ü–∏–∏.
*   –ß–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –¥–ª—è –ø—Ä–∏–≤—è–∑–∫–∏ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –≤ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞—Ö —Å–æ–±—ã—Ç–∏–π –∏ –¥–ª—è –∑–∞–∏–º—Å—Ç–≤–æ–≤–∞–Ω–∏—è –º–µ—Ç–æ–¥–æ–≤.

### –ü—Ä–∞–∫—Ç–∏–∫–∞

–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø—Ä–∏–º–µ—Ä—ã –≤ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–º —Ä–µ–¥–∞–∫—Ç–æ—Ä–µ:

import { Sandpack } from "@codesandbox/sandpack-react";

<Sandpack
  template="vanilla"
  files={{
    "/index.js": `// –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è call, apply, bind

const person1 = {
  name: '–ò–≤–∞–Ω',
  age: 25,
  city: '–ú–æ—Å–∫–≤–∞'
};

const person2 = {
  name: '–ú–∞—Ä–∏—è',
  age: 30,
  city: '–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥'
};

// –§—É–Ω–∫—Ü–∏—è –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏—è
function greet(greeting, punctuation) {
  return \`\${greeting}, –º–µ–Ω—è –∑–æ–≤—É—Ç \${this.name}, –º–Ω–µ \${this.age} –ª–µ—Ç, —è –∏–∑ –≥–æ—Ä–æ–¥–∞ \${this.city}\${punctuation}\`;
}

// –î–µ–º–æ call
document.getElementById('callBtn').addEventListener('click', () => {
  const result = greet.call(person1, '–ü—Ä–∏–≤–µ—Ç', '!');
  document.getElementById('callResult').textContent = result;
});

// –î–µ–º–æ apply
document.getElementById('applyBtn').addEventListener('click', () => {
  const result = greet.apply(person2, ['–ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ', '.']);
  document.getElementById('applyResult').textContent = result;
});

// –î–µ–º–æ bind
const greetPerson1 = greet.bind(person1);

document.getElementById('bindBtn').addEventListener('click', () => {
  const result = greetPerson1('–î–æ–±—Ä—ã–π –¥–µ–Ω—å', '!');
  document.getElementById('bindResult').textContent = result;
});

// –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–π –ø—Ä–∏–º–µ—Ä: –∑–∞–∏–º—Å—Ç–≤–æ–≤–∞–Ω–∏–µ –º–µ—Ç–æ–¥–æ–≤
document.getElementById('borrowBtn').addEventListener('click', () => {
  const arrayLike = { 0: 'a', 1: 'b', 2: 'c', length: 3 };
  const realArray = Array.prototype.slice.call(arrayLike);
  document.getElementById('borrowResult').textContent = 
    \`Array-like –æ–±—ä–µ–∫—Ç –ø—Ä–µ–≤—Ä–∞—â–µ–Ω –≤ –º–∞—Å—Å–∏–≤: [\${realArray.join(', ')}]\`;
});`,
    "/index.html": `<!DOCTYPE html>
<html>
<head>
  <style>
    body {
      font-family: system-ui, -apple-system, sans-serif;
      padding: 20px;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      min-height: 100vh;
    }
    .container {
      max-width: 700px;
      margin: 0 auto;
      background: white;
      padding: 30px;
      border-radius: 12px;
      box-shadow: 0 10px 40px rgba(0,0,0,0.3);
    }
    h2 {
      color: #667eea;
      margin-top: 0;
    }
    .demo-section {
      margin: 20px 0;
      padding: 15px;
      background: #f8f9fa;
      border-radius: 8px;
      border-left: 4px solid #667eea;
    }
    .demo-section h3 {
      margin-top: 0;
      color: #667eea;
      font-size: 18px;
    }
    button {
      padding: 10px 20px;
      background: #667eea;
      color: white;
      border: none;
      border-radius: 6px;
      cursor: pointer;
      font-size: 14px;
      margin: 5px 0;
      transition: all 0.3s;
    }
    button:hover {
      background: #764ba2;
      transform: translateY(-2px);
    }
    .result {
      margin-top: 10px;
      padding: 12px;
      background: white;
      border-radius: 6px;
      min-height: 40px;
      border: 2px solid #e0e0e0;
      color: #333;
      font-weight: 500;
    }
    code {
      background: #ffe082;
      padding: 2px 6px;
      border-radius: 3px;
      font-size: 13px;
    }
  </style>
</head>
<body>
  <div class="container">
    <h2>üéØ call, apply, bind Demo</h2>
    
    <div class="demo-section">
      <h3>1Ô∏è‚É£ <code>.call()</code> - –ø–µ—Ä–µ–¥–∞—á–∞ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤ –æ—Ç–¥–µ–ª—å–Ω–æ</h3>
      <button id="callBtn">–í—ã–∑–≤–∞—Ç—å —Å –ø–æ–º–æ—â—å—é call()</button>
      <div class="result" id="callResult">–ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É...</div>
    </div>

    <div class="demo-section">
      <h3>2Ô∏è‚É£ <code>.apply()</code> - –ø–µ—Ä–µ–¥–∞—á–∞ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤ –º–∞—Å—Å–∏–≤–æ–º</h3>
      <button id="applyBtn">–í—ã–∑–≤–∞—Ç—å —Å –ø–æ–º–æ—â—å—é apply()</button>
      <div class="result" id="applyResult">–ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É...</div>
    </div>

    <div class="demo-section">
      <h3>3Ô∏è‚É£ <code>.bind()</code> - —Å–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–π —Ñ—É–Ω–∫—Ü–∏–∏ —Å –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º</h3>
      <button id="bindBtn">–í—ã–∑–≤–∞—Ç—å —Å–≤—è–∑–∞–Ω–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é</button>
      <div class="result" id="bindResult">–ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É...</div>
    </div>

    <div class="demo-section">
      <h3>4Ô∏è‚É£ –ó–∞–∏–º—Å—Ç–≤–æ–≤–∞–Ω–∏–µ –º–µ—Ç–æ–¥–æ–≤</h3>
      <button id="borrowBtn">–ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞—Ç—å array-like –≤ –º–∞—Å—Å–∏–≤</button>
      <div class="result" id="borrowResult">–ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É...</div>
    </div>
  </div>
  <script src="/index.js"></script>
</body>
</html>`
  }}
  options={{
    showNavigator: false,
    showLineNumbers: true,
    editorHeight: 450
  }}
/>
