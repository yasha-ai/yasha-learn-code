## JavaScript: Object.keys, values, entries, fromEntries - Ключи, Значения, Пары и Обратно


![Иллюстрация к уроку](/lessons/javascript-object-methods.png)
Объекты в JavaScript - это мощный инструмент для хранения данных. Но как нам получить доступ к ключам, значениям или парам ключ-значение? Для этого и существуют методы `Object.keys()`, `Object.values()`, `Object.entries()` и `Object.fromEntries()`. Давайте разберемся!

### Object.keys()

Этот метод возвращает массив, содержащий все ключи объекта.

```javascript
const user = {
  name: "Alice",
  age: 30,
  city: "New York"
};

const keys = Object.keys(user);
console.log(keys); // Output: ["name", "age", "city"]
```

В этом примере `Object.keys(user)` вернул массив ключей объекта `user`.

### Object.values()

Метод `Object.values()` возвращает массив, содержащий все значения объекта.

```javascript
const user = {
  name: "Alice",
  age: 30,
  city: "New York"
};

const values = Object.values(user);
console.log(values); // Output: ["Alice", 30, "New York"]
```

Здесь `Object.values(user)` вернул массив значений объекта `user`.

### Object.entries()

Метод `Object.entries()` возвращает массив массивов, где каждый внутренний массив содержит пару [ключ, значение] объекта.

```javascript
const user = {
  name: "Alice",
  age: 30,
  city: "New York"
};

const entries = Object.entries(user);
console.log(entries); // Output: [["name", "Alice"], ["age", 30], ["city", "New York"]]
```

`Object.entries(user)` вернул массив пар ключ-значение из объекта `user`.

### Object.fromEntries()

Этот метод преобразует массив пар [ключ, значение] обратно в объект. Это как обратная операция для `Object.entries()`.

```javascript
const entries = [["name", "Alice"], ["age", 30], ["city", "New York"]];

const user = Object.fromEntries(entries);
console.log(user); // Output: {name: "Alice", age: 30, city: "New York"}
```

В этом примере мы преобразовали массив `entries` обратно в объект `user`.

### Практические примеры кода

1.  **Перебор ключей объекта:**

    ```javascript
    const product = {
      name: "Laptop",
      price: 1200,
      inStock: true
    };

    for (const key of Object.keys(product)) {
      console.log(`Key: ${key}, Value: ${product[key]}`);
    }
    // Output:
    // Key: name, Value: Laptop
    // Key: price, Value: 1200
    // Key: inStock, Value: true
    ```

2.  **Преобразование объекта в строку запроса:**

    ```javascript
    const params = {
      name: "product",
      category: "electronics",
      price: 100
    };

    const queryString = Object.entries(params)
      .map(([key, value]) => `${key}=${value}`)
      .join("&");

    console.log(queryString); // Output: name=product&category=electronics&price=100
    ```

### Жизненный пример

Представьте, что вы разрабатываете веб-приложение, которое отображает данные о пользователях. Данные о каждом пользователе хранятся в виде объекта. Вам нужно отобразить эти данные в таблице.

Используя `Object.keys()` и `Object.values()`, вы можете легко получить ключи (заголовки столбцов) и значения (данные для каждой строки) для создания HTML-таблицы.  Многие фреймворки и библиотеки, такие как React или Vue, используют эти методы для динамического отображения данных, полученных из API. Например, при работе с формами часто данные из формы (которые хранятся в виде ключ-значение пар) нужно преобразовать в JSON объект для отправки на сервер. `Object.fromEntries()` может быть полезен в этом случае.

### Ключевые моменты

*   `Object.keys()` возвращает массив ключей объекта.
*   `Object.values()` возвращает массив значений объекта.
*   `Object.entries()` возвращает массив пар [ключ, значение] объекта.
*   `Object.fromEntries()` преобразует массив пар [ключ, значение] обратно в объект.
*   Эти методы полезны для итерации по объектам, преобразования данных и динамического отображения информации в веб-приложениях.



## Интерактивный пример

<Sandpack
  template="vanilla"
  files={{
    "/index.html": `<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Object Methods Demo</title>
  <link rel="stylesheet" href="/styles.css">
</head>
<body>
  <div class="container">
    <h1>JavaScript Object Methods</h1>

    <div id="user-data">
      <h2>User Data</h2>
      <p>Name: <span id="user-name"></span></p>
      <p>Age: <span id="user-age"></span></p>
      <p>City: <span id="user-city"></span></p>
    </div>

    <div id="keys-values">
      <h2>Keys and Values</h2>
      <button id="get-keys">Get Keys</button>
      <button id="get-values">Get Values</button>
      <button id="get-entries">Get Entries</button>
      <button id="from-entries">From Entries</button>
      <pre id="output"></pre>
    </div>

    <div id="input-area">
      <h2>Dynamic Object Creation</h2>
      <label for="name">Name:</label>
      <input type="text" id="name" name="name" value="John"><br><br>
      <label for="age">Age:</label>
      <input type="number" id="age" name="age" value="25"><br><br>
      <label for="city">City:</label>
      <input type="text" id="city" name="city" value="London"><br><br>
      <button id="create-object">Create Object</button>
    </div>
  </div>

  <script src="/index.js"><\/script>
</body>
</html>
`,
    "/styles.css": `body {
  font-family: sans-serif;
  background-color: #222;
  color: #eee;
  padding: 20px;
}

.container {
  max-width: 800px;
  margin: 0 auto;
}

button {
  background-color: #4CAF50; /* Green */
  border: none;
  color: white;
  padding: 10px 20px;
  text-align: center;
  text-decoration: none;
  display: inline-block;
  font-size: 16px;
  margin: 4px 2px;
  cursor: pointer;
  border-radius: 5px;
}

button:hover {
  opacity: 0.8;
}

pre {
  background-color: #333;
  padding: 10px;
  border-radius: 5px;
  overflow-x: auto;
}

input[type=text], input[type=number] {
  padding: 8px;
  margin: 5px 0;
  border: 1px solid #555;
  border-radius: 4px;
  background-color: #444;
  color: #eee;
}

label {
  display: inline-block;
  width: 50px;
  text-align: right;
  margin-right: 10px;
}
`,
    "/index.js": `// Исходный объект пользователя
let user = {
  name: "Alice",
  age: 30,
  city: "New York"
};

// Функция для обновления отображения данных пользователя
function updateUserDataDisplay() {
  document.getElementById("user-name").textContent = user.name;
  document.getElementById("user-age").textContent = user.age;
  document.getElementById("user-city").textContent = user.city;
}

// Вызываем функцию для начального отображения данных
updateUserDataDisplay();

// Получаем ссылки на элементы DOM
const getKeysButton = document.getElementById("get-keys");
const getValuesButton = document.getElementById("get-values");
const getEntriesButton = document.getElementById("get-entries");
const fromEntriesButton = document.getElementById("from-entries");
const createObjectButton = document.getElementById("create-object");
const outputElement = document.getElementById("output");

// Обработчик события для кнопки "Get Keys"
getKeysButton.addEventListener("click", () => {
  const keys = Object.keys(user);
  outputElement.textContent = JSON.stringify(keys, null, 2);
});

// Обработчик события для кнопки "Get Values"
getValuesButton.addEventListener("click", () => {
  const values = Object.values(user);
  outputElement.textContent = JSON.stringify(values, null, 2);
});

// Обработчик события для кнопки "Get Entries"
getEntriesButton.addEventListener("click", () => {
  const entries = Object.entries(user);
  outputElement.textContent = JSON.stringify(entries, null, 2);
});

// Обработчик события для кнопки "From Entries"
fromEntriesButton.addEventListener("click", () => {
  const entries = Object.entries(user);
  const newUser = Object.fromEntries(entries);
  outputElement.textContent = JSON.stringify(newUser, null, 2);
});

// Обработчик события для кнопки "Create Object"
createObjectButton.addEventListener("click", () => {
  const name = document.getElementById("name").value;
  const age = parseInt(document.getElementById("age").value);
  const city = document.getElementById("city").value;

  // Создаем новый объект пользователя на основе введенных данных
  user = {
    name: name,
    age: age,
    city: city
  };

  // Обновляем отображение данных пользователя
  updateUserDataDisplay();

  // Выводим созданный объект в консоль
  console.log("New User Object:", user);
});
`
  }}
  options={{
    showNavigator: false,
    showLineNumbers: true,
    editorHeight: 400
  }}
/>
