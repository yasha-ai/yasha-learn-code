import { Sandpack } from '@codesandbox/sandpack-react'

## JavaScript: –û–±—Ä–∞–±–æ—Ç–∫–∞ –û—à–∏–±–æ–∫

–í –º–∏—Ä–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ —Ä–µ–¥–∫–æ —á—Ç–æ-—Ç–æ –∏–¥–µ—Ç –∏–¥–µ–∞–ª—å–Ω–æ. –û—à–∏–±–∫–∏ ‚Äî —ç—Ç–æ –Ω–µ–æ—Ç—ä–µ–º–ª–µ–º–∞—è —á–∞—Å—Ç—å –ª—é–±–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è. –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω–∞ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –Ω–∞–¥–µ–∂–Ω–æ–≥–æ, —Å—Ç–∞–±–∏–ª—å–Ω–æ–≥–æ –∏ –ø—Ä–∏—è—Ç–Ω–æ–≥–æ –≤ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ –ø—Ä–æ–¥—É–∫—Ç–∞. –û–Ω–∞ –ø–æ–∑–≤–æ–ª—è–µ—Ç –≤–∞—à–µ–º—É –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—é "–≥—Ä–∞—Ü–∏–æ–∑–Ω–æ" —Ä–µ–∞–≥–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ –Ω–µ–ø—Ä–µ–¥–≤–∏–¥–µ–Ω–Ω—ã–µ —Å–∏—Ç—É–∞—Ü–∏–∏, –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞—è –∫—Ä–∞—Ö–∏ –∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –ø–æ–ª–µ–∑–Ω—É—é –æ–±—Ä–∞—Ç–Ω—É—é —Å–≤—è–∑—å.

–í JavaScript –º—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ `try...catch...finally` –∏ –º–µ—Ö–∞–Ω–∏–∑–º—ã —Ä–∞–±–æ—Ç—ã —Å –ø—Ä–æ–º–∏—Å–∞–º–∏ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –æ—à–∏–±–∫–∞–º–∏.

### –û—Å–Ω–æ–≤—ã –û–±—Ä–∞–±–æ—Ç–∫–∏ –û—à–∏–±–æ–∫: `try...catch`

–ë–ª–æ–∫ `try...catch` ‚Äî —ç—Ç–æ —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö –æ—à–∏–±–æ–∫.

```javascript
// –ü—Ä–∏–º–µ—Ä 1: –ë–∞–∑–æ–≤—ã–π try...catch
function divide(a, b) {
  try {
    if (b === 0) {
      throw new Error("–î–µ–ª–µ–Ω–∏–µ –Ω–∞ –Ω–æ–ª—å –Ω–µ–¥–æ–ø—É—Å—Ç–∏–º–æ!"); // –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º –æ—à–∏–±–∫—É
    }
    return a / b;
  } catch (error) {
    console.error("–ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞ –ø—Ä–∏ –¥–µ–ª–µ–Ω–∏–∏:", error.message);
    return null; // –í–æ–∑–≤—Ä–∞—â–∞–µ–º –±–µ–∑–æ–ø–∞—Å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –∏–ª–∏ –ø–µ—Ä–µ–±—Ä–∞—Å—ã–≤–∞–µ–º –æ—à–∏–±–∫—É
  }
}

console.log(divide(10, 2)); // 5
console.log(divide(10, 0)); // –ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞ –ø—Ä–∏ –¥–µ–ª–µ–Ω–∏–∏: –î–µ–ª–µ–Ω–∏–µ –Ω–∞ –Ω–æ–ª—å –Ω–µ–¥–æ–ø—É—Å—Ç–∏–º–æ! (–∏ null)
```

### –ö–∞—Å—Ç–æ–º–Ω—ã–µ –û—à–∏–±–∫–∏

–î–ª—è –±–æ–ª–µ–µ –¥–µ—Ç–∞–ª—å–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏ –º–æ–∂–Ω–æ —Å–æ–∑–¥–∞–≤–∞—Ç—å —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–µ —Ç–∏–ø—ã –æ—à–∏–±–æ–∫, –Ω–∞—Å–ª–µ–¥—É—è—Å—å –æ—Ç –≤—Å—Ç—Ä–æ–µ–Ω–Ω–æ–≥–æ `Error`.

```javascript
// –ü—Ä–∏–º–µ—Ä 2: –ö–∞—Å—Ç–æ–º–Ω–∞—è –æ—à–∏–±–∫–∞
class ValidationError extends Error {
  constructor(message, field) {
    super(message); // –í—ã–∑—ã–≤–∞–µ–º –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –±–∞–∑–æ–≤–æ–≥–æ Error
    this.name = "ValidationError"; // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∏–º—è –æ—à–∏–±–∫–∏
    this.field = field; // –î–æ–±–∞–≤–ª—è–µ–º —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
  }
}

function validateInput(username) {
  if (username.length < 3) {
    throw new ValidationError("–ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å–ª–∏—à–∫–æ–º –∫–æ—Ä–æ—Ç–∫–æ–µ", "username");
  }
  return true;
}

try {
  validateInput("ab");
} catch (error) {
  if (error instanceof ValidationError) {
    console.error(`–û—à–∏–±–∫–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –ø–æ–ª—è ${error.field}: ${error.message}`);
  } else {
    console.error("–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–∞—è –æ—à–∏–±–∫–∞:", error);
  }
}
// –û—à–∏–±–∫–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –ø–æ–ª—è username: –ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å–ª–∏—à–∫–æ–º –∫–æ—Ä–æ—Ç–∫–æ–µ
```

### –ë–ª–æ–∫ `finally`

–ë–ª–æ–∫ `finally` –≤—Å–µ–≥–¥–∞ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è, –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç —Ç–æ–≥–æ, –±—ã–ª–∞ –ª–∏ –æ—à–∏–±–∫–∞ –≤—ã–±—Ä–æ—à–µ–Ω–∞ –∏–ª–∏ –Ω–µ—Ç. –û–Ω –∏–¥–µ–∞–ª—å–Ω–æ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –æ—á–∏—Å—Ç–∫–∏ —Ä–µ—Å—É—Ä—Å–æ–≤.

```javascript
// –ü—Ä–∏–º–µ—Ä 3: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ finally
function processFile(filename) {
  let fileHandle;
  try {
    // –ò–º–∏—Ç–∞—Ü–∏—è –æ—Ç–∫—Ä—ã—Ç–∏—è —Ñ–∞–π–ª–∞
    if (!filename) throw new Error("–ò–º—è —Ñ–∞–π–ª–∞ –Ω–µ —É–∫–∞–∑–∞–Ω–æ!");
    fileHandle = `open(${filename})`;
    console.log(`${fileHandle} –æ—Ç–∫—Ä—ã—Ç.`);

    // –ò–º–∏—Ç–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç–∫–∏, –∫–æ—Ç–æ—Ä–∞—è –º–æ–∂–µ—Ç –≤—ã–∑–≤–∞—Ç—å –æ—à–∏–±–∫—É
    if (filename === "broken.txt") {
      throw new Error("–û—à–∏–±–∫–∞ —á—Ç–µ–Ω–∏—è —Ñ–∞–π–ª–∞!");
    }
    console.log("–§–∞–π–ª —É—Å–ø–µ—à–Ω–æ –æ–±—Ä–∞–±–æ—Ç–∞–Ω.");
    return true;
  } catch (error) {
    console.error("–û—à–∏–±–∫–∞ –ø—Ä–∏ –æ–±—Ä–∞–±–æ—Ç–∫–µ —Ñ–∞–π–ª–∞:", error.message);
    return false;
  } finally {
    if (fileHandle) {
      console.log(`${fileHandle} –∑–∞–∫—Ä—ã—Ç.`); // –í—Å–µ–≥–¥–∞ –∑–∞–∫—Ä—ã–≤–∞–µ–º —Ä–µ—Å—É—Ä—Å
    }
  }
}

processFile("data.txt");
// open(data.txt) –æ—Ç–∫—Ä—ã—Ç.
// –§–∞–π–ª —É—Å–ø–µ—à–Ω–æ –æ–±—Ä–∞–±–æ—Ç–∞–Ω.
// open(data.txt) –∑–∞–∫—Ä—ã—Ç.

processFile("broken.txt");
// open(broken.txt) –æ—Ç–∫—Ä—ã—Ç.
// –û—à–∏–±–∫–∞ –ø—Ä–∏ –æ–±—Ä–∞–±–æ—Ç–∫–µ —Ñ–∞–π–ª–∞: –û—à–∏–±–∫–∞ —á—Ç–µ–Ω–∏—è —Ñ–∞–π–ª–∞!
// open(broken.txt) –∑–∞–∫—Ä—ã—Ç.
```

### –û–±—Ä–∞–±–æ—Ç–∫–∞ –û—à–∏–±–æ–∫ –≤ –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–º –ö–æ–¥–µ (–ü—Ä–æ–º–∏—Å—ã)

–î–ª—è –ø—Ä–æ–º–∏—Å–æ–≤ –∏—Å–ø–æ–ª—å–∑—É–µ–º –º–µ—Ç–æ–¥ `.catch()` –∏–ª–∏ `try...catch` —Å `async/await`.

```javascript
// –ü—Ä–∏–º–µ—Ä 4: –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –≤ –ü—Ä–æ–º–∏—Å–∞—Ö (.catch())
function fetchData(url) {
  return new Promise((resolve, reject) => {
    if (!url.startsWith("http")) {
      return reject(new Error("–ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π URL!"));
    }
    setTimeout(() => {
      // –ò–º–∏—Ç–∞—Ü–∏—è —Å–µ—Ç–µ–≤–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞
      if (url === "http://bad-api.com") {
        return reject(new Error("–û—à–∏–±–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞ 500!"));
      }
      resolve(`–î–∞–Ω–Ω—ã–µ —Å ${url}`);
    }, 100);
  });
}

fetchData("http://good-api.com")
  .then(data => console.log(data))
  .catch(error => console.error("–û—à–∏–±–∫–∞ Promise:", error.message));
// –î–∞–Ω–Ω—ã–µ —Å http://good-api.com

fetchData("ftp://bad-url.com")
  .then(data => console.log(data))
  .catch(error => console.error("–û—à–∏–±–∫–∞ Promise:", error.message));
// –û—à–∏–±–∫–∞ Promise: –ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π URL!
```

### –û–±—Ä–∞–±–æ—Ç–∫–∞ –û—à–∏–±–æ–∫ —Å `async/await`

`async/await` –ø–æ–∑–≤–æ–ª—è–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø—Ä–∏–≤—ã—á–Ω—ã–π `try...catch` –¥–ª—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–≥–æ –∫–æ–¥–∞, –¥–µ–ª–∞—è –µ–≥–æ –±–æ–ª–µ–µ —á–∏—Ç–∞–µ–º—ã–º.

```javascript
// –ü—Ä–∏–º–µ—Ä 5: try...catch —Å async/await
async function getAndProcessData(url) {
  try {
    const data = await fetchData(url); // await –º–æ–∂–µ—Ç –≤—ã–∑–≤–∞—Ç—å –æ—à–∏–±–∫—É
    console.log("–ü–æ–ª—É—á–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ:", data);
    // –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö
  } catch (error) {
    console.error("–û—à–∏–±–∫–∞ –≤ async —Ñ—É–Ω–∫—Ü–∏–∏:", error.message);
    // –ó–¥–µ—Å—å –º–æ–∂–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –∏–ª–∏ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –ª–æ–≥
  }
}

getAndProcessData("http://valid-api.com");
// –ü–æ–ª—É—á–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ: –î–∞–Ω–Ω—ã–µ —Å http://valid-api.com

getAndProcessData("http://bad-api.com");
// –û—à–∏–±–∫–∞ –≤ async —Ñ—É–Ω–∫—Ü–∏–∏: –û—à–∏–±–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞ 500!
```

### –†–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –û—à–∏–±–æ–∫ (Re-throwing)

–ò–Ω–æ–≥–¥–∞ –Ω—É–∂–Ω–æ –ø–æ–π–º–∞—Ç—å –æ—à–∏–±–∫—É, —á—Ç–æ-—Ç–æ —Å –Ω–µ–π —Å–¥–µ–ª–∞—Ç—å (–Ω–∞–ø—Ä–∏–º–µ—Ä, –∑–∞–ª–æ–≥–∏—Ä–æ–≤–∞—Ç—å), –∞ –∑–∞—Ç–µ–º –ø–µ—Ä–µ–±—Ä–æ—Å–∏—Ç—å –µ–µ –¥–∞–ª—å—à–µ, —á—Ç–æ–±—ã –≤—ã—à–µ—Å—Ç–æ—è—â–∏–π –∫–æ–¥ —Ç–æ–∂–µ –º–æ–≥ –µ–µ –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å.

```javascript
// –ü—Ä–∏–º–µ—Ä 6: –ü–µ—Ä–µ–±—Ä–æ—Å –æ—à–∏–±–∫–∏
function processPayment(amount) {
  try {
    if (amount <= 0) {
      throw new Error("–°—É–º–º–∞ –ø–ª–∞—Ç–µ–∂–∞ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω–æ–π.");
    }
    console.log(`–ü–ª–∞—Ç–µ–∂ ${amount} —É—Å–ø–µ—à–Ω–æ –æ–±—Ä–∞–±–æ—Ç–∞–Ω.`);
    return true;
  } catch (error) {
    console.error("–õ–æ–≥: –ü—Ä–æ–±–ª–µ–º–∞ —Å –ø–ª–∞—Ç–µ–∂–æ–º:", error.message);
    throw error; // –ü–µ—Ä–µ–±—Ä–∞—Å—ã–≤–∞–µ–º –æ—à–∏–±–∫—É –¥–∞–ª—å—à–µ
  }
}

function handleTransaction(orderId, paymentAmount) {
  try {
    processPayment(paymentAmount);
    console.log(`–¢—Ä–∞–Ω–∑–∞–∫—Ü–∏—è ${orderId} –∑–∞–≤–µ—Ä—à–µ–Ω–∞.`);
  } catch (error) {
    console.error(`–û—à–∏–±–∫–∞ –ø—Ä–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ ${orderId}: ${error.message}`);
  }
}

handleTransaction("ORDER-001", 100);
// –ü–ª–∞—Ç–µ–∂ 100 —É—Å–ø–µ—à–Ω–æ –æ–±—Ä–∞–±–æ—Ç–∞–Ω.
// –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏—è ORDER-001 –∑–∞–≤–µ—Ä—à–µ–Ω–∞.

handleTransaction("ORDER-002", -50);
// –õ–æ–≥: –ü—Ä–æ–±–ª–µ–º–∞ —Å –ø–ª–∞—Ç–µ–∂–æ–º: –°—É–º–º–∞ –ø–ª–∞—Ç–µ–∂–∞ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω–æ–π.
// –û—à–∏–±–∫–∞ –ø—Ä–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ ORDER-002: –°—É–º–º–∞ –ø–ª–∞—Ç–µ–∂–∞ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω–æ–π.
```

### –ü—Ä–æ–¥–≤–∏–Ω—É—Ç–æ–µ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∏ –ì–ª–æ–±–∞–ª—å–Ω–∞—è –û–±—Ä–∞–±–æ—Ç–∫–∞

–î–ª—è –±–æ–ª–µ–µ —Å–ª–æ–∂–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π –ø–æ–ª–µ–∑–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –≥–ª–æ–±–∞–ª—å–Ω—ã–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏.

*   `window.onerror`: –ü–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç –Ω–µ–æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–µ –æ—à–∏–±–∫–∏ —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–≥–æ –∫–æ–¥–∞ –≤ –±—Ä–∞—É–∑–µ—Ä–µ.
*   `window.onunhandledrejection`: –ü–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç –Ω–µ–æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–µ –æ—à–∏–±–∫–∏ –ø—Ä–æ–º–∏—Å–æ–≤ –≤ –±—Ä–∞—É–∑–µ—Ä–µ.
*   `process.on('uncaughtException')` –∏ `process.on('unhandledRejection')`: –ê–Ω–∞–ª–æ–≥–∏—á–Ω—ã–µ –º–µ—Ö–∞–Ω–∏–∑–º—ã –≤ Node.js.

```javascript
// –ü—Ä–∏–º–µ—Ä 7: –ì–ª–æ–±–∞–ª—å–Ω—ã–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ (–±—Ä–∞—É–∑–µ—Ä)
window.onerror = function(message, source, lineno, colno, error) {
  console.error("–ì–ª–æ–±–∞–ª—å–Ω–∞—è –æ—à–∏–±–∫–∞ (—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è):", { message, source, lineno, colno, error });
  // –ó–¥–µ—Å—å –º–æ–∂–Ω–æ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –ª–æ–≥ –Ω–∞ —Å–µ—Ä–≤–µ—Ä
  return true; // –í–æ–∑–≤—Ä–∞—â–∞–µ–º true, —á—Ç–æ–±—ã –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—Ç–∏—Ç—å —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ –±—Ä–∞—É–∑–µ—Ä–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –≤—ã–≤–æ–¥ –≤ –∫–æ–Ω—Å–æ–ª—å)
};

window.onunhandledrejection = function(event) {
  console.error("–ì–ª–æ–±–∞–ª—å–Ω–∞—è –æ—à–∏–±–∫–∞ (Promise):", event.reason);
  // –ó–¥–µ—Å—å —Ç–∞–∫–∂–µ –º–æ–∂–Ω–æ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –ª–æ–≥ –Ω–∞ —Å–µ—Ä–≤–µ—Ä
};

// –ü—Ä–∏–º–µ—Ä –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏ (–≤—ã–∑–æ–≤–µ—Ç –≥–ª–æ–±–∞–ª—å–Ω—ã–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏)
// setTimeout(() => { throw new Error("–¢–µ—Å—Ç–æ–≤–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –æ—à–∏–±–∫–∞!"); }, 100);
// Promise.reject("–¢–µ—Å—Ç–æ–≤—ã–π –æ—Ç–∫–ª–æ–Ω—ë–Ω–Ω—ã–π Promise!");
```

### –¢–∏–ø–∏—á–Ω—ã–µ –û—à–∏–±–∫–∏ –∏ –ö–∞–∫ –ò—Ö –ò–∑–±–µ–∂–∞—Ç—å

1.  **"–ü—Ä–æ–≥–ª–∞—Ç—ã–≤–∞–Ω–∏–µ" –æ—à–∏–±–æ–∫**: –ü—É—Å—Ç–æ–π –±–ª–æ–∫ `catch` –∏–ª–∏ `catch` –±–µ–∑ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è ‚Äì —Ö—É–¥—à–∞—è –ø—Ä–∞–∫—Ç–∏–∫–∞. –í—ã —Ç–µ—Ä—è–µ—Ç–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø—Ä–æ–±–ª–µ–º–µ.
    ```javascript
    // –ü–ª–æ—Ö–æ:
    try {
      //...
    } catch (error) {
      // –ù–∏—á–µ–≥–æ –Ω–µ –¥–µ–ª–∞–µ–º, –æ—à–∏–±–∫–∞ –∏—Å—á–µ–∑–∞–µ—Ç
    }
    ```
2.  **–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö –æ—à–∏–±–æ–∫**: `try...catch` –Ω–µ –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –Ω–∞–ø—Ä—è–º—É—é —Å –ø—Ä–æ–º–∏—Å–∞–º–∏, –µ—Å–ª–∏ –≤—ã –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ `await`.
    ```javascript
    // –ù–µ —Å—Ä–∞–±–æ—Ç–∞–µ—Ç –¥–ª—è Promise, –µ—Å–ª–∏ –Ω–µ—Ç await:
    try {
      myPromiseFunction(); // –ü—Ä–æ–º–∏—Å –≤—ã–ø–æ–ª–Ω–∏—Ç—Å—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ
    } catch (error) {
      // –≠—Ç–∞ –æ—à–∏–±–∫–∞ –Ω–µ –±—É–¥–µ—Ç –ø–æ–π–º–∞–Ω–∞, —Ç.–∫. Promise –Ω–µ –±—ã–ª –∑–∞–≤–µ—Ä—à–µ–Ω –∫ –º–æ–º–µ–Ω—Ç—É –≤—ã—Ö–æ–¥–∞ –∏–∑ try
    }
    ```
3.  **–°–ª–∏—à–∫–æ–º –æ–±—â–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞**: –ü–æ–ø—ã—Ç–∫–∞ –ø–æ–π–º–∞—Ç—å –≤—Å–µ –≤–æ–∑–º–æ–∂–Ω—ã–µ –æ—à–∏–±–∫–∏ –æ–¥–Ω–∏–º `try...catch` –º–æ–∂–µ—Ç —Å–∫—Ä—ã—Ç—å —Ä–µ–∞–ª—å–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–∞—Å—Ç–æ–º–Ω—ã–µ –æ—à–∏–±–∫–∏ –∏–ª–∏ —É—Å–ª–æ–≤–Ω—É—é –ª–æ–≥–∏–∫—É –≤ `catch`.

### –ü—Ä–∞–∫—Ç–∏–∫–∞ –∏ –°–æ–≤–µ—Ç—ã

*   **–õ–æ–≥–∏—Ä—É–π—Ç–µ –æ—à–∏–±–∫–∏**: –í—Å–µ–≥–¥–∞ –≤—ã–≤–æ–¥–∏—Ç–µ –æ—à–∏–±–∫–∏ –≤ –∫–æ–Ω—Å–æ–ª—å –∏–ª–∏, –ª—É—á—à–µ, –æ—Ç–ø—Ä–∞–≤–ª—è–π—Ç–µ –∏—Ö –≤ —Å–∏—Å—Ç–µ–º—É –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, Sentry, Bugsnag).
*   **–°–æ–æ–±—â–∞–π—Ç–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é**: –ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–π—Ç–µ –ø–æ–Ω—è—Ç–Ω—ã–µ, –¥—Ä—É–∂–µ–ª—é–±–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö, –≤–º–µ—Å—Ç–æ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏—Ö —Å—Ç–µ–∫—Ç—Ä–µ–π—Å–æ–≤.
*   **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `try...catch` —Ü–µ–ª–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ**: –ù–µ –æ–±–æ—Ä–∞—á–∏–≤–∞–π—Ç–µ –∫–∞–∂–¥—ã–π —á–∏—Ö –≤ `try...catch`. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –µ–≥–æ —Ç–∞–º, –≥–¥–µ –æ–∂–∏–¥–∞–µ—Ç–µ –≤–æ–∑–º–æ–∂–Ω—ã–µ —Å–±–æ–∏ –∏–ª–∏ –≥–¥–µ –Ω—É–∂–Ω–æ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å—Å—è –ø–æ—Å–ª–µ –æ—à–∏–±–∫–∏.
*   **–¢–µ—Å—Ç–∏—Ä—É–π—Ç–µ –æ–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫**: –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤–∞—à–∏ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ —Ä–∞–±–æ—Ç–∞—é—Ç, –∫–æ–≥–¥–∞ –ø—Ä–æ–∏—Å—Ö–æ–¥—è—Ç –æ—à–∏–±–∫–∏.
*   **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `finally` –¥–ª—è –æ—á–∏—Å—Ç–∫–∏**: –ï—Å–ª–∏ —É –≤–∞—Å –µ—Å—Ç—å —Ä–µ—Å—É—Ä—Å—ã (—Ñ–∞–π–ª—ã, —Å–µ—Ç–µ–≤—ã–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è, —Ç–∞–π–º–µ—Ä—ã), –∫–æ—Ç–æ—Ä—ã–µ –Ω—É–∂–Ω–æ –∑–∞–∫—Ä—ã—Ç—å, `finally` ‚Äì –ª—É—á—à–µ–µ –º–µ—Å—Ç–æ –¥–ª—è —ç—Ç–æ–≥–æ.

–ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ ‚Äî —ç—Ç–æ –ø—Ä–∏–∑–Ω–∞–∫ –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–æ–≥–æ –∏ –Ω–∞–¥–µ–∂–Ω–æ–≥–æ –∫–æ–¥–∞. –û—Å–≤–æ–∏–≤ —ç—Ç–∏ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏, –≤—ã —Å–º–æ–∂–µ—Ç–µ —Å–æ–∑–¥–∞–≤–∞—Ç—å –±–æ–ª–µ–µ —É—Å—Ç–æ–π—á–∏–≤—ã–µ –∏ —É–¥–æ–±–Ω—ã–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.
### –ü—Ä–∞–∫—Ç–∏–∫–∞

–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø—Ä–∏–º–µ—Ä—ã –≤ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–º —Ä–µ–¥–∞–∫—Ç–æ—Ä–µ:

<Sandpack
  template="vanilla"
  files={{
    '/index.js': `const app = document.querySelector('#app');

app.innerHTML = \`
  <h2>‚ö†Ô∏è –û–±—Ä–∞–±–æ—Ç–∫–∞ –û—à–∏–±–æ–∫</h2>
  <div style="display: grid; gap: 10px; margin: 20px 0;">
    <button class="demo-btn" data-demo="basicTryCatch">
      1Ô∏è‚É£ –ë–∞–∑–æ–≤—ã–π try...catch
    </button>
    <button class="demo-btn" data-demo="customError">
      2Ô∏è‚É£ –ö–∞—Å—Ç–æ–º–Ω–∞—è –æ—à–∏–±–∫–∞
    </button>
    <button class="demo-btn" data-demo="finally">
      3Ô∏è‚É£ –ë–ª–æ–∫ finally
    </button>
    <button class="demo-btn" data-demo="promiseError">
      4Ô∏è‚É£ –û—à–∏–±–∫–∏ –≤ Promise
    </button>
    <button class="demo-btn" data-demo="asyncError">
      5Ô∏è‚É£ Async/await –æ—à–∏–±–∫–∏
    </button>
  </div>
  <div id="output" style="background: #f5f5f5; padding: 20px; border-radius: 8px; font-family: monospace; font-size: 13px; min-height: 200px; overflow-y: auto;"></div>
\`;

const output = document.querySelector('#output');

function log(message, type = 'info') {
  const colors = {
    info: '#333',
    success: '#4CAF50',
    error: '#f44336',
    warning: '#FF9800'
  };
  output.innerHTML += \`<div style="color: \${colors[type]}; margin: 3px 0; line-height: 1.5;">\${message}</div>\`;
  console.log(message);
}

function clearOutput() {
  output.innerHTML = '';
}

// –î–µ–º–æ —Ñ—É–Ω–∫—Ü–∏–∏
const demos = {
  basicTryCatch: () => {
    clearOutput();
    log('=== 1Ô∏è‚É£ –ë–∞–∑–æ–≤—ã–π try...catch ===', 'info');
    
    function divide(a, b) {
      try {
        if (b === 0) {
          throw new Error("–î–µ–ª–µ–Ω–∏–µ –Ω–∞ –Ω–æ–ª—å –Ω–µ–¥–æ–ø—É—Å—Ç–∏–º–æ!");
        }
        return a / b;
      } catch (error) {
        log(\`‚ùå –û—à–∏–±–∫–∞: \${error.message}\`, 'error');
        return null;
      }
    }
    
    log('divide(10, 2) = ' + divide(10, 2), 'success');
    log('divide(10, 0):', 'warning');
    divide(10, 0);
  },
  
  customError: () => {
    clearOutput();
    log('=== 2Ô∏è‚É£ –ö–∞—Å—Ç–æ–º–Ω–∞—è –æ—à–∏–±–∫–∞ ===', 'info');
    
    class ValidationError extends Error {
      constructor(message, field) {
        super(message);
        this.name = "ValidationError";
        this.field = field;
      }
    }
    
    function validateInput(username) {
      if (username.length < 3) {
        throw new ValidationError("–ò–º—è —Å–ª–∏—à–∫–æ–º –∫–æ—Ä–æ—Ç–∫–æ–µ (–º–∏–Ω. 3 —Å–∏–º–≤–æ–ª–∞)", "username");
      }
      return true;
    }
    
    log('validateInput("Alexander"):', 'info');
    try {
      validateInput("Alexander");
      log('‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è –ø—Ä–æ–π–¥–µ–Ω–∞!', 'success');
    } catch (error) {
      log(\`‚ùå \${error.name}: \${error.message}\`, 'error');
    }
    
    log('', 'info');
    log('validateInput("ab"):', 'info');
    try {
      validateInput("ab");
    } catch (error) {
      if (error instanceof ValidationError) {
        log(\`‚ùå \${error.name} –¥–ª—è –ø–æ–ª—è "\${error.field}": \${error.message}\`, 'error');
      }
    }
  },
  
  finally: () => {
    clearOutput();
    log('=== 3Ô∏è‚É£ –ë–ª–æ–∫ finally ===', 'info');
    
    function processFile(filename) {
      let fileHandle;
      try {
        if (!filename) throw new Error("–ò–º—è —Ñ–∞–π–ª–∞ –Ω–µ —É–∫–∞–∑–∞–Ω–æ!");
        fileHandle = \`[File: \${filename}]\`;
        log(\`üìÇ \${fileHandle} –æ—Ç–∫—Ä—ã—Ç\`, 'info');
        
        if (filename === "broken.txt") {
          throw new Error("–û—à–∏–±–∫–∞ —á—Ç–µ–Ω–∏—è —Ñ–∞–π–ª–∞!");
        }
        log(\`‚úÖ –§–∞–π–ª —É—Å–ø–µ—à–Ω–æ –æ–±—Ä–∞–±–æ—Ç–∞–Ω\`, 'success');
        return true;
      } catch (error) {
        log(\`‚ùå –û—à–∏–±–∫–∞: \${error.message}\`, 'error');
        return false;
      } finally {
        if (fileHandle) {
          log(\`üîí \${fileHandle} –∑–∞–∫—Ä—ã—Ç (finally –≤—Å–µ–≥–¥–∞ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è!)\`, 'warning');
        }
      }
    }
    
    log('processFile("data.txt"):', 'info');
    processFile("data.txt");
    log('', 'info');
    log('processFile("broken.txt"):', 'info');
    processFile("broken.txt");
  },
  
  promiseError: () => {
    clearOutput();
    log('=== 4Ô∏è‚É£ –û—à–∏–±–∫–∏ –≤ Promise ===', 'info');
    log('‚è≥ –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö...', 'info');
    
    function fetchData(url) {
      return new Promise((resolve, reject) => {
        setTimeout(() => {
          if (!url.startsWith("http")) {
            return reject(new Error("–ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π URL!"));
          }
          if (url === "http://bad-api.com") {
            return reject(new Error("–û—à–∏–±–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞ 500!"));
          }
          resolve(\`–î–∞–Ω–Ω—ã–µ —Å \${url}\`);
        }, 500);
      });
    }
    
    fetchData("http://good-api.com")
      .then(data => log(\`‚úÖ \${data}\`, 'success'))
      .catch(error => log(\`‚ùå Promise error: \${error.message}\`, 'error'));
    
    setTimeout(() => {
      fetchData("ftp://bad-url.com")
        .then(data => log(\`‚úÖ \${data}\`, 'success'))
        .catch(error => log(\`‚ùå Promise error: \${error.message}\`, 'error'));
    }, 600);
  },
  
  asyncError: async () => {
    clearOutput();
    log('=== 5Ô∏è‚É£ Async/await –æ—à–∏–±–∫–∏ ===', 'info');
    
    function fetchData(url) {
      return new Promise((resolve, reject) => {
        setTimeout(() => {
          if (url === "http://error-api.com") {
            return reject(new Error("–°–µ—Ä–≤–µ—Ä –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω"));
          }
          resolve(\`–î–∞–Ω–Ω—ã–µ —Å \${url}\`);
        }, 500);
      });
    }
    
    async function getData(url) {
      try {
        log(\`‚è≥ –ó–∞–ø—Ä–æ—Å –∫ \${url}...\`, 'info');
        const data = await fetchData(url);
        log(\`‚úÖ \${data}\`, 'success');
      } catch (error) {
        log(\`‚ùå Async error: \${error.message}\`, 'error');
      }
    }
    
    await getData("http://valid-api.com");
    await getData("http://error-api.com");
  }
};

// –°—Ç–∏–ª–∏–∑–∞—Ü–∏—è –∫–Ω–æ–ø–æ–∫
document.querySelectorAll('.demo-btn').forEach(btn => {
  btn.style.cssText = \`
    padding: 10px 15px;
    background: #2196F3;
    color: white;
    border: none;
    border-radius: 4px;
    cursor: pointer;
    font-size: 14px;
    text-align: left;
    transition: all 0.2s;
  \`;
  
  btn.addEventListener('mouseover', () => {
    btn.style.background = '#1976D2';
    btn.style.transform = 'translateX(3px)';
  });
  
  btn.addEventListener('mouseout', () => {
    btn.style.background = '#2196F3';
    btn.style.transform = 'translateX(0)';
  });
  
  btn.addEventListener('click', () => {
    const demo = btn.getAttribute('data-demo');
    demos[demo]();
  });
});

log('üëÜ –í—ã–±–µ—Ä–∏—Ç–µ –ø—Ä–∏–º–µ—Ä –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫', 'info');`
  }}
/>
