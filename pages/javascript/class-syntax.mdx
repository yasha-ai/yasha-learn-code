## JavaScript: Мозги. Урок 4: Синтаксис классов ES6


![Иллюстрация к уроку](/lessons/javascript-class-syntax.png)
В этом уроке мы разберем синтаксис классов ES6, который значительно упрощает создание объектов в JavaScript. Классы позволяют писать более структурированный и понятный код, особенно при работе со сложными приложениями.

### Что такое классы в JavaScript?

В JavaScript до ES6 (ECMAScript 2015), "классы" реализовывались через функции-конструкторы и прототипы. ES6 ввел синтаксис `class`, который предоставляет более декларативный и знакомый для многих программистов способ определения объектов. Важно понимать, что под капотом `class` в JavaScript – это все те же прототипы, но с более удобным синтаксисом.

### Синтаксис класса

Основной синтаксис класса выглядит так:

```javascript
class MyClass {
  constructor(property1, property2) {
    this.property1 = property1;
    this.property2 = property2;
  }

  method1() {
    // Действия, выполняемые методом
    console.log("Method 1 called!");
  }

  method2(parameter) {
    // Действия, выполняемые методом с параметром
    console.log("Method 2 called with parameter: " + parameter);
  }
}

// Создание экземпляра класса
const myObject = new MyClass("Value 1", "Value 2");

// Вызов методов
myObject.method1(); // Выведет "Method 1 called!"
myObject.method2("Hello"); // Выведет "Method 2 called with parameter: Hello"

// Доступ к свойствам
console.log(myObject.property1); // Выведет "Value 1"
```

Разберем элементы синтаксиса:

*   `class MyClass { ... }` -  Определение класса с именем `MyClass`.
*   `constructor(property1, property2) { ... }` - Конструктор класса. Вызывается при создании нового экземпляра класса с помощью `new`. Внутри конструктора обычно происходит инициализация свойств объекта.
*   `this` -  Ключевое слово, которое ссылается на текущий экземпляр класса.
*   `method1() { ... }` и `method2(parameter) { ... }` - Методы класса. Это функции, которые привязаны к экземпляру класса.

### Практические примеры

**Пример 1: Класс "Книга"**

```javascript
class Book {
  constructor(title, author, pages) {
    this.title = title;
    this.author = author;
    this.pages = pages;
  }

  getDescription() {
    return `${this.title} by ${this.author} has ${this.pages} pages.`;
  }
}

const book1 = new Book("The Lord of the Rings", "J.R.R. Tolkien", 1178);
console.log(book1.getDescription()); // Выведет "The Lord of the Rings by J.R.R. Tolkien has 1178 pages."
```

**Пример 2: Класс "Автомобиль"**

```javascript
class Car {
  constructor(make, model, year) {
    this.make = make;
    this.model = model;
    this.year = year;
    this.speed = 0; // Начальная скорость
  }

  accelerate(increment) {
    this.speed += increment;
    console.log(`Speed increased to ${this.speed}`);
  }

  brake(decrement) {
    this.speed -= decrement;
    if (this.speed < 0) {
      this.speed = 0;
    }
    console.log(`Speed decreased to ${this.speed}`);
  }
}

const myCar = new Car("Toyota", "Camry", 2023);
myCar.accelerate(30); // Выведет "Speed increased to 30"
myCar.brake(10);    // Выведет "Speed decreased to 20"
```

### Жизненный пример

Классы широко используются во фреймворках и библиотеках JavaScript, таких как React, Angular и Vue.js. Например, компоненты в React часто определяются с использованием классов:

```javascript
// React Example
class MyComponent extends React.Component {
  constructor(props) {
    super(props);
    this.state = { count: 0 };
  }

  handleClick() {
    this.setState({ count: this.state.count + 1 });
  }

  render() {
    return (
      <div>
        <p>Count: {this.state.count}</p>
        <button onClick={() => this.handleClick()}>Increment</button>
      </div>
    );
  }
}
```

В этом примере `MyComponent` является классом, который наследуется от `React.Component`. Он имеет конструктор, методы (например, `handleClick` и `render`), и свойства (например, `this.state`).

### Ключевые моменты

*   Классы в JavaScript – это синтаксический сахар над прототипным наследованием.
*   Конструктор (`constructor`) используется для инициализации свойств объекта.
*   Методы класса определяются внутри блока класса.
*   `this` ссылается на текущий экземпляр класса.
*   Классы упрощают организацию и структуру кода, особенно в больших проектах.



## Интерактивный пример

<Sandpack
  template="vanilla"
  files={{
    "/index.html": `<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ES6 Classes Example</title>
  <link rel="stylesheet" href="/styles.css">
</head>
<body>
  <div id="app">
    <h1>Автомобиль</h1>
    <p>Марка: <span id="carMake"></span></p>
    <p>Модель: <span id="carModel"></span></p>
    <p>Год: <span id="carYear"></span></p>
    <p>Текущая скорость: <span id="carSpeed">0</span> км/ч</p>

    <button id="accelerateBtn">Ускориться</button>
    <button id="brakeBtn">Тормозить</button>

    <label for="speedIncrement">Величина изменения скорости:</label>
    <input type="number" id="speedIncrement" value="10">
  </div>

  <script src="/index.js"><\/script>
</body>
</html>`,
    "/styles.css": `body {
  font-family: sans-serif;
  background-color: #222;
  color: #eee;
  padding: 20px;
}

#app {
  max-width: 600px;
  margin: 0 auto;
  background-color: #333;
  padding: 20px;
  border-radius: 8px;
}

button {
  padding: 10px 15px;
  margin: 5px;
  background-color: #4CAF50;
  color: white;
  border: none;
  border-radius: 4px;
  cursor: pointer;
}

button:hover {
  background-color: #3e8e41;
}

input[type="number"] {
  padding: 8px;
  border-radius: 4px;
  border: 1px solid #555;
  background-color: #444;
  color: #eee;
}
`,
    "/index.js": `// Класс "Автомобиль"
class Car {
  constructor(make, model, year) {
    this.make = make;
    this.model = model;
    this.year = year;
    this.speed = 0; // Начальная скорость
  }

  accelerate(increment) {
    this.speed += increment;
    this.updateSpeedDisplay();
  }

  brake(decrement) {
    this.speed -= decrement;
    if (this.speed < 0) {
      this.speed = 0;
    }
    this.updateSpeedDisplay();
  }

  updateSpeedDisplay() {
    document.getElementById("carSpeed").textContent = this.speed;
  }
}

// Создаем экземпляр класса
const myCar = new Car("Toyota", "Camry", 2023);

// Отображаем информацию об автомобиле
document.getElementById("carMake").textContent = myCar.make;
document.getElementById("carModel").textContent = myCar.model;
document.getElementById("carYear").textContent = myCar.year;

// Получаем элементы управления
const accelerateBtn = document.getElementById("accelerateBtn");
const brakeBtn = document.getElementById("brakeBtn");
const speedIncrementInput = document.getElementById("speedIncrement");

// Обработчики событий для кнопок
accelerateBtn.addEventListener("click", () => {
  const increment = parseInt(speedIncrementInput.value);
  myCar.accelerate(increment);
});

brakeBtn.addEventListener("click", () => {
  const decrement = parseInt(speedIncrementInput.value);
  myCar.brake(decrement);
});
`
  }}
  options={{
    showNavigator: false,
    showLineNumbers: true,
    editorHeight: 400
  }}
/>
