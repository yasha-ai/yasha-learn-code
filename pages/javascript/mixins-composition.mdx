import { Sandpack } from '@codesandbox/sandpack-react'
## JavaScript: –ú–æ–∑–≥–∏. –£—Ä–æ–∫: –ú–∏–∫—Å–∏–Ω—ã –∏ –∫–æ–º–ø–æ–∑–∏—Ü–∏—è

–ú–∏–∫—Å–∏–Ω—ã –∏ –∫–æ–º–ø–æ–∑–∏—Ü–∏—è ‚Äì –º–æ—â–Ω—ã–µ —Ç–µ—Ö–Ω–∏–∫–∏, –ø–æ–∑–≤–æ–ª—è—é—â–∏–µ –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–æ–¥ –∏ —Å–æ–∑–¥–∞–≤–∞—Ç—å —Å–ª–æ–∂–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã –∏–∑ –±–æ–ª–µ–µ –ø—Ä–æ—Å—Ç—ã—Ö —á–∞—Å—Ç–µ–π. –û–Ω–∏ –ø–æ–º–æ–≥–∞—é—Ç –∏–∑–±–µ–∂–∞—Ç—å –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –¥–µ–ª–∞—é—Ç –∫–æ–¥ –±–æ–ª–µ–µ –º–æ–¥—É–ª—å–Ω—ã–º –∏ –ø–æ–Ω—è—Ç–Ω—ã–º.

### –ß—Ç–æ —Ç–∞–∫–æ–µ –º–∏–∫—Å–∏–Ω—ã?

–ú–∏–∫—Å–∏–Ω ‚Äì —ç—Ç–æ –æ–±—ä–µ–∫—Ç, —Å–æ–¥–µ—Ä–∂–∞—â–∏–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å (–º–µ—Ç–æ–¥—ã –∏ —Å–≤–æ–π—Å—Ç–≤–∞), –∫–æ—Ç–æ—Ä—É—é –º–æ–∂–Ω–æ "–ø–æ–¥–º–µ—à–∞—Ç—å" –≤ –¥—Ä—É–≥–∏–µ –æ–±—ä–µ–∫—Ç—ã.  –ü—Ä–µ–¥—Å—Ç–∞–≤—å—Ç–µ —ç—Ç–æ –∫–∞–∫ —Ä–µ—Ü–µ–ø—Ç, –∫–æ—Ç–æ—Ä—ã–π –≤—ã –º–æ–∂–µ—Ç–µ –¥–æ–±–∞–≤–∏—Ç—å –∫ —Ä–∞–∑–Ω—ã–º –±–ª—é–¥–∞–º, —á—Ç–æ–±—ã —É–ª—É—á—à–∏—Ç—å –∏—Ö –≤–∫—É—Å.

```javascript
// –ü—Ä–∏–º–µ—Ä –º–∏–∫—Å–∏–Ω–∞
const CanFly = {
  fly() {
    console.log(`${this.name} is flying!`);
  }
};

const CanSwim = {
  swim() {
    console.log(`${this.name} is swimming!`);
  }
};

// –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –º–∏–∫—Å–∏–Ω–∞ –∫ –æ–±—ä–µ–∫—Ç—É
function applyMixin(target, mixin) {
  for (let key in mixin) {
    if (mixin.hasOwnProperty(key)) {
      target[key] = mixin[key];
    }
  }
}

// –°–æ–∑–¥–∞–µ–º –æ–±—ä–µ–∫—Ç Bird
const bird = {
  name: "Eagle"
};

// –ü—Ä–∏–º–µ–Ω—è–µ–º –º–∏–∫—Å–∏–Ω CanFly –∫ bird
applyMixin(bird, CanFly);

// –¢–µ–ø–µ—Ä—å bird –º–æ–∂–µ—Ç –ª–µ—Ç–∞—Ç—å!
bird.fly(); // –í—ã–≤–æ–¥: Eagle is flying!

// –°–æ–∑–¥–∞–µ–º –æ–±—ä–µ–∫—Ç Fish
const fish = {
  name: "Salmon"
};

// –ü—Ä–∏–º–µ–Ω—è–µ–º –º–∏–∫—Å–∏–Ω CanSwim –∫ fish
applyMixin(fish, CanSwim);

// –¢–µ–ø–µ—Ä—å fish –º–æ–∂–µ—Ç –ø–ª–∞–≤–∞—Ç—å!
fish.swim(); // –í—ã–≤–æ–¥: Salmon is swimming!
```

### –ö–æ–º–ø–æ–∑–∏—Ü–∏—è: —Å–æ–±–∏—Ä–∞–µ–º –æ–±—ä–µ–∫—Ç—ã –∏–∑ —á–∞—Å—Ç–µ–π

–ö–æ–º–ø–æ–∑–∏—Ü–∏—è ‚Äì —ç—Ç–æ —Å–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞ –ø—É—Ç–µ–º –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –¥—Ä—É–≥–∏—Ö –æ–±—ä–µ–∫—Ç–æ–≤. –í –æ—Ç–ª–∏—á–∏–µ –æ—Ç –º–∏–∫—Å–∏–Ω–æ–≤, –≥–¥–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å "–ø–æ–¥–º–µ—à–∏–≤–∞–µ—Ç—Å—è" –≤ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –æ–±—ä–µ–∫—Ç, –∫–æ–º–ø–æ–∑–∏—Ü–∏—è –ø—Ä–µ–¥–ø–æ–ª–∞–≥–∞–µ—Ç —Å–æ–∑–¥–∞–Ω–∏–µ *–Ω–æ–≤–æ–≥–æ* –æ–±—ä–µ–∫—Ç–∞.

```javascript
// –§—É–Ω–∫—Ü–∏–∏-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (–∫–∞–∫ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å—ã)
const withFlying = (state) => ({
  fly: () => console.log(`${state.name} is flying!`)
});

const withSwimming = (state) => ({
  swim: () => console.log(`${state.name} is swimming!`)
});

// –°–æ–∑–¥–∞–µ–º –æ–±—ä–µ–∫—Ç Duck, –∏—Å–ø–æ–ª—å–∑—É—è –∫–æ–º–ø–æ–∑–∏—Ü–∏—é
const createDuck = (name) => {
  const state = {
    name: name
  };

  return Object.assign({}, state, withFlying(state), withSwimming(state));
};

const duck = createDuck("Donald");
duck.fly();   // –í—ã–≤–æ–¥: Donald is flying!
duck.swim();  // –í—ã–≤–æ–¥: Donald is swimming!
```

### –ñ–∏–∑–Ω–µ–Ω–Ω—ã–π –ø—Ä–∏–º–µ—Ä

–í React, Higher-Order Components (HOC) —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É—é—Ç –ø—Ä–∏–Ω—Ü–∏–ø—ã –∫–æ–º–ø–æ–∑–∏—Ü–∏–∏.  HOC –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –Ω–æ–≤—ã–π, —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç.  –ù–∞–ø—Ä–∏–º–µ—Ä, HOC –º–æ–∂–µ—Ç –¥–æ–±–∞–≤–∏—Ç—å –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é –∏–ª–∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∫ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–º—É –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—É.

```javascript
// –ü—Ä–∏–º–µ—Ä HOC –≤ React (—É–ø—Ä–æ—â–µ–Ω–Ω—ã–π)
const withAuthentication = (WrappedComponent) => {
  return class extends React.Component {
    constructor(props) {
      super(props);
      this.state = {
        isAuthenticated: false
      };
    }

    componentDidMount() {
      // –ü—Ä–æ–≤–µ—Ä—è–µ–º –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é
      this.setState({ isAuthenticated: true }); // –ü—Ä–æ—Å—Ç–æ –ø—Ä–∏–º–µ—Ä
    }

    render() {
      if (this.state.isAuthenticated) {
        return <WrappedComponent {...this.props} />;
      } else {
        return <div>Please log in.</div>;
      }
    }
  };
};

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ HOC
const MyComponent = () => <div>Hello, World!</div>;
const AuthenticatedComponent = withAuthentication(MyComponent);

// –¢–µ–ø–µ—Ä—å AuthenticatedComponent —Ç—Ä–µ–±—É–µ—Ç –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
<AuthenticatedComponent />;
```

### –ö–ª—é—á–µ–≤—ã–µ –º–æ–º–µ–Ω—Ç—ã

*   **–ú–∏–∫—Å–∏–Ω—ã:**  –î–æ–±–∞–≤–ª—è—é—Ç —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –∫ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º –æ–±—ä–µ–∫—Ç–∞–º.
*   **–ö–æ–º–ø–æ–∑–∏—Ü–∏—è:** –°–æ–∑–¥–∞–µ—Ç –Ω–æ–≤—ã–µ –æ–±—ä–µ–∫—Ç—ã –ø—É—Ç–µ–º –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏.
*   **–ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞:** –û–±–µ —Ç–µ—Ö–Ω–∏–∫–∏ –ø–æ–º–æ–≥–∞—é—Ç –∏–∑–±–µ–∂–∞—Ç—å –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è –∫–æ–¥–∞.
*   **–ú–æ–¥—É–ª—å–Ω–æ—Å—Ç—å:**  –û–±–ª–µ–≥—á–∞—é—Ç –ø–æ–Ω–∏–º–∞–Ω–∏–µ –∏ –ø–æ–¥–¥–µ—Ä–∂–∫—É –∫–æ–¥–∞.
*   **–ì–∏–±–∫–æ—Å—Ç—å:** –ü–æ–∑–≤–æ–ª—è—é—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å —Å–ª–æ–∂–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã –∏–∑ –ø—Ä–æ—Å—Ç—ã—Ö —á–∞—Å—Ç–µ–π.

### –ü—Ä–∞–∫—Ç–∏–∫–∞

–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø—Ä–∏–º–µ—Ä—ã –≤ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–º —Ä–µ–¥–∞–∫—Ç–æ—Ä–µ:

<Sandpack template="vanilla">

```js index.js
// –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è Mixins –∏ Composition

document.body.style.fontFamily = 'Arial, sans-serif';
document.body.style.padding = '20px';
document.body.style.lineHeight = '1.6';

const output = document.createElement('div');
document.body.appendChild(output);

function log(message) {
  const p = document.createElement('p');
  p.textContent = message;
  p.style.margin = '5px 0';
  output.appendChild(p);
  console.log(message);
}

// === MIXINS ===
const h2_1 = document.createElement('h2');
h2_1.textContent = '1. –ú–∏–∫—Å–∏–Ω—ã (Mixins)';
document.body.appendChild(h2_1);

// –ú–∏–∫—Å–∏–Ω—ã —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—è–º–∏
const CanFly = {
  fly() {
    return `${this.name} –ª–µ—Ç–∏—Ç ‚úàÔ∏è`;
  }
};

const CanSwim = {
  swim() {
    return `${this.name} –ø–ª—ã–≤–µ—Ç üèä`;
  }
};

const CanWalk = {
  walk() {
    return `${this.name} –∏–¥–µ—Ç üö∂`;
  }
};

// –§—É–Ω–∫—Ü–∏—è –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –º–∏–∫—Å–∏–Ω–∞
function applyMixin(target, ...mixins) {
  mixins.forEach(mixin => {
    Object.assign(target, mixin);
  });
  return target;
}

// –°–æ–∑–¥–∞–µ–º –∂–∏–≤–æ—Ç–Ω—ã—Ö —Å —Ä–∞–∑–Ω—ã–º–∏ —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—è–º–∏
const bird = applyMixin({ name: '–û—Ä–µ–ª' }, CanFly);
log(bird.fly());

const fish = applyMixin({ name: '–õ–æ—Å–æ—Å—å' }, CanSwim);
log(fish.swim());

const duck = applyMixin({ name: '–£—Ç–∫–∞' }, CanFly, CanSwim, CanWalk);
log(duck.fly());
log(duck.swim());
log(duck.walk());

// === COMPOSITION ===
const h2_2 = document.createElement('h2');
h2_2.textContent = '2. –ö–æ–º–ø–æ–∑–∏—Ü–∏—è (Composition)';
h2_2.style.marginTop = '30px';
document.body.appendChild(h2_2);

// –§–∞–±—Ä–∏–∫–∏ —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–µ–π
const withFlying = (state) => ({
  fly: () => `${state.name} –ª–µ—Ç–∏—Ç –Ω–∞ –≤—ã—Å–æ—Ç–µ ${state.altitude || 100}–º ‚úàÔ∏è`
});

const withSwimming = (state) => ({
  swim: () => `${state.name} –Ω—ã—Ä—è–µ—Ç –Ω–∞ –≥–ª—É–±–∏–Ω—É ${state.depth || 10}–º üèä`
});

const withShooting = (state) => ({
  shoot: () => `${state.name} —Å—Ç—Ä–µ–ª—è–µ—Ç –ø–∞—É—Ç–∏–Ω–æ–π üï∑Ô∏è`
});

// –°–æ–∑–¥–∞–µ–º –æ–±—ä–µ–∫—Ç —á–µ—Ä–µ–∑ –∫–æ–º–ø–æ–∑–∏—Ü–∏—é
const createSuperhero = (name, altitude, depth) => {
  const state = { name, altitude, depth };
  
  return Object.assign(
    {},
    state,
    withFlying(state),
    withSwimming(state),
    withShooting(state)
  );
};

const spiderman = createSuperhero('–ß–µ–ª–æ–≤–µ–∫-–ø–∞—É–∫', 50, 5);
log(spiderman.fly());
log(spiderman.swim());
log(spiderman.shoot());

// === –ü–†–ê–ö–¢–ò–ß–ï–°–ö–ò–ô –ü–†–ò–ú–ï–† ===
const h2_3 = document.createElement('h2');
h2_3.textContent = '3. –ü—Ä–∞–∫—Ç–∏–∫–∞: –°–∏—Å—Ç–µ–º–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö –ø—Ä–∞–≤';
h2_3.style.marginTop = '30px';
document.body.appendChild(h2_3);

// –ú–∏–∫—Å–∏–Ω—ã –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞
const CanRead = {
  read(resource) {
    return `üìñ –ß—Ç–µ–Ω–∏–µ ${resource}`;
  }
};

const CanWrite = {
  write(resource) {
    return `‚úçÔ∏è –ó–∞–ø–∏—Å—å –≤ ${resource}`;
  }
};

const CanDelete = {
  delete(resource) {
    return `üóëÔ∏è –£–¥–∞–ª–µ–Ω–∏–µ ${resource}`;
  }
};

// –°–æ–∑–¥–∞–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —Å —Ä–∞–∑–Ω—ã–º–∏ –ø—Ä–∞–≤–∞–º–∏
const viewer = applyMixin({ name: '–ì–æ—Å—Ç—å' }, CanRead);
const editor = applyMixin({ name: '–†–µ–¥–∞–∫—Ç–æ—Ä' }, CanRead, CanWrite);
const admin = applyMixin({ name: '–ê–¥–º–∏–Ω' }, CanRead, CanWrite, CanDelete);

log(`${viewer.name}: ${viewer.read('–¥–æ–∫—É–º–µ–Ω—Ç')}`);

log(`${editor.name}: ${editor.read('–¥–æ–∫—É–º–µ–Ω—Ç')}, ${editor.write('–¥–æ–∫—É–º–µ–Ω—Ç')}`);

log(`${admin.name}: ${admin.read('—Ñ–∞–π–ª')}, ${admin.write('—Ñ–∞–π–ª')}, ${admin.delete('—Ñ–∞–π–ª')}`);

// –ò—Ç–æ–≥–∏
const summary = document.createElement('div');
summary.innerHTML = `
  <h3>–ò—Ç–æ–≥–∏:</h3>
  <ul>
    <li><strong>–ú–∏–∫—Å–∏–Ω—ã</strong> - –¥–æ–±–∞–≤–ª—è—é—Ç –º–µ—Ç–æ–¥—ã –≤ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –æ–±—ä–µ–∫—Ç—ã</li>
    <li><strong>–ö–æ–º–ø–æ–∑–∏—Ü–∏—è</strong> - —Å–æ–∑–¥–∞–µ—Ç –Ω–æ–≤—ã–µ –æ–±—ä–µ–∫—Ç—ã –∏–∑ —á–∞—Å—Ç–µ–π</li>
    <li>–û–±–µ —Ç–µ—Ö–Ω–∏–∫–∏ –ø–æ–º–æ–≥–∞—é—Ç –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–æ–¥</li>
    <li>–ú–∏–∫—Å–∏–Ω—ã –ø—Ä–æ—â–µ, –∫–æ–º–ø–æ–∑–∏—Ü–∏—è –±–æ–ª–µ–µ –≥–∏–±–∫–∞—è</li>
  </ul>
`;
summary.style.backgroundColor = '#e3f2fd';
summary.style.padding = '15px';
summary.style.borderRadius = '8px';
summary.style.marginTop = '20px';
document.body.appendChild(summary);
```

</Sandpack>
