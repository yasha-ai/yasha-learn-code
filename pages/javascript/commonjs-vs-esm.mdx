# JavaScript: –ú–æ–∑–≥–∏. –£—Ä–æ–∫ "CommonJS vs ESM"

–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –Ω–∞ —É—Ä–æ–∫, –ø–æ—Å–≤—è—â–µ–Ω–Ω—ã–π –º–æ–¥—É–ª—å–Ω—ã–º —Å–∏—Å—Ç–µ–º–∞–º JavaScript! –°–µ–≥–æ–¥–Ω—è –º—ã —Ä–∞–∑–±–µ—Ä–µ–º—Å—è —Å –¥–≤—É–º—è –æ—Å–Ω–æ–≤–Ω—ã–º–∏ –ø–æ–¥—Ö–æ–¥–∞–º–∏ –∫ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ –∫–æ–¥–∞: CommonJS –∏ ESM (ECMAScript Modules). –ü–æ–Ω–∏–º–∞–Ω–∏–µ —ç—Ç–∏—Ö —Å–∏—Å—Ç–µ–º –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω–æ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–º JavaScript.

## –ß—Ç–æ —Ç–∞–∫–æ–µ –º–æ–¥—É–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞?

–ü—Ä–µ–¥—Å—Ç–∞–≤—å—Ç–µ, —á—Ç–æ —É –≤–∞—Å –µ—Å—Ç—å –æ–≥—Ä–æ–º–Ω–∞—è –∫—É—á–∞ LEGO. –ú–æ–¥—É–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ - —ç—Ç–æ —Å–ø–æ—Å–æ–± —Ä–∞—Å—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å —ç—Ç–∏ LEGO –ø–æ –∫–æ—Ä–æ–±–∫–∞–º, —á—Ç–æ–±—ã –ø–æ—Ç–æ–º –ª–µ–≥–∫–æ –Ω–∞–π—Ç–∏ –Ω—É–∂–Ω—ã–µ –¥–µ—Ç–∞–ª–∏ –∏ —Å–æ–±—Ä–∞—Ç—å —á—Ç–æ-—Ç–æ —Å–ª–æ–∂–Ω–æ–µ. –í JavaScript –º–æ–¥—É–ª–∏ –ø–æ–∑–≤–æ–ª—è—é—Ç —Ä–∞–∑–¥–µ–ª—è—Ç—å –∫–æ–¥ –Ω–∞ –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã–µ —á–∞—Å—Ç–∏, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–∂–Ω–æ –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∏ –∫–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞—Ç—å.

## CommonJS

CommonJS - —ç—Ç–æ —Å—Ç–∞—Ä–∞—è –º–æ–¥—É–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞, –∏–∑–Ω–∞—á–∞–ª—å–Ω–æ —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω–Ω–∞—è –¥–ª—è Node.js (—Å–µ—Ä–≤–µ—Ä–Ω—ã–π JavaScript). –û–Ω–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ñ—É–Ω–∫—Ü–∏–∏ `require` –¥–ª—è –∏–º–ø–æ—Ä—Ç–∞ –º–æ–¥—É–ª–µ–π –∏ `module.exports` –¥–ª—è –∏—Ö —ç–∫—Å–ø–æ—Ä—Ç–∞.

```javascript
// moduleA.js (—ç–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç –º–æ–¥—É–ª—å)
const greeting = "–ü—Ä–∏–≤–µ—Ç!";

function sayHello(name) {
  return `${greeting} ${name}!`;
}

module.exports = {
  sayHello: sayHello
};

// moduleB.js (–∏–º–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç –º–æ–¥—É–ª—å)
const moduleA = require('./moduleA');

console.log(moduleA.sayHello("–ú–∏—Ä")); // –í—ã–≤–µ–¥–µ—Ç: –ü—Ä–∏–≤–µ—Ç! –ú–∏—Ä!
```

–ó–¥–µ—Å—å `moduleA.js` —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç —Ñ—É–Ω–∫—Ü–∏—é `sayHello`, –∞ `moduleB.js` –∏–º–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç –µ–µ —Å –ø–æ–º–æ—â—å—é `require`.  –û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ –Ω–∞ `./moduleA` - —ç—Ç–æ –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã–π –ø—É—Ç—å –∫ —Ñ–∞–π–ª—É.

## ESM (ECMAScript Modules)

ESM - —ç—Ç–æ –±–æ–ª–µ–µ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–∞—è –º–æ–¥—É–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞, –∫–æ—Ç–æ—Ä–∞—è —è–≤–ª—è–µ—Ç—Å—è —á–∞—Å—Ç—å—é —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∞ JavaScript (ECMAScript). –û–Ω–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∫–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞ `import` –∏ `export`.

```javascript
// moduleA.js (—ç–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç –º–æ–¥—É–ª—å)
const greeting = "–ü—Ä–∏–≤–µ—Ç!";

export function sayHello(name) {
  return `${greeting} ${name}!`;
}

// moduleB.js (–∏–º–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç –º–æ–¥—É–ª—å)
import { sayHello } from './moduleA.js';

console.log(sayHello("–ú–∏—Ä")); // –í—ã–≤–µ–¥–µ—Ç: –ü—Ä–∏–≤–µ—Ç! –ú–∏—Ä!
```

–í —ç—Ç–æ–º –ø—Ä–∏–º–µ—Ä–µ `moduleA.js` —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç —Ñ—É–Ω–∫—Ü–∏—é `sayHello` —Å –ø–æ–º–æ—â—å—é `export`, –∞ `moduleB.js` –∏–º–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç –µ–µ —Å –ø–æ–º–æ—â—å—é `import { sayHello } from './moduleA.js'`. –í–∞–∂–Ω–æ –æ—Ç–º–µ—Ç–∏—Ç—å, —á—Ç–æ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ `.js` –≤ –ø—É—Ç–∏ –∫ —Ñ–∞–π–ª—É —Ç–µ–ø–µ—Ä—å –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ.

### –†–∞–∑–ª–∏—á–∏—è –º–µ–∂–¥—É CommonJS –∏ ESM

*   **–°–∏–Ω—Ç–∞–∫—Å–∏—Å:** `require/module.exports` (CommonJS) vs `import/export` (ESM).
*   **–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç—å:** ESM - –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π (–¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π) –∏–º–ø–æ—Ä—Ç, CommonJS - —Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π. –≠—Ç–æ –∑–Ω–∞—á–∏—Ç, —á—Ç–æ ESM –º–æ–∂–µ—Ç –∑–∞–≥—Ä—É–∂–∞—Ç—å –º–æ–¥—É–ª–∏ –ø–æ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—é, —á—Ç–æ –º–æ–∂–µ—Ç —É–ª—É—á—à–∏—Ç—å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å.
*   **–ü–æ–¥–¥–µ—Ä–∂–∫–∞:** CommonJS —Ö–æ—Ä–æ—à–æ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è –≤ Node.js, –Ω–æ —Ç—Ä–µ–±—É–µ—Ç —Ç—Ä–∞–Ω—Å–ø–∏–ª—è—Ü–∏–∏ (–ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è –∫–æ–¥–∞) –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ –±—Ä–∞—É–∑–µ—Ä–∞—Ö. ESM –Ω–∞—Ç–∏–≤–Ω–æ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –±—Ä–∞—É–∑–µ—Ä–∞–º–∏, –Ω–æ —Ç—Ä–µ–±—É–µ—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤ Node.js.

## –ñ–∏–∑–Ω–µ–Ω–Ω—ã–π –ø—Ä–∏–º–µ—Ä

–í —Ä–µ–∞–ª—å–Ω—ã—Ö –ø—Ä–æ–µ–∫—Ç–∞—Ö –≤—ã —á–∞—Å—Ç–æ —É–≤–∏–¥–∏—Ç–µ –æ–±–∞ –ø–æ–¥—Ö–æ–¥–∞.

*   **Node.js:** –ú–Ω–æ–≥–∏–µ —Å—Ç–∞—Ä—ã–µ –ø—Ä–æ–µ–∫—Ç—ã –≤—Å–µ –µ—â–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç CommonJS. –ù–æ–≤—ã–µ –ø—Ä–æ–µ–∫—Ç—ã, –∫–∞–∫ –ø—Ä–∞–≤–∏–ª–æ, –ø–µ—Ä–µ—Ö–æ–¥—è—Ç –Ω–∞ ESM.
*   **React/Vue/Angular:** –≠—Ç–∏ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∏ –∞–∫—Ç–∏–≤–Ω–æ –∏—Å–ø–æ–ª—å–∑—É—é—Ç ESM –¥–ª—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ –∫–æ–¥–∞.  –ù–∞–ø—Ä–∏–º–µ—Ä, –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –≤ React –≤—ã –ø–æ—á—Ç–∏ –≤—Å–µ–≥–¥–∞ –±—É–¥–µ—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `import` –∏ `export`.
*   **Webpack/Parcel/Rollup:** –≠—Ç–∏ —Å–±–æ—Ä—â–∏–∫–∏ –º–æ–¥—É–ª–µ–π (bundlers) –ø–æ–∑–≤–æ–ª—è—é—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∏ CommonJS, –∏ ESM, –ø—Ä–µ–æ–±—Ä–∞–∑—É—è –∏—Ö –≤ –∫–æ–¥, –ø–æ–Ω—è—Ç–Ω—ã–π –±—Ä–∞—É–∑–µ—Ä–∞–º.

–ù–∞–ø—Ä–∏–º–µ—Ä, –≤ React:

```javascript
// MyComponent.jsx
import React from 'react';

function MyComponent() {
  return (
    <h1>–ü—Ä–∏–≤–µ—Ç, –º–∏—Ä!</h1>
  );
}

export default MyComponent;
```

## –ö–ª—é—á–µ–≤—ã–µ –º–æ–º–µ–Ω—Ç—ã

*   CommonJS –∏ ESM - —ç—Ç–æ –¥–≤–µ –æ—Å–Ω–æ–≤–Ω—ã–µ —Å–∏—Å—Ç–µ–º—ã –º–æ–¥—É–ª–µ–π –≤ JavaScript.
*   CommonJS –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `require` –∏ `module.exports`.
*   ESM –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `import` –∏ `export`.
*   ESM —è–≤–ª—è–µ—Ç—Å—è –±–æ–ª–µ–µ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–º –∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è –Ω–∞—Ç–∏–≤–Ω–æ –≤ –±—Ä–∞—É–∑–µ—Ä–∞—Ö.
*   –°–±–æ—Ä—â–∏–∫–∏ –º–æ–¥—É–ª–µ–π (Webpack, Parcel, Rollup) –ø–æ–º–æ–≥–∞—é—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–±–µ —Å–∏—Å—Ç–µ–º—ã.
*   –ü–æ–Ω–∏–º–∞–Ω–∏–µ –º–æ–¥—É–ª—å–Ω—ã—Ö —Å–∏—Å—Ç–µ–º –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω–æ –¥–ª—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ –∏ –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∫–æ–¥–∞.

### –ü—Ä–∞–∫—Ç–∏–∫–∞

–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø—Ä–∏–º–µ—Ä—ã –≤ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–º —Ä–µ–¥–∞–∫—Ç–æ—Ä–µ:

import { Sandpack } from "@codesandbox/sandpack-react";

<Sandpack
  template="vanilla"
  files={{
    "/index.js": `// –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è —Ä–∞–∑–ª–∏—á–∏–π CommonJS vs ESM
// –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ: –≤ –±—Ä–∞—É–∑–µ—Ä–µ –º—ã —Å–∏–º—É–ª–∏—Ä—É–µ–º –º–æ–¥—É–ª—å–Ω—ã–µ —Å–∏—Å—Ç–µ–º—ã

const output = document.getElementById('output');

// ========== COMMONJS (—Å–∏–º—É–ª—è—Ü–∏—è) ==========
function showCommonJS() {
  output.innerHTML = \`
    <div class="demo commonjs">
      <h3>üì¶ CommonJS (Node.js)</h3>
      
      <div class="code-section">
        <h4>–≠–∫—Å–ø–æ—Ä—Ç (module.exports):</h4>
        <pre><code>// greeting.js
const greeting = "–ü—Ä–∏–≤–µ—Ç!";

function sayHello(name) {
  return \\\`\\\${greeting} \\\${name}!\\\`;
}

module.exports = {
  sayHello: sayHello
};

// –ò–ª–∏ –∫–æ—Ä–æ—á–µ:
module.exports = { sayHello };</code></pre>
      </div>

      <div class="code-section">
        <h4>–ò–º–ø–æ—Ä—Ç (require):</h4>
        <pre><code>// app.js
const greeting = require('./greeting');

console.log(greeting.sayHello("–ú–∏—Ä"));
// –í—ã–≤–æ–¥: –ü—Ä–∏–≤–µ—Ç! –ú–∏—Ä!

// –î–µ—Å—Ç—Ä—É–∫—Ç—É—Ä–∏–∑–∞—Ü–∏—è:
const { sayHello } = require('./greeting');
console.log(sayHello("Node.js"));</code></pre>
      </div>

      <div class="features">
        <h4>–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:</h4>
        <ul>
          <li>‚úÖ –°–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞</li>
          <li>‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ Node.js</li>
          <li>‚úÖ –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π –∏–º–ø–æ—Ä—Ç –≤ runtime</li>
          <li>‚ùå –ù–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ –±—Ä–∞—É–∑–µ—Ä–µ –±–µ–∑ —Ç—Ä–∞–Ω—Å–ø–∏–ª—è—Ü–∏–∏</li>
        </ul>
      </div>
    </div>
  \`;
}

// ========== ESM (—Å–∏–º—É–ª—è—Ü–∏—è) ==========
function showESM() {
  output.innerHTML = \`
    <div class="demo esm">
      <h3>üéØ ESM (ECMAScript Modules)</h3>
      
      <div class="code-section">
        <h4>–≠–∫—Å–ø–æ—Ä—Ç (export):</h4>
        <pre><code>// greeting.js
const greeting = "–ü—Ä–∏–≤–µ—Ç!";

export function sayHello(name) {
  return \\\`\\\${greeting} \\\${name}!\\\`;
}

// –≠–∫—Å–ø–æ—Ä—Ç –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é:
export default function sayHello(name) {
  return \\\`\\\${greeting} \\\${name}!\\\`;
}</code></pre>
      </div>

      <div class="code-section">
        <h4>–ò–º–ø–æ—Ä—Ç (import):</h4>
        <pre><code>// app.js
import { sayHello } from './greeting.js';

console.log(sayHello("–ú–∏—Ä"));
// –í—ã–≤–æ–¥: –ü—Ä–∏–≤–µ—Ç! –ú–∏—Ä!

// –ò–º–ø–æ—Ä—Ç –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é:
import sayHello from './greeting.js';

// –ò–º–ø–æ—Ä—Ç –≤—Å–µ–≥–æ:
import * as greeting from './greeting.js';</code></pre>
      </div>

      <div class="features">
        <h4>–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:</h4>
        <ul>
          <li>‚úÖ –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞</li>
          <li>‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç –≤ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –±—Ä–∞—É–∑–µ—Ä–∞—Ö</li>
          <li>‚úÖ –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑ (tree-shaking)</li>
          <li>‚úÖ –°—Ç–∞–Ω–¥–∞—Ä—Ç ES6+</li>
        </ul>
      </div>
    </div>
  \`;
}

// ========== –°–†–ê–í–ù–ï–ù–ò–ï ==========
function showComparison() {
  output.innerHTML = \`
    <div class="demo comparison">
      <h3>‚öñÔ∏è –°—Ä–∞–≤–Ω–µ–Ω–∏–µ</h3>
      
      <table>
        <thead>
          <tr>
            <th>–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞</th>
            <th>CommonJS</th>
            <th>ESM</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td><strong>–°–∏–Ω—Ç–∞–∫—Å–∏—Å –∏–º–ø–æ—Ä—Ç–∞</strong></td>
            <td><code>require()</code></td>
            <td><code>import</code></td>
          </tr>
          <tr>
            <td><strong>–°–∏–Ω—Ç–∞–∫—Å–∏—Å —ç–∫—Å–ø–æ—Ä—Ç–∞</strong></td>
            <td><code>module.exports</code></td>
            <td><code>export</code></td>
          </tr>
          <tr>
            <td><strong>–ó–∞–≥—Ä—É–∑–∫–∞</strong></td>
            <td>–°–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è</td>
            <td>–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è</td>
          </tr>
          <tr>
            <td><strong>–ì–¥–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è</strong></td>
            <td>Node.js (—Å—Ç–∞—Ä—ã–µ –ø—Ä–æ–µ–∫—Ç—ã)</td>
            <td>–ë—Ä–∞—É–∑–µ—Ä—ã, Node.js (–Ω–æ–≤—ã–µ)</td>
          </tr>
          <tr>
            <td><strong>Tree-shaking</strong></td>
            <td>‚ùå –ù–µ—Ç</td>
            <td>‚úÖ –ï—Å—Ç—å</td>
          </tr>
          <tr>
            <td><strong>–î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π –∏–º–ø–æ—Ä—Ç</strong></td>
            <td>‚úÖ –í–µ–∑–¥–µ</td>
            <td>‚úÖ import()</td>
          </tr>
          <tr>
            <td><strong>–°—Ç–∞–Ω–¥–∞—Ä—Ç</strong></td>
            <td>‚ùå –ù–µ—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π</td>
            <td>‚úÖ ES6+</td>
          </tr>
        </tbody>
      </table>

      <div class="recommendation">
        <h4>üí° –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:</h4>
        <p>–î–ª—è –Ω–æ–≤—ã—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ <strong>ESM</strong> - —ç—Ç–æ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π —Å—Ç–∞–Ω–¥–∞—Ä—Ç —Å –ª—É—á—à–µ–π –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤.</p>
        <p>CommonJS –≤—Å–µ –µ—â–µ –≤—Å—Ç—Ä–µ—á–∞–µ—Ç—Å—è –≤ —Å—Ç–∞—Ä—ã—Ö Node.js –ø—Ä–æ–µ–∫—Ç–∞—Ö –∏ –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö npm –ø–∞–∫–µ—Ç–∞—Ö.</p>
      </div>
    </div>
  \`;
}

// ========== –ü–†–ê–ö–¢–ò–ß–ï–°–ö–ò–ô –ü–†–ò–ú–ï–† ==========
function showPractical() {
  // –°–∏–º—É–ª–∏—Ä—É–µ–º —Ä–∞–±–æ—Ç—É –º–æ–¥—É–ª–µ–π
  
  // "–ú–æ–¥—É–ª—å" –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä–∞
  const calculator = {
    add: (a, b) => a + b,
    subtract: (a, b) => a - b,
    multiply: (a, b) => a * b,
    divide: (a, b) => b !== 0 ? a / b : '–û—à–∏–±–∫–∞: –¥–µ–ª–µ–Ω–∏–µ –Ω–∞ 0'
  };
  
  // –ò—Å–ø–æ–ª—å–∑—É–µ–º "–º–æ–¥—É–ª—å"
  const results = {
    add: calculator.add(10, 5),
    subtract: calculator.subtract(10, 5),
    multiply: calculator.multiply(10, 5),
    divide: calculator.divide(10, 5)
  };
  
  output.innerHTML = \`
    <div class="demo practical">
      <h3>üíª –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–π –ø—Ä–∏–º–µ—Ä</h3>
      
      <div class="code-section">
        <h4>–ú–æ–¥—É–ª—å "calculator":</h4>
        <pre><code>// calculator.js (ESM)
export const add = (a, b) => a + b;
export const subtract = (a, b) => a - b;
export const multiply = (a, b) => a * b;
export const divide = (a, b) => b !== 0 ? a / b : 'Error';

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:
import { add, multiply } from './calculator.js';
console.log(add(10, 5));      // 15
console.log(multiply(10, 5)); // 50</code></pre>
      </div>

      <div class="result-box">
        <h4>–†–µ–∑—É–ª—å—Ç–∞—Ç—ã –≤—ã—á–∏—Å–ª–µ–Ω–∏–π:</h4>
        <p>10 + 5 = <strong>\${results.add}</strong></p>
        <p>10 - 5 = <strong>\${results.subtract}</strong></p>
        <p>10 √ó 5 = <strong>\${results.multiply}</strong></p>
        <p>10 √∑ 5 = <strong>\${results.divide}</strong></p>
      </div>
    </div>
  \`;
}

// –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏
document.getElementById('cjsBtn').addEventListener('click', showCommonJS);
document.getElementById('esmBtn').addEventListener('click', showESM);
document.getElementById('compareBtn').addEventListener('click', showComparison);
document.getElementById('practicalBtn').addEventListener('click', showPractical);

// –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
showComparison();`,
    "/index.html": `<!DOCTYPE html>
<html>
<head>
  <style>
    body {
      font-family: 'Consolas', 'Monaco', monospace;
      padding: 20px;
      background: #1e1e1e;
      color: #d4d4d4;
    }
    .container {
      max-width: 900px;
      margin: 0 auto;
      background: #252526;
      padding: 30px;
      border-radius: 12px;
      box-shadow: 0 10px 40px rgba(0,0,0,0.5);
    }
    h2 {
      color: #4ec9b0;
      margin-top: 0;
    }
    .tabs {
      display: flex;
      gap: 10px;
      margin: 20px 0;
    }
    .tabs button {
      flex: 1;
      padding: 12px;
      background: #0e639c;
      color: white;
      border: none;
      border-radius: 6px;
      cursor: pointer;
      font-size: 14px;
      transition: all 0.3s;
    }
    .tabs button:hover {
      background: #1177bb;
      transform: translateY(-2px);
    }
    .demo h3 {
      margin-top: 0;
    }
    .commonjs h3 { color: #ce9178; }
    .esm h3 { color: #4ec9b0; }
    .comparison h3 { color: #dcdcaa; }
    .practical h3 { color: #569cd6; }
    
    .code-section {
      margin: 20px 0;
    }
    .code-section h4 {
      color: #4ec9b0;
      margin-bottom: 10px;
    }
    pre {
      background: #1e1e1e;
      padding: 15px;
      border-radius: 6px;
      overflow-x: auto;
      border: 1px solid #3c3c3c;
    }
    code {
      font-size: 13px;
      line-height: 1.6;
    }
    table {
      width: 100%;
      border-collapse: collapse;
      margin: 20px 0;
    }
    th, td {
      padding: 12px;
      text-align: left;
      border-bottom: 1px solid #3c3c3c;
    }
    th {
      background: #1e1e1e;
      color: #4ec9b0;
      font-weight: bold;
    }
    tr:hover {
      background: #2d2d30;
    }
    .features ul {
      list-style: none;
      padding: 0;
    }
    .features li {
      padding: 8px;
      margin: 5px 0;
      background: #1e1e1e;
      border-radius: 4px;
    }
    .recommendation {
      background: rgba(78, 201, 176, 0.1);
      padding: 15px;
      border-radius: 8px;
      border-left: 4px solid #4ec9b0;
      margin-top: 20px;
    }
    .recommendation h4 {
      color: #4ec9b0;
      margin-top: 0;
    }
    .result-box {
      background: #1e1e1e;
      padding: 15px;
      border-radius: 8px;
      margin: 15px 0;
    }
    .result-box h4 {
      color: #4ec9b0;
      margin-top: 0;
    }
    .result-box p {
      margin: 8px 0;
      font-size: 16px;
    }
    .result-box strong {
      color: #4ec9b0;
    }
  </style>
</head>
<body>
  <div class="container">
    <h2>üì¶ CommonJS vs ESM</h2>
    <div class="tabs">
      <button id="cjsBtn">CommonJS</button>
      <button id="esmBtn">ESM</button>
      <button id="compareBtn">–°—Ä–∞–≤–Ω–µ–Ω–∏–µ</button>
      <button id="practicalBtn">–ü—Ä–∞–∫—Ç–∏–∫–∞</button>
    </div>
    <div id="output"></div>
  </div>
  <script src="/index.js"></script>
</body>
</html>`
  }}
  options={{
    showNavigator: false,
    showLineNumbers: true,
    editorHeight: 550
  }}
/>
